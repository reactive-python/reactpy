<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="It's React, but in Python."><meta name=author content=Archmonger><link href=https://reactive-python.github.io/reactpy/learn/reacting-to-input-with-state/ rel=canonical><link href=../updating-arrays-in-state/ rel=prev><link href=../choosing-the-state-structure/ rel=next><link rel=icon href=https://raw.githubusercontent.com/reactive-python/reactpy/main/branding/svg/reactpy-logo-square.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.4.0"><title>Reacting to Input with State 🚧 - ReactPy</title><link rel=stylesheet href=../../assets/stylesheets/main.9f615399.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.649f08f9.min.css><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h224V368c0-26.5 21.5-48 48-48h112V96c0-35.3-28.7-64-64-64H64zm384 320H336c-8.8 0-16 7.2-16 16v112l32-32 64-64 32-32z"/></svg>');}</style><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../assets/_mkdocstrings.css><link rel=stylesheet href=../../assets/css/main.css><link rel=stylesheet href=../../assets/css/button.css><link rel=stylesheet href=../../assets/css/admonition.css><link rel=stylesheet href=../../assets/css/banner.css><link rel=stylesheet href=../../assets/css/sidebar.css><link rel=stylesheet href=../../assets/css/navbar.css><link rel=stylesheet href=../../assets/css/table-of-contents.css><link rel=stylesheet href=../../assets/css/code.css><link rel=stylesheet href=../../assets/css/footer.css><link rel=stylesheet href=../../assets/css/home.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=red data-md-color-accent=red> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#overview class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest release. <a href=../../..> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title=ReactPy class="md-header__button md-logo" aria-label=ReactPy data-md-component=logo> <img src=https://raw.githubusercontent.com/reactive-python/reactpy/main/branding/svg/reactpy-logo-square.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ReactPy </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Reacting to Input with State 🚧 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=red data-md-color-accent=red aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m3.55 19.09 1.41 1.41 1.8-1.79-1.42-1.42M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6c0-3.32-2.69-6-6-6m8 7h3v-2h-3m-2.76 7.71 1.8 1.79 1.41-1.41-1.79-1.8M20.45 5l-1.41-1.4-1.8 1.79 1.42 1.42M13 1h-2v3h2M6.76 5.39 4.96 3.6 3.55 5l1.79 1.81 1.42-1.42M1 13h3v-2H1m12 9h-2v3h2"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=red aria-label="Switch to dark mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/reactive-python/reactpy title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> ReactPy </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../quick-start/ class=md-tabs__link> Get Started </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../your-first-component/ class=md-tabs__link> Learn </a> </li> <li class=md-tabs__item> <a href=../../reference/overview/ class=md-tabs__link> Reference </a> </li> <li class=md-tabs__item> <a href=../../about/changelog/ class=md-tabs__link> About </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=ReactPy class="md-nav__button md-logo" aria-label=ReactPy data-md-component=logo> <img src=https://raw.githubusercontent.com/reactive-python/reactpy/main/branding/svg/reactpy-logo-square.svg alt=logo> </a> ReactPy </label> <div class=md-nav__source> <a href=https://github.com/reactive-python/reactpy title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> ReactPy </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Get Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Get Started </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1> <label class=md-nav__link for=__nav_2_1 id=__nav_2_1_label tabindex=0> <span class=md-ellipsis> Quick Start </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> Quick Start </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../quick-start/ class=md-nav__link> <span class=md-ellipsis> Quick start </span> </a> </li> <li class=md-nav__item> <a href=../tutorial-tic-tac-toe/ class=md-nav__link> <span class=md-ellipsis> Tutorial: Tic-Tac-Toe 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../thinking-in-react/ class=md-nav__link> <span class=md-ellipsis> Thinking in React </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> Installation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Installation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../creating-a-react-app/ class=md-nav__link> <span class=md-ellipsis> Creating a Standalone React App </span> </a> </li> <li class=md-nav__item> <a href=../add-react-to-an-existing-project/ class=md-nav__link> <span class=md-ellipsis> Add React to an Existing Project </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class=md-ellipsis> Setup </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../editor-setup/ class=md-nav__link> <span class=md-ellipsis> Editor Setup </span> </a> </li> <li class=md-nav__item> <a href=../extra-tools-and-packages/ class=md-nav__link> <span class=md-ellipsis> Tools, Modules, and Packages 🚧 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Learn </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Learn </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> Describing the UI </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> Describing the UI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../your-first-component/ class=md-nav__link> <span class=md-ellipsis> Your First Component 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../importing-and-exporting-components/ class=md-nav__link> <span class=md-ellipsis> Importing and Exporting Components 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../passing-props-to-a-component/ class=md-nav__link> <span class=md-ellipsis> Passing Props to a Component 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../conditional-rendering/ class=md-nav__link> <span class=md-ellipsis> Conditional Rendering 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../rendering-lists/ class=md-nav__link> <span class=md-ellipsis> Rendering Lists 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../keeping-components-pure/ class=md-nav__link> <span class=md-ellipsis> Keeping Components Pure 🚧 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> Adding Interactivity </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Adding Interactivity </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../responding-to-events/ class=md-nav__link> <span class=md-ellipsis> Responding to Events 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../state-a-components-memory/ class=md-nav__link> <span class=md-ellipsis> State: A Component's Memory 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../render-and-commit/ class=md-nav__link> <span class=md-ellipsis> Render and Commit 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../state-as-a-snapshot/ class=md-nav__link> <span class=md-ellipsis> State as a Snapshot 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../queueing-a-series-of-state-updates/ class=md-nav__link> <span class=md-ellipsis> Queueing a Series of State Updates 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../updating-objects-in-state/ class=md-nav__link> <span class=md-ellipsis> Updating Objects in State 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../updating-arrays-in-state/ class=md-nav__link> <span class=md-ellipsis> Updating Arrays in State 🚧 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3 checked> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class=md-ellipsis> Managing State </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Managing State </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Reacting to Input with State 🚧 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Reacting to Input with State 🚧 </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=#how-declarative-ui-compares-to-imperative class=md-nav__link> How declarative UI compares to imperative </a> </li> <li class=md-nav__item> <a href=#thinking-about-ui-declaratively class=md-nav__link> Thinking about UI declaratively </a> <nav class=md-nav aria-label="Thinking about UI declaratively"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#step-1-identify-your-components-different-visual-states class=md-nav__link> Step 1: Identify your component's different visual states </a> <nav class=md-nav aria-label="Step 1: Identify your component's different visual states"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#displaying-many-visual-states-at-once class=md-nav__link> Displaying many visual states at once </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#step-2-determine-what-triggers-those-state-changes class=md-nav__link> Step 2: Determine what triggers those state changes </a> </li> <li class=md-nav__item> <a href=#step-3-represent-the-state-in-memory-with-usestate class=md-nav__link> Step 3: Represent the state in memory with useState </a> </li> <li class=md-nav__item> <a href=#step-4-remove-any-non-essential-state-variables class=md-nav__link> Step 4: Remove any non-essential state variables </a> <nav class=md-nav aria-label="Step 4: Remove any non-essential state variables"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#eliminating-impossible-states-with-a-reducer class=md-nav__link> Eliminating “impossible” states with a reducer </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#step-5-connect-the-event-handlers-to-set-state class=md-nav__link> Step 5: Connect the event handlers to set state </a> <nav class=md-nav aria-label="Step 5: Connect the event handlers to set state"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#add-and-remove-a-css-class class=md-nav__link> Add and remove a CSS class </a> </li> <li class=md-nav__item> <a href=#profile-editor class=md-nav__link> Profile editor </a> </li> <li class=md-nav__item> <a href=#refactor-the-imperative-solution-without-react class=md-nav__link> Refactor the imperative solution without React </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../choosing-the-state-structure/ class=md-nav__link> <span class=md-ellipsis> Choosing the State Structure 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../sharing-state-between-components/ class=md-nav__link> <span class=md-ellipsis> Sharing State Between Components 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../preserving-and-resetting-state/ class=md-nav__link> <span class=md-ellipsis> Preserving and Resetting State 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../extracting-state-logic-into-a-reducer/ class=md-nav__link> <span class=md-ellipsis> Extracting State Logic into a Reducer 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../passing-data-deeply-with-context/ class=md-nav__link> <span class=md-ellipsis> Passing Data Deeply with Context 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../scaling-up-with-reducer-and-context/ class=md-nav__link> <span class=md-ellipsis> Scaling Up with Reducer and Context 🚧 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex=0> <span class=md-ellipsis> Escape Hatches </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Escape Hatches </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../referencing-values-with-refs/ class=md-nav__link> <span class=md-ellipsis> Referencing Values with Refs 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../manipulating-the-dom-with-refs/ class=md-nav__link> <span class=md-ellipsis> Manipulating the DOM with Refs 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../synchronizing-with-effects/ class=md-nav__link> <span class=md-ellipsis> Synchronizing with Effects 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../you-might-not-need-an-effect/ class=md-nav__link> <span class=md-ellipsis> You Might Not Need an Effect 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../lifecycle-of-reactive-effects/ class=md-nav__link> <span class=md-ellipsis> Lifecycle of Reactive Effects 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../separating-events-from-effects/ class=md-nav__link> <span class=md-ellipsis> Separating Events from Effects 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../removing-effect-dependencies/ class=md-nav__link> <span class=md-ellipsis> Removing Effect Dependencies 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../reusing-logic-with-custom-hooks/ class=md-nav__link> <span class=md-ellipsis> Reusing Logic with Custom Hooks 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../communicate-data-between-server-and-client/ class=md-nav__link> <span class=md-ellipsis> Communicating Data Between Server and Client 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../convert-between-vdom-and-html/ class=md-nav__link> <span class=md-ellipsis> Convert Between VDOM and HTML 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../vdom-mutations/ class=md-nav__link> <span class=md-ellipsis> VDOM Mutations 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../creating-vdom-event-handlers/ class=md-nav__link> <span class=md-ellipsis> Creating VDOM Event Handlers 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../creating-html-tags/ class=md-nav__link> <span class=md-ellipsis> Creating HTML Tags 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../creating-backends/ class=md-nav__link> <span class=md-ellipsis> Creating Backends 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../manually-register-a-client/ class=md-nav__link> <span class=md-ellipsis> Manually Register a Client 🚧 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> Hooks </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Hooks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/use-state/ class=md-nav__link> <span class=md-ellipsis> Use State 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-effect/ class=md-nav__link> <span class=md-ellipsis> Use Effect 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-async-effect/ class=md-nav__link> <span class=md-ellipsis> Use Async Effect 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-context/ class=md-nav__link> <span class=md-ellipsis> Use Context 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-reducer/ class=md-nav__link> <span class=md-ellipsis> Use Reducer 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-callback/ class=md-nav__link> <span class=md-ellipsis> Use Callback 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-memo/ class=md-nav__link> <span class=md-ellipsis> Use Memo 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-ref/ class=md-nav__link> <span class=md-ellipsis> Use Ref 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-debug-value/ class=md-nav__link> <span class=md-ellipsis> Use Debug Value 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-connection/ class=md-nav__link> <span class=md-ellipsis> Use Connection 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-scope/ class=md-nav__link> <span class=md-ellipsis> Use Scope 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-location/ class=md-nav__link> <span class=md-ellipsis> Use Location 🚧 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> HTML Tags </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> HTML Tags </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/common-props/ class=md-nav__link> <span class=md-ellipsis> Common Props 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../../reference/usage/ class=md-nav__link> <span class=md-ellipsis> Usage 🚧 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex=0> <span class=md-ellipsis> Executors </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Executors </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/reactpy/ class=md-nav__link> <span class=md-ellipsis> ReactPy </span> </a> </li> <li class=md-nav__item> <a href=../../reference/reactpy-csr/ class=md-nav__link> <span class=md-ellipsis> ReactPyCsr 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../../reference/reactpy-middleware/ class=md-nav__link> <span class=md-ellipsis> ReactPyMiddleware 🚧 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5 id=__nav_4_5_label tabindex=0> <span class=md-ellipsis> Rules of React </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> Rules of React </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/rules-of-react/ class=md-nav__link> <span class=md-ellipsis> Overview 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../../reference/components-and-hooks-must-be-pure/ class=md-nav__link> <span class=md-ellipsis> Components and Hooks must be pure 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../../reference/react-calls-components-and-hooks/ class=md-nav__link> <span class=md-ellipsis> React calls Components and Hooks 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../../reference/rules-of-hooks/ class=md-nav__link> <span class=md-ellipsis> Rules of Hooks 🚧 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../reference/protocol-structure/ class=md-nav__link> <span class=md-ellipsis> Protocol Structure 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../../reference/client-api/ class=md-nav__link> <span class=md-ellipsis> Client API 🚧 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> About </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> About </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../about/changelog/ class=md-nav__link> <span class=md-ellipsis> Changelog 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../../about/community/ class=md-nav__link> <span class=md-ellipsis> Community 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../../about/running-tests/ class=md-nav__link> <span class=md-ellipsis> Running Tests 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../../about/code/ class=md-nav__link> <span class=md-ellipsis> Contributing Code 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../../about/docs/ class=md-nav__link> <span class=md-ellipsis> Contributing Documentation 🚧 </span> </a> </li> <li class=md-nav__item> <a href=../../about/licenses/ class=md-nav__link> <span class=md-ellipsis> Licenses 🚧 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=#how-declarative-ui-compares-to-imperative class=md-nav__link> How declarative UI compares to imperative </a> </li> <li class=md-nav__item> <a href=#thinking-about-ui-declaratively class=md-nav__link> Thinking about UI declaratively </a> <nav class=md-nav aria-label="Thinking about UI declaratively"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#step-1-identify-your-components-different-visual-states class=md-nav__link> Step 1: Identify your component's different visual states </a> <nav class=md-nav aria-label="Step 1: Identify your component's different visual states"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#displaying-many-visual-states-at-once class=md-nav__link> Displaying many visual states at once </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#step-2-determine-what-triggers-those-state-changes class=md-nav__link> Step 2: Determine what triggers those state changes </a> </li> <li class=md-nav__item> <a href=#step-3-represent-the-state-in-memory-with-usestate class=md-nav__link> Step 3: Represent the state in memory with useState </a> </li> <li class=md-nav__item> <a href=#step-4-remove-any-non-essential-state-variables class=md-nav__link> Step 4: Remove any non-essential state variables </a> <nav class=md-nav aria-label="Step 4: Remove any non-essential state variables"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#eliminating-impossible-states-with-a-reducer class=md-nav__link> Eliminating “impossible” states with a reducer </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#step-5-connect-the-event-handlers-to-set-state class=md-nav__link> Step 5: Connect the event handlers to set state </a> <nav class=md-nav aria-label="Step 5: Connect the event handlers to set state"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#add-and-remove-a-css-class class=md-nav__link> Add and remove a CSS class </a> </li> <li class=md-nav__item> <a href=#profile-editor class=md-nav__link> Profile editor </a> </li> <li class=md-nav__item> <a href=#refactor-the-imperative-solution-without-react class=md-nav__link> Refactor the imperative solution without React </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>Reacting to Input with State 🚧</h1> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">&para;</a></h2> <p class=intro> React provides a declarative way to manipulate the UI. Instead of manipulating individual pieces of the UI directly, you describe the different states that your component can be in, and switch between them in response to the user input. This is similar to how designers think about the UI. </p> <div class="admonition summary"> <p class=admonition-title>You will learn</p> <ul> <li>How declarative UI programming differs from imperative UI programming</li> <li>How to enumerate the different visual states your component can be in</li> <li>How to trigger the changes between the different visual states from code</li> </ul> </div> <h2 id=how-declarative-ui-compares-to-imperative>How declarative UI compares to imperative<a class=headerlink href=#how-declarative-ui-compares-to-imperative title="Permanent link">&para;</a></h2> <p>When you design UI interactions, you probably think about how the UI <em>changes</em> in response to user actions. Consider a form that lets the user submit an answer:</p> <ul> <li>When you type something into the form, the "Submit" button <strong>becomes enabled.</strong></li> <li>When you press "Submit", both the form and the button <strong>become disabled,</strong> and a spinner <strong>appears.</strong></li> <li>If the network request succeeds, the form <strong>gets hidden,</strong> and the "Thank you" message <strong>appears.</strong></li> <li>If the network request fails, an error message <strong>appears,</strong> and the form <strong>becomes enabled</strong> again.</li> </ul> <p>In <strong>imperative programming,</strong> the above corresponds directly to how you implement interaction. You have to write the exact instructions to manipulate the UI depending on what just happened. Here's another way to think about this: imagine riding next to someone in a car and telling them turn by turn where to go.</p> <p><illustration src=/images/docs/illustrations/i_imperative-ui-programming.png alt="In a car driven by an anxious-looking person representing JavaScript, a passenger orders the driver to execute a sequence of complicated turn by turn navigations."/></p> <p>They don't know where you want to go, they just follow your commands. (And if you get the directions wrong, you end up in the wrong place!) It's called <em>imperative</em> because you have to "command" each element, from the spinner to the button, telling the computer <em>how</em> to update the UI.</p> <p>In this example of imperative UI programming, the form is built <em>without</em> React. It only uses the browser <a href=https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model>DOM</a>:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span>
<span class=normal>59</span>
<span class=normal>60</span>
<span class=normal>61</span>
<span class=normal>62</span>
<span class=normal>63</span>
<span class=normal>64</span>
<span class=normal>65</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>async</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>handleFormSubmit</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>e</span><span class=p>.</span><span class=nx>preventDefault</span><span class=p>();</span>
<span class=w>    </span><span class=nx>disable</span><span class=p>(</span><span class=nx>textarea</span><span class=p>);</span>
<span class=w>    </span><span class=nx>disable</span><span class=p>(</span><span class=nx>button</span><span class=p>);</span>
<span class=w>    </span><span class=nx>show</span><span class=p>(</span><span class=nx>loadingMessage</span><span class=p>);</span>
<span class=w>    </span><span class=nx>hide</span><span class=p>(</span><span class=nx>errorMessage</span><span class=p>);</span>
<span class=w>    </span><span class=k>try</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>await</span><span class=w> </span><span class=nx>submitForm</span><span class=p>(</span><span class=nx>textarea</span><span class=p>.</span><span class=nx>value</span><span class=p>);</span>
<span class=w>        </span><span class=nx>show</span><span class=p>(</span><span class=nx>successMessage</span><span class=p>);</span>
<span class=w>        </span><span class=nx>hide</span><span class=p>(</span><span class=nx>form</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>catch</span><span class=w> </span><span class=p>(</span><span class=nx>err</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>show</span><span class=p>(</span><span class=nx>errorMessage</span><span class=p>);</span>
<span class=w>        </span><span class=nx>errorMessage</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>err</span><span class=p>.</span><span class=nx>message</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>finally</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>hide</span><span class=p>(</span><span class=nx>loadingMessage</span><span class=p>);</span>
<span class=w>        </span><span class=nx>enable</span><span class=p>(</span><span class=nx>textarea</span><span class=p>);</span>
<span class=w>        </span><span class=nx>enable</span><span class=p>(</span><span class=nx>button</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>handleTextareaChange</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>textarea</span><span class=p>.</span><span class=nx>value</span><span class=p>.</span><span class=nx>length</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=mf>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>disable</span><span class=p>(</span><span class=nx>button</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>enable</span><span class=p>(</span><span class=nx>button</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>hide</span><span class=p>(</span><span class=nx>el</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>el</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>display</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;none&quot;</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>show</span><span class=p>(</span><span class=nx>el</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>el</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>display</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>enable</span><span class=p>(</span><span class=nx>el</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>el</span><span class=p>.</span><span class=nx>disabled</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>false</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>disable</span><span class=p>(</span><span class=nx>el</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>el</span><span class=p>.</span><span class=nx>disabled</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>true</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>submitForm</span><span class=p>(</span><span class=nx>answer</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=c1>// Pretend it&#39;s hitting the network.</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=ow>new</span><span class=w> </span><span class=nb>Promise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span><span class=w> </span><span class=nx>reject</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>setTimeout</span><span class=p>(()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>answer</span><span class=p>.</span><span class=nx>toLowerCase</span><span class=p>()</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s2>&quot;istanbul&quot;</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>                </span><span class=nx>resolve</span><span class=p>();</span>
<span class=w>            </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>                </span><span class=nx>reject</span><span class=p>(</span><span class=ow>new</span><span class=w> </span><span class=ne>Error</span><span class=p>(</span><span class=s2>&quot;Good guess but a wrong answer. Try again!&quot;</span><span class=p>));</span>
<span class=w>            </span><span class=p>}</span>
<span class=w>        </span><span class=p>},</span><span class=w> </span><span class=mf>1500</span><span class=p>);</span>
<span class=w>    </span><span class=p>});</span>
<span class=p>}</span>

<span class=kd>let</span><span class=w> </span><span class=nx>form</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;form&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>textarea</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;textarea&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>button</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;button&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>loadingMessage</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;loading&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>errorMessage</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;error&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>successMessage</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;success&quot;</span><span class=p>);</span>
<span class=nx>form</span><span class=p>.</span><span class=nx>onsubmit</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>handleFormSubmit</span><span class=p>;</span>
<span class=nx>textarea</span><span class=p>.</span><span class=nx>oninput</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>handleTextareaChange</span><span class=p>;</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=s2>&quot;hardReloadOnChange&quot;</span><span class=o>:</span><span class=w> </span><span class=kc>true</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>&lt;</span><span class=nt>form</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;form&quot;</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>City quiz<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>What city is located on two continents?<span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>textarea</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;textarea&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>textarea</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>br</span> <span class=p>/&gt;</span>
    <span class=p>&lt;</span><span class=nt>button</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;button&quot;</span> <span class=na>disabled</span><span class=p>&gt;</span>Submit<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>p</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;loading&quot;</span> <span class=na>style</span><span class=o>=</span><span class=s>&quot;display: none&quot;</span><span class=p>&gt;</span>Loading...<span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>p</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;error&quot;</span> <span class=na>style</span><span class=o>=</span><span class=s>&quot;display: none; color: red;&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>form</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=nt>h1</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;success&quot;</span> <span class=na>style</span><span class=o>=</span><span class=s>&quot;display: none&quot;</span><span class=p>&gt;</span>That&#39;s right!<span class=p>&lt;/</span><span class=nt>h1</span><span class=p>&gt;</span>

<span class=p>&lt;</span><span class=nt>style</span><span class=p>&gt;</span>
<span class=w>    </span><span class=o>*</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>box-sizing</span><span class=p>:</span><span class=w> </span><span class=kc>border-box</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=nt>body</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>font-family</span><span class=p>:</span><span class=w> </span><span class=kc>sans-serif</span><span class=p>;</span>
<span class=w>        </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>        </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</code></pre></div></td></tr></table></div> <p>Manipulating the UI imperatively works well enough for isolated examples, but it gets exponentially more difficult to manage in more complex systems. Imagine updating a page full of different forms like this one. Adding a new UI element or a new interaction would require carefully checking all existing code to make sure you haven't introduced a bug (for example, forgetting to show or hide something).</p> <p>React was built to solve this problem.</p> <p>In React, you don't directly manipulate the UI--meaning you don't enable, disable, show, or hide components directly. Instead, you <strong>declare what you want to show,</strong> and React figures out how to update the UI. Think of getting into a taxi and telling the driver where you want to go instead of telling them exactly where to turn. It's the driver's job to get you there, and they might even know some shortcuts you haven't considered!</p> <p><illustration src=/images/docs/illustrations/i_declarative-ui-programming.png alt="In a car driven by React, a passenger asks to be taken to a specific place on the map. React figures out how to do that."/></p> <h2 id=thinking-about-ui-declaratively>Thinking about UI declaratively<a class=headerlink href=#thinking-about-ui-declaratively title="Permanent link">&para;</a></h2> <p>You've seen how to implement a form imperatively above. To better understand how to think in React, you'll walk through reimplementing this UI in React below:</p> <ol> <li><strong>Identify</strong> your component's different visual states</li> <li><strong>Determine</strong> what triggers those state changes</li> <li><strong>Represent</strong> the state in memory using <code>useState</code></li> <li><strong>Remove</strong> any non-essential state variables</li> <li><strong>Connect</strong> the event handlers to set the state</li> </ol> <h3 id=step-1-identify-your-components-different-visual-states>Step 1: Identify your component's different visual states<a class=headerlink href=#step-1-identify-your-components-different-visual-states title="Permanent link">&para;</a></h3> <p>In computer science, you may hear about a <a href=https://en.wikipedia.org/wiki/Finite-state_machine>"state machine"</a> being in one of several “states”. If you work with a designer, you may have seen mockups for different "visual states". React stands at the intersection of design and computer science, so both of these ideas are sources of inspiration.</p> <p>First, you need to visualize all the different "states" of the UI the user might see:</p> <ul> <li><strong>Empty</strong>: Form has a disabled "Submit" button.</li> <li><strong>Typing</strong>: Form has an enabled "Submit" button.</li> <li><strong>Submitting</strong>: Form is completely disabled. Spinner is shown.</li> <li><strong>Success</strong>: "Thank you" message is shown instead of a form.</li> <li><strong>Error</strong>: Same as Typing state, but with an extra error message.</li> </ul> <p>Just like a designer, you'll want to "mock up" or create "mocks" for the different states before you add logic. For example, here is a mock for just the visual part of the form. This mock is controlled by a prop called <code>status</code> with a default value of <code>'empty'</code>:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Form</span><span class=p>({</span><span class=w> </span><span class=nx>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;empty&quot;</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>status</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=s2>&quot;success&quot;</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h1</span><span class=o>&gt;</span><span class=nx>That</span><span class=err>&#39;</span><span class=nx>s</span><span class=w> </span><span class=nx>right</span><span class=o>!&lt;</span><span class=err>/h1&gt;;</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>h2</span><span class=o>&gt;</span><span class=nx>City</span><span class=w> </span><span class=nx>quiz</span><span class=o>&lt;</span><span class=err>/h2&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>p</span><span class=o>&gt;</span>
<span class=w>                </span><span class=nx>In</span><span class=w> </span><span class=nx>which</span><span class=w> </span><span class=nx>city</span><span class=w> </span><span class=nx>is</span><span class=w> </span><span class=nx>there</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=nx>billboard</span><span class=w> </span><span class=nx>that</span><span class=w> </span><span class=nx>turns</span><span class=w> </span><span class=nx>air</span><span class=w> </span><span class=nx>into</span><span class=w> </span><span class=nx>drinkable</span>
<span class=w>                </span><span class=nx>water</span><span class=o>?</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/p&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>form</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>textarea</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>br</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=o>&gt;</span><span class=nx>Submit</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/form&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>You could call that prop anything you like, the naming is not important. Try editing <code>status = 'empty'</code> to <code>status = 'success'</code> to see the success message appear. Mocking lets you quickly iterate on the UI before you wire up any logic. Here is a more fleshed out prototype of the same component, still "controlled" by the <code>status</code> prop:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Form</span><span class=p>({</span>
<span class=w>    </span><span class=c1>// Try &#39;submitting&#39;, &#39;error&#39;, &#39;success&#39;:</span>
<span class=w>    </span><span class=nx>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;empty&quot;</span><span class=p>,</span>
<span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>status</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=s2>&quot;success&quot;</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h1</span><span class=o>&gt;</span><span class=nx>That</span><span class=err>&#39;</span><span class=nx>s</span><span class=w> </span><span class=nx>right</span><span class=o>!&lt;</span><span class=err>/h1&gt;;</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>h2</span><span class=o>&gt;</span><span class=nx>City</span><span class=w> </span><span class=nx>quiz</span><span class=o>&lt;</span><span class=err>/h2&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>p</span><span class=o>&gt;</span>
<span class=w>                </span><span class=nx>In</span><span class=w> </span><span class=nx>which</span><span class=w> </span><span class=nx>city</span><span class=w> </span><span class=nx>is</span><span class=w> </span><span class=nx>there</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=nx>billboard</span><span class=w> </span><span class=nx>that</span><span class=w> </span><span class=nx>turns</span><span class=w> </span><span class=nx>air</span><span class=w> </span><span class=nx>into</span><span class=w> </span><span class=nx>drinkable</span>
<span class=w>                </span><span class=nx>water</span><span class=o>?</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/p&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>form</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>textarea</span><span class=w> </span><span class=nx>disabled</span><span class=o>=</span><span class=p>{</span><span class=nx>status</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=s2>&quot;submitting&quot;</span><span class=p>}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>br</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span>
<span class=w>                    </span><span class=nx>disabled</span><span class=o>=</span><span class=p>{</span><span class=nx>status</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=s2>&quot;empty&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=nx>status</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=s2>&quot;submitting&quot;</span><span class=p>}</span>
<span class=w>                </span><span class=o>&gt;</span>
<span class=w>                    </span><span class=nx>Submit</span>
<span class=w>                </span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>                </span><span class=p>{</span><span class=nx>status</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=s2>&quot;error&quot;</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>p</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;Error&quot;</span><span class=o>&gt;</span>
<span class=w>                        </span><span class=nx>Good</span><span class=w> </span><span class=nx>guess</span><span class=w> </span><span class=nx>but</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=nx>wrong</span><span class=w> </span><span class=nx>answer</span><span class=p>.</span><span class=w> </span><span class=nx>Try</span><span class=w> </span><span class=nx>again</span><span class=o>!</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=err>/p&gt;</span>
<span class=w>                </span><span class=p>)}</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/form&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>.</span><span class=nc>Error</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>color</span><span class=p>:</span><span class=w> </span><span class=kc>red</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p><deepdive></p> <h4 id=displaying-many-visual-states-at-once>Displaying many visual states at once<a class=headerlink href=#displaying-many-visual-states-at-once title="Permanent link">&para;</a></h4> <p>If a component has a lot of visual states, it can be convenient to show them all on one page:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=nx>Form</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./Form.js&quot;</span><span class=p>;</span>

<span class=kd>let</span><span class=w> </span><span class=nx>statuses</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;empty&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;typing&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;submitting&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;success&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;error&quot;</span><span class=p>];</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>App</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=p>{</span><span class=nx>statuses</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>status</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>(</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>section</span><span class=w> </span><span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>status</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>h4</span><span class=o>&gt;</span><span class=nx>Form</span><span class=w> </span><span class=p>({</span><span class=nx>status</span><span class=p>})</span><span class=o>:&lt;</span><span class=err>/h4&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>Form</span><span class=w> </span><span class=nx>status</span><span class=o>=</span><span class=p>{</span><span class=nx>status</span><span class=p>}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=err>/section&gt;</span>
<span class=w>            </span><span class=p>))}</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Form</span><span class=p>({</span><span class=w> </span><span class=nx>status</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>status</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=s2>&quot;success&quot;</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h1</span><span class=o>&gt;</span><span class=nx>That</span><span class=err>&#39;</span><span class=nx>s</span><span class=w> </span><span class=nx>right</span><span class=o>!&lt;</span><span class=err>/h1&gt;;</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>form</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>textarea</span><span class=w> </span><span class=nx>disabled</span><span class=o>=</span><span class=p>{</span><span class=nx>status</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=s2>&quot;submitting&quot;</span><span class=p>}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>br</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>disabled</span><span class=o>=</span><span class=p>{</span><span class=nx>status</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=s2>&quot;empty&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=nx>status</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=s2>&quot;submitting&quot;</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>                </span><span class=nx>Submit</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=p>{</span><span class=nx>status</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=s2>&quot;error&quot;</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>p</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;Error&quot;</span><span class=o>&gt;</span>
<span class=w>                    </span><span class=nx>Good</span><span class=w> </span><span class=nx>guess</span><span class=w> </span><span class=nx>but</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=nx>wrong</span><span class=w> </span><span class=nx>answer</span><span class=p>.</span><span class=w> </span><span class=nx>Try</span><span class=w> </span><span class=nx>again</span><span class=o>!</span>
<span class=w>                </span><span class=o>&lt;</span><span class=err>/p&gt;</span>
<span class=w>            </span><span class=p>)}</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/form&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nt>section</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>border-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#aaa</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
<span class=nt>h4</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>color</span><span class=p>:</span><span class=w> </span><span class=mh>#222</span><span class=p>;</span>
<span class=p>}</span>
<span class=nt>body</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>
<span class=p>.</span><span class=nc>Error</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>color</span><span class=p>:</span><span class=w> </span><span class=kc>red</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Pages like this are often called "living styleguides" or "storybooks".</p> <p></deepdive></p> <h3 id=step-2-determine-what-triggers-those-state-changes>Step 2: Determine what triggers those state changes<a class=headerlink href=#step-2-determine-what-triggers-those-state-changes title="Permanent link">&para;</a></h3> <p>You can trigger state updates in response to two kinds of inputs:</p> <ul> <li><strong>Human inputs,</strong> like clicking a button, typing in a field, navigating a link.</li> <li><strong>Computer inputs,</strong> like a network response arriving, a timeout completing, an image loading.</li> </ul> <p><illustrationblock> <illustration caption="Human inputs" src=/images/docs/illustrations/i_inputs1.png alt="A finger."/> <illustration caption="Computer inputs" src=/images/docs/illustrations/i_inputs2.png alt="Ones and zeroes."/> </illustrationblock></p> <p>In both cases, <strong>you must set <a href=/learn/state-a-components-memory#anatomy-of-usestate>state variables</a> to update the UI.</strong> For the form you're developing, you will need to change state in response to a few different inputs:</p> <ul> <li><strong>Changing the text input</strong> (human) should switch it from the <em>Empty</em> state to the <em>Typing</em> state or back, depending on whether the text box is empty or not.</li> <li><strong>Clicking the Submit button</strong> (human) should switch it to the <em>Submitting</em> state.</li> <li><strong>Successful network response</strong> (computer) should switch it to the <em>Success</em> state.</li> <li><strong>Failed network response</strong> (computer) should switch it to the <em>Error</em> state with the matching error message.</li> </ul> <p><note></p> <p>Notice that human inputs often require <a href=/learn/responding-to-events>event handlers</a>!</p> <p></note></p> <p>To help visualize this flow, try drawing each state on paper as a labeled circle, and each change between two states as an arrow. You can sketch out many flows this way and sort out bugs long before implementation.</p> <!-- TODO: Diagram --> <h3 id=step-3-represent-the-state-in-memory-with-usestate>Step 3: Represent the state in memory with <code>useState</code><a class=headerlink href=#step-3-represent-the-state-in-memory-with-usestate title="Permanent link">&para;</a></h3> <p>Next you'll need to represent the visual states of your component in memory with <a href=/reference/react/useState><code>useState</code>.</a> Simplicity is key: each piece of state is a "moving piece", and <strong>you want as few "moving pieces" as possible.</strong> More complexity leads to more bugs!</p> <p>Start with the state that <em>absolutely must</em> be there. For example, you'll need to store the <code>answer</code> for the input, and the <code>error</code> (if it exists) to store the last error:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>answer</span><span class=p>,</span><span class=w> </span><span class=nx>setAnswer</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=s2>&quot;&quot;</span><span class=p>);</span>
<span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>error</span><span class=p>,</span><span class=w> </span><span class=nx>setError</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>
</code></pre></div></td></tr></table></div> <p>Then, you'll need a state variable representing which one of the visual states that you want to display. There's usually more than a single way to represent that in memory, so you'll need to experiment with it.</p> <p>If you struggle to think of the best way immediately, start by adding enough state that you're <em>definitely</em> sure that all the possible visual states are covered:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>isEmpty</span><span class=p>,</span><span class=w> </span><span class=nx>setIsEmpty</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
<span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>isTyping</span><span class=p>,</span><span class=w> </span><span class=nx>setIsTyping</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>false</span><span class=p>);</span>
<span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>isSubmitting</span><span class=p>,</span><span class=w> </span><span class=nx>setIsSubmitting</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>false</span><span class=p>);</span>
<span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>isSuccess</span><span class=p>,</span><span class=w> </span><span class=nx>setIsSuccess</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>false</span><span class=p>);</span>
<span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>isError</span><span class=p>,</span><span class=w> </span><span class=nx>setIsError</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>false</span><span class=p>);</span>
</code></pre></div></td></tr></table></div> <p>Your first idea likely won't be the best, but that's ok--refactoring state is a part of the process!</p> <h3 id=step-4-remove-any-non-essential-state-variables>Step 4: Remove any non-essential state variables<a class=headerlink href=#step-4-remove-any-non-essential-state-variables title="Permanent link">&para;</a></h3> <p>You want to avoid duplication in the state content so you're only tracking what is essential. Spending a little time on refactoring your state structure will make your components easier to understand, reduce duplication, and avoid unintended meanings. Your goal is to <strong>prevent the cases where the state in memory doesn't represent any valid UI that you'd want a user to see.</strong> (For example, you never want to show an error message and disable the input at the same time, or the user won't be able to correct the error!)</p> <p>Here are some questions you can ask about your state variables:</p> <ul> <li><strong>Does this state cause a paradox?</strong> For example, <code>isTyping</code> and <code>isSubmitting</code> can't both be <code>true</code>. A paradox usually means that the state is not constrained enough. There are four possible combinations of two booleans, but only three correspond to valid states. To remove the "impossible" state, you can combine these into a <code>status</code> that must be one of three values: <code>'typing'</code>, <code>'submitting'</code>, or <code>'success'</code>.</li> <li><strong>Is the same information available in another state variable already?</strong> Another paradox: <code>isEmpty</code> and <code>isTyping</code> can't be <code>true</code> at the same time. By making them separate state variables, you risk them going out of sync and causing bugs. Fortunately, you can remove <code>isEmpty</code> and instead check <code>answer.length === 0</code>.</li> <li><strong>Can you get the same information from the inverse of another state variable?</strong> <code>isError</code> is not needed because you can check <code>error !== null</code> instead.</li> </ul> <p>After this clean-up, you're left with 3 (down from 7!) <em>essential</em> state variables:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>answer</span><span class=p>,</span><span class=w> </span><span class=nx>setAnswer</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=s2>&quot;&quot;</span><span class=p>);</span>
<span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>error</span><span class=p>,</span><span class=w> </span><span class=nx>setError</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>
<span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>status</span><span class=p>,</span><span class=w> </span><span class=nx>setStatus</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=s2>&quot;typing&quot;</span><span class=p>);</span><span class=w> </span><span class=c1>// &#39;typing&#39;, &#39;submitting&#39;, or &#39;success&#39;</span>
</code></pre></div></td></tr></table></div> <p>You know they are essential, because you can't remove any of them without breaking the functionality.</p> <p><deepdive></p> <h4 id=eliminating-impossible-states-with-a-reducer>Eliminating “impossible” states with a reducer<a class=headerlink href=#eliminating-impossible-states-with-a-reducer title="Permanent link">&para;</a></h4> <p>These three variables are a good enough representation of this form's state. However, there are still some intermediate states that don't fully make sense. For example, a non-null <code>error</code> doesn't make sense when <code>status</code> is <code>'success'</code>. To model the state more precisely, you can <a href=/learn/extracting-state-logic-into-a-reducer>extract it into a reducer.</a> Reducers let you unify multiple state variables into a single object and consolidate all the related logic!</p> <p></deepdive></p> <h3 id=step-5-connect-the-event-handlers-to-set-state>Step 5: Connect the event handlers to set state<a class=headerlink href=#step-5-connect-the-event-handlers-to-set-state title="Permanent link">&para;</a></h3> <p>Lastly, create event handlers that update the state. Below is the final form, with all event handlers wired up:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span>
<span class=normal>59</span>
<span class=normal>60</span>
<span class=normal>61</span>
<span class=normal>62</span>
<span class=normal>63</span>
<span class=normal>64</span>
<span class=normal>65</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useState</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Form</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>answer</span><span class=p>,</span><span class=w> </span><span class=nx>setAnswer</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=s2>&quot;&quot;</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>error</span><span class=p>,</span><span class=w> </span><span class=nx>setError</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>status</span><span class=p>,</span><span class=w> </span><span class=nx>setStatus</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=s2>&quot;typing&quot;</span><span class=p>);</span>

<span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>status</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=s2>&quot;success&quot;</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h1</span><span class=o>&gt;</span><span class=nx>That</span><span class=s1>&#39;s right!&lt;/h1&gt;;</span>
<span class=s1>    }</span>

<span class=s1>    async function handleSubmit(e) {</span>
<span class=s1>        e.preventDefault();</span>
<span class=s1>        setStatus(&quot;submitting&quot;);</span>
<span class=s1>        try {</span>
<span class=s1>            await submitForm(answer);</span>
<span class=s1>            setStatus(&quot;success&quot;);</span>
<span class=s1>        } catch (err) {</span>
<span class=s1>            setStatus(&quot;typing&quot;);</span>
<span class=s1>            setError(err);</span>
<span class=s1>        }</span>
<span class=s1>    }</span>

<span class=s1>    function handleTextareaChange(e) {</span>
<span class=s1>        setAnswer(e.target.value);</span>
<span class=s1>    }</span>

<span class=s1>    return (</span>
<span class=s1>        &lt;&gt;</span>
<span class=s1>            &lt;h2&gt;City quiz&lt;/h2&gt;</span>
<span class=s1>            &lt;p&gt;</span>
<span class=s1>                In which city is there a billboard that turns air into drinkable</span>
<span class=s1>                water?</span>
<span class=s1>            &lt;/p&gt;</span>
<span class=s1>            &lt;form onSubmit={handleSubmit}&gt;</span>
<span class=s1>                &lt;textarea</span>
<span class=s1>                    value={answer}</span>
<span class=s1>                    onChange={handleTextareaChange}</span>
<span class=s1>                    disabled={status === &quot;submitting&quot;}</span>
<span class=s1>                /&gt;</span>
<span class=s1>                &lt;br /&gt;</span>
<span class=s1>                &lt;button</span>
<span class=s1>                    disabled={answer.length === 0 || status === &quot;submitting&quot;}</span>
<span class=s1>                &gt;</span>
<span class=s1>                    Submit</span>
<span class=s1>                &lt;/button&gt;</span>
<span class=s1>                {error !== null &amp;&amp; &lt;p className=&quot;Error&quot;&gt;{error.message}&lt;/p&gt;}</span>
<span class=s1>            &lt;/form&gt;</span>
<span class=s1>        &lt;/&gt;</span>
<span class=s1>    );</span>
<span class=s1>}</span>

<span class=s1>function submitForm(answer) {</span>
<span class=s1>    // Pretend it&#39;</span><span class=nx>s</span><span class=w> </span><span class=nx>hitting</span><span class=w> </span><span class=nx>the</span><span class=w> </span><span class=nx>network</span><span class=p>.</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=ow>new</span><span class=w> </span><span class=nb>Promise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span><span class=w> </span><span class=nx>reject</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>setTimeout</span><span class=p>(()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=kd>let</span><span class=w> </span><span class=nx>shouldError</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>answer</span><span class=p>.</span><span class=nx>toLowerCase</span><span class=p>()</span><span class=w> </span><span class=o>!==</span><span class=w> </span><span class=s2>&quot;lima&quot;</span><span class=p>;</span>
<span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>shouldError</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>                </span><span class=nx>reject</span><span class=p>(</span><span class=ow>new</span><span class=w> </span><span class=ne>Error</span><span class=p>(</span><span class=s2>&quot;Good guess but a wrong answer. Try again!&quot;</span><span class=p>));</span>
<span class=w>            </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>                </span><span class=nx>resolve</span><span class=p>();</span>
<span class=w>            </span><span class=p>}</span>
<span class=w>        </span><span class=p>},</span><span class=w> </span><span class=mf>1500</span><span class=p>);</span>
<span class=w>    </span><span class=p>});</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>.</span><span class=nc>Error</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>color</span><span class=p>:</span><span class=w> </span><span class=kc>red</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Although this code is longer than the original imperative example, it is much less fragile. Expressing all interactions as state changes lets you later introduce new visual states without breaking existing ones. It also lets you change what should be displayed in each state without changing the logic of the interaction itself.</p> <p><recap></p> <ul> <li>Declarative programming means describing the UI for each visual state rather than micromanaging the UI (imperative).</li> <li>When developing a component:<ol> <li>Identify all its visual states.</li> <li>Determine the human and computer triggers for state changes.</li> <li>Model the state with <code>useState</code>.</li> <li>Remove non-essential state to avoid bugs and paradoxes.</li> <li>Connect the event handlers to set state.</li> </ol> </li> </ul> <p></recap></p> <p><challenges></p> <h4 id=add-and-remove-a-css-class>Add and remove a CSS class<a class=headerlink href=#add-and-remove-a-css-class title="Permanent link">&para;</a></h4> <p>Make it so that clicking on the picture <em>removes</em> the <code>background--active</code> CSS class from the outer <code>&lt;div&gt;</code>, but <em>adds</em> the <code>picture--active</code> class to the <code>&lt;img&gt;</code>. Clicking the background again should restore the original CSS classes.</p> <p>Visually, you should expect that clicking on the picture removes the purple background and highlights the picture border. Clicking outside the picture highlights the background, but removes the picture border highlight.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Picture</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;background background--active&quot;</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>img</span>
<span class=w>                </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;picture&quot;</span>
<span class=w>                </span><span class=nx>alt</span><span class=o>=</span><span class=s2>&quot;Rainbow houses in Kampung Pelangi, Indonesia&quot;</span>
<span class=w>                </span><span class=nx>src</span><span class=o>=</span><span class=s2>&quot;https://i.imgur.com/5qwVYb1.jpeg&quot;</span>
<span class=w>            </span><span class=o>/&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nt>body</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>250</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>background</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>100</span><span class=kt>vw</span><span class=p>;</span>
<span class=w>    </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>100</span><span class=kt>vh</span><span class=p>;</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>flex</span><span class=p>;</span>
<span class=w>    </span><span class=k>justify-content</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=w>    </span><span class=k>align-items</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=w>    </span><span class=k>background</span><span class=p>:</span><span class=w> </span><span class=mh>#eee</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>background--active</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>background</span><span class=p>:</span><span class=w> </span><span class=mh>#a6b5ff</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>picture</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>200</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>200</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>border-radius</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>picture--active</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#a6b5ff</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p><solution></p> <p>This component has two visual states: when the image is active, and when the image is inactive:</p> <ul> <li>When the image is active, the CSS classes are <code>background</code> and <code>picture picture--active</code>.</li> <li>When the image is inactive, the CSS classes are <code>background background--active</code> and <code>picture</code>.</li> </ul> <p>A single boolean state variable is enough to remember whether the image is active. The original task was to remove or add CSS classes. However, in React you need to <em>describe</em> what you want to see rather than <em>manipulate</em> the UI elements. So you need to calculate both CSS classes based on the current state. You also need to <a href=/learn/responding-to-events#stopping-propagation>stop the propagation</a> so that clicking the image doesn't register as a click on the background.</p> <p>Verify that this version works by clicking the image and then outside of it:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useState</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Picture</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>isActive</span><span class=p>,</span><span class=w> </span><span class=nx>setIsActive</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>false</span><span class=p>);</span>

<span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=nx>backgroundClassName</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;background&quot;</span><span class=p>;</span>
<span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=nx>pictureClassName</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;picture&quot;</span><span class=p>;</span>
<span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>isActive</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>pictureClassName</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=s2>&quot; picture--active&quot;</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>backgroundClassName</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=s2>&quot; background--active&quot;</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>div</span>
<span class=w>            </span><span class=nx>className</span><span class=o>=</span><span class=p>{</span><span class=nx>backgroundClassName</span><span class=p>}</span>
<span class=w>            </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>setIsActive</span><span class=p>(</span><span class=kc>false</span><span class=p>)}</span>
<span class=w>        </span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>img</span>
<span class=w>                </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>                    </span><span class=nx>e</span><span class=p>.</span><span class=nx>stopPropagation</span><span class=p>();</span>
<span class=w>                    </span><span class=nx>setIsActive</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
<span class=w>                </span><span class=p>}}</span>
<span class=w>                </span><span class=nx>className</span><span class=o>=</span><span class=p>{</span><span class=nx>pictureClassName</span><span class=p>}</span>
<span class=w>                </span><span class=nx>alt</span><span class=o>=</span><span class=s2>&quot;Rainbow houses in Kampung Pelangi, Indonesia&quot;</span>
<span class=w>                </span><span class=nx>src</span><span class=o>=</span><span class=s2>&quot;https://i.imgur.com/5qwVYb1.jpeg&quot;</span>
<span class=w>            </span><span class=o>/&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nt>body</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>250</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>background</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>100</span><span class=kt>vw</span><span class=p>;</span>
<span class=w>    </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>100</span><span class=kt>vh</span><span class=p>;</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>flex</span><span class=p>;</span>
<span class=w>    </span><span class=k>justify-content</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=w>    </span><span class=k>align-items</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=w>    </span><span class=k>background</span><span class=p>:</span><span class=w> </span><span class=mh>#eee</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>background--active</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>background</span><span class=p>:</span><span class=w> </span><span class=mh>#a6b5ff</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>picture</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>200</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>200</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>border-radius</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=kc>transparent</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>picture--active</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#a6b5ff</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Alternatively, you could return two separate chunks of JSX:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useState</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Picture</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>isActive</span><span class=p>,</span><span class=w> </span><span class=nx>setIsActive</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>false</span><span class=p>);</span>
<span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>isActive</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;background&quot;</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>setIsActive</span><span class=p>(</span><span class=kc>false</span><span class=p>)}</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>img</span>
<span class=w>                    </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;picture picture--active&quot;</span>
<span class=w>                    </span><span class=nx>alt</span><span class=o>=</span><span class=s2>&quot;Rainbow houses in Kampung Pelangi, Indonesia&quot;</span>
<span class=w>                    </span><span class=nx>src</span><span class=o>=</span><span class=s2>&quot;https://i.imgur.com/5qwVYb1.jpeg&quot;</span>
<span class=w>                    </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>e</span><span class=p>.</span><span class=nx>stopPropagation</span><span class=p>()}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;background background--active&quot;</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>img</span>
<span class=w>                </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;picture&quot;</span>
<span class=w>                </span><span class=nx>alt</span><span class=o>=</span><span class=s2>&quot;Rainbow houses in Kampung Pelangi, Indonesia&quot;</span>
<span class=w>                </span><span class=nx>src</span><span class=o>=</span><span class=s2>&quot;https://i.imgur.com/5qwVYb1.jpeg&quot;</span>
<span class=w>                </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>setIsActive</span><span class=p>(</span><span class=kc>true</span><span class=p>)}</span>
<span class=w>            </span><span class=o>/&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nt>body</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>250</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>background</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>100</span><span class=kt>vw</span><span class=p>;</span>
<span class=w>    </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>100</span><span class=kt>vh</span><span class=p>;</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>flex</span><span class=p>;</span>
<span class=w>    </span><span class=k>justify-content</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=w>    </span><span class=k>align-items</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=w>    </span><span class=k>background</span><span class=p>:</span><span class=w> </span><span class=mh>#eee</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>background--active</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>background</span><span class=p>:</span><span class=w> </span><span class=mh>#a6b5ff</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>picture</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>200</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>200</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>border-radius</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=kc>transparent</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>picture--active</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#a6b5ff</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Keep in mind that if two different JSX chunks describe the same tree, their nesting (first <code>&lt;div&gt;</code> → first <code>&lt;img&gt;</code>) has to line up. Otherwise, toggling <code>isActive</code> would recreate the whole tree below and <a href=/learn/preserving-and-resetting-state>reset its state.</a> This is why, if a similar JSX tree gets returned in both cases, it is better to write them as a single piece of JSX.</p> <p></solution></p> <h4 id=profile-editor>Profile editor<a class=headerlink href=#profile-editor title="Permanent link">&para;</a></h4> <p>Here is a small form implemented with plain JavaScript and DOM. Play with it to understand its behavior:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>function</span><span class=w> </span><span class=nx>handleFormSubmit</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>e</span><span class=p>.</span><span class=nx>preventDefault</span><span class=p>();</span>
<span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>editButton</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=s2>&quot;Edit Profile&quot;</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>editButton</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Save Profile&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=nx>hide</span><span class=p>(</span><span class=nx>firstNameText</span><span class=p>);</span>
<span class=w>        </span><span class=nx>hide</span><span class=p>(</span><span class=nx>lastNameText</span><span class=p>);</span>
<span class=w>        </span><span class=nx>show</span><span class=p>(</span><span class=nx>firstNameInput</span><span class=p>);</span>
<span class=w>        </span><span class=nx>show</span><span class=p>(</span><span class=nx>lastNameInput</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>editButton</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Edit Profile&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=nx>hide</span><span class=p>(</span><span class=nx>firstNameInput</span><span class=p>);</span>
<span class=w>        </span><span class=nx>hide</span><span class=p>(</span><span class=nx>lastNameInput</span><span class=p>);</span>
<span class=w>        </span><span class=nx>show</span><span class=p>(</span><span class=nx>firstNameText</span><span class=p>);</span>
<span class=w>        </span><span class=nx>show</span><span class=p>(</span><span class=nx>lastNameText</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>handleFirstNameChange</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>firstNameText</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>firstNameInput</span><span class=p>.</span><span class=nx>value</span><span class=p>;</span>
<span class=w>    </span><span class=nx>helloText</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>=</span>
<span class=w>        </span><span class=s2>&quot;Hello &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>firstNameInput</span><span class=p>.</span><span class=nx>value</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s2>&quot; &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>lastNameInput</span><span class=p>.</span><span class=nx>value</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s2>&quot;!&quot;</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>handleLastNameChange</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>lastNameText</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>lastNameInput</span><span class=p>.</span><span class=nx>value</span><span class=p>;</span>
<span class=w>    </span><span class=nx>helloText</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>=</span>
<span class=w>        </span><span class=s2>&quot;Hello &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>firstNameInput</span><span class=p>.</span><span class=nx>value</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s2>&quot; &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>lastNameInput</span><span class=p>.</span><span class=nx>value</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s2>&quot;!&quot;</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>hide</span><span class=p>(</span><span class=nx>el</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>el</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>display</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;none&quot;</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>show</span><span class=p>(</span><span class=nx>el</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>el</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>display</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>let</span><span class=w> </span><span class=nx>form</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;form&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>editButton</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;editButton&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>firstNameInput</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;firstNameInput&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>firstNameText</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;firstNameText&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>lastNameInput</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;lastNameInput&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>lastNameText</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;lastNameText&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>helloText</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;helloText&quot;</span><span class=p>);</span>
<span class=nx>form</span><span class=p>.</span><span class=nx>onsubmit</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>handleFormSubmit</span><span class=p>;</span>
<span class=nx>firstNameInput</span><span class=p>.</span><span class=nx>oninput</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>handleFirstNameChange</span><span class=p>;</span>
<span class=nx>lastNameInput</span><span class=p>.</span><span class=nx>oninput</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>handleLastNameChange</span><span class=p>;</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=s2>&quot;hardReloadOnChange&quot;</span><span class=o>:</span><span class=w> </span><span class=kc>true</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>&lt;</span><span class=nt>form</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;form&quot;</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>label</span><span class=p>&gt;</span>
        First name:
        <span class=p>&lt;</span><span class=nt>b</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;firstNameText&quot;</span><span class=p>&gt;</span>Jane<span class=p>&lt;/</span><span class=nt>b</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>input</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;firstNameInput&quot;</span> <span class=na>value</span><span class=o>=</span><span class=s>&quot;Jane&quot;</span> <span class=na>style</span><span class=o>=</span><span class=s>&quot;display: none&quot;</span> <span class=p>/&gt;</span>
    <span class=p>&lt;/</span><span class=nt>label</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>label</span><span class=p>&gt;</span>
        Last name:
        <span class=p>&lt;</span><span class=nt>b</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;lastNameText&quot;</span><span class=p>&gt;</span>Jacobs<span class=p>&lt;/</span><span class=nt>b</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>input</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;lastNameInput&quot;</span> <span class=na>value</span><span class=o>=</span><span class=s>&quot;Jacobs&quot;</span> <span class=na>style</span><span class=o>=</span><span class=s>&quot;display: none&quot;</span> <span class=p>/&gt;</span>
    <span class=p>&lt;/</span><span class=nt>label</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>button</span> <span class=na>type</span><span class=o>=</span><span class=s>&quot;submit&quot;</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;editButton&quot;</span><span class=p>&gt;</span>Edit Profile<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;&lt;</span><span class=nt>i</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;helloText&quot;</span><span class=p>&gt;</span>Hello, Jane Jacobs!<span class=p>&lt;/</span><span class=nt>i</span><span class=p>&gt;&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>form</span><span class=p>&gt;</span>

<span class=p>&lt;</span><span class=nt>style</span><span class=p>&gt;</span>
<span class=w>    </span><span class=o>*</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>box-sizing</span><span class=p>:</span><span class=w> </span><span class=kc>border-box</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=nt>body</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>font-family</span><span class=p>:</span><span class=w> </span><span class=kc>sans-serif</span><span class=p>;</span>
<span class=w>        </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>        </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=nt>label</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>block</span><span class=p>;</span>
<span class=w>        </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</code></pre></div></td></tr></table></div> <p>This form switches between two modes: in the editing mode, you see the inputs, and in the viewing mode, you only see the result. The button label changes between "Edit" and "Save" depending on the mode you're in. When you change the inputs, the welcome message at the bottom updates in real time.</p> <p>Your task is to reimplement it in React in the sandbox below. For your convenience, the markup was already converted to JSX, but you'll need to make it show and hide the inputs like the original does.</p> <p>Make sure that it updates the text at the bottom, too!</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>EditProfile</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>form</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>label</span><span class=o>&gt;</span>
<span class=w>                </span><span class=nx>First</span><span class=w> </span><span class=nx>name</span><span class=o>:</span><span class=w> </span><span class=o>&lt;</span><span class=nx>b</span><span class=o>&gt;</span><span class=nx>Jane</span><span class=o>&lt;</span><span class=err>/b&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>input</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/label&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>label</span><span class=o>&gt;</span>
<span class=w>                </span><span class=nx>Last</span><span class=w> </span><span class=nx>name</span><span class=o>:</span><span class=w> </span><span class=o>&lt;</span><span class=nx>b</span><span class=o>&gt;</span><span class=nx>Jacobs</span><span class=o>&lt;</span><span class=err>/b&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>input</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/label&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>type</span><span class=o>=</span><span class=s2>&quot;submit&quot;</span><span class=o>&gt;</span><span class=nx>Edit</span><span class=w> </span><span class=nx>Profile</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>p</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>i</span><span class=o>&gt;</span><span class=nx>Hello</span><span class=p>,</span><span class=w> </span><span class=nx>Jane</span><span class=w> </span><span class=nx>Jacobs</span><span class=o>!&lt;</span><span class=err>/i&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/p&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/form&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nt>label</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>block</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p><solution></p> <p>You will need two state variables to hold the input values: <code>firstName</code> and <code>lastName</code>. You're also going to need an <code>isEditing</code> state variable that holds whether to display the inputs or not. You should <em>not</em> need a <code>fullName</code> variable because the full name can always be calculated from the <code>firstName</code> and the <code>lastName</code>.</p> <p>Finally, you should use <a href=/learn/conditional-rendering>conditional rendering</a> to show or hide the inputs depending on <code>isEditing</code>.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useState</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>EditProfile</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>isEditing</span><span class=p>,</span><span class=w> </span><span class=nx>setIsEditing</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>false</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>firstName</span><span class=p>,</span><span class=w> </span><span class=nx>setFirstName</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=s2>&quot;Jane&quot;</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>lastName</span><span class=p>,</span><span class=w> </span><span class=nx>setLastName</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=s2>&quot;Jacobs&quot;</span><span class=p>);</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>form</span>
<span class=w>            </span><span class=nx>onSubmit</span><span class=o>=</span><span class=p>{(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>                </span><span class=nx>e</span><span class=p>.</span><span class=nx>preventDefault</span><span class=p>();</span>
<span class=w>                </span><span class=nx>setIsEditing</span><span class=p>(</span><span class=o>!</span><span class=nx>isEditing</span><span class=p>);</span>
<span class=w>            </span><span class=p>}}</span>
<span class=w>        </span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>label</span><span class=o>&gt;</span>
<span class=w>                </span><span class=nx>First</span><span class=w> </span><span class=nx>name</span><span class=o>:</span><span class=p>{</span><span class=s2>&quot; &quot;</span><span class=p>}</span>
<span class=w>                </span><span class=p>{</span><span class=nx>isEditing</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=p>(</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>input</span>
<span class=w>                        </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>firstName</span><span class=p>}</span>
<span class=w>                        </span><span class=nx>onChange</span><span class=o>=</span><span class=p>{(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>                            </span><span class=nx>setFirstName</span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>target</span><span class=p>.</span><span class=nx>value</span><span class=p>);</span>
<span class=w>                        </span><span class=p>}}</span>
<span class=w>                    </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=p>)</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=p>(</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>b</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>firstName</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/b&gt;</span>
<span class=w>                </span><span class=p>)}</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/label&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>label</span><span class=o>&gt;</span>
<span class=w>                </span><span class=nx>Last</span><span class=w> </span><span class=nx>name</span><span class=o>:</span><span class=p>{</span><span class=s2>&quot; &quot;</span><span class=p>}</span>
<span class=w>                </span><span class=p>{</span><span class=nx>isEditing</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=p>(</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>input</span>
<span class=w>                        </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>lastName</span><span class=p>}</span>
<span class=w>                        </span><span class=nx>onChange</span><span class=o>=</span><span class=p>{(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>                            </span><span class=nx>setLastName</span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>target</span><span class=p>.</span><span class=nx>value</span><span class=p>);</span>
<span class=w>                        </span><span class=p>}}</span>
<span class=w>                    </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=p>)</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=p>(</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>b</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>lastName</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/b&gt;</span>
<span class=w>                </span><span class=p>)}</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/label&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>type</span><span class=o>=</span><span class=s2>&quot;submit&quot;</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>isEditing</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s2>&quot;Save&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Edit&quot;</span><span class=p>}</span><span class=w> </span><span class=nx>Profile</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>p</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>i</span><span class=o>&gt;</span>
<span class=w>                    </span><span class=nx>Hello</span><span class=p>,</span><span class=w> </span><span class=p>{</span><span class=nx>firstName</span><span class=p>}</span><span class=w> </span><span class=p>{</span><span class=nx>lastName</span><span class=p>}</span><span class=o>!</span>
<span class=w>                </span><span class=o>&lt;</span><span class=err>/i&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/p&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/form&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nt>label</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>block</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Compare this solution to the original imperative code. How are they different?</p> <p></solution></p> <h4 id=refactor-the-imperative-solution-without-react>Refactor the imperative solution without React<a class=headerlink href=#refactor-the-imperative-solution-without-react title="Permanent link">&para;</a></h4> <p>Here is the original sandbox from the previous challenge, written imperatively without React:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>function</span><span class=w> </span><span class=nx>handleFormSubmit</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>e</span><span class=p>.</span><span class=nx>preventDefault</span><span class=p>();</span>
<span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>editButton</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=s2>&quot;Edit Profile&quot;</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>editButton</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Save Profile&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=nx>hide</span><span class=p>(</span><span class=nx>firstNameText</span><span class=p>);</span>
<span class=w>        </span><span class=nx>hide</span><span class=p>(</span><span class=nx>lastNameText</span><span class=p>);</span>
<span class=w>        </span><span class=nx>show</span><span class=p>(</span><span class=nx>firstNameInput</span><span class=p>);</span>
<span class=w>        </span><span class=nx>show</span><span class=p>(</span><span class=nx>lastNameInput</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>editButton</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Edit Profile&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=nx>hide</span><span class=p>(</span><span class=nx>firstNameInput</span><span class=p>);</span>
<span class=w>        </span><span class=nx>hide</span><span class=p>(</span><span class=nx>lastNameInput</span><span class=p>);</span>
<span class=w>        </span><span class=nx>show</span><span class=p>(</span><span class=nx>firstNameText</span><span class=p>);</span>
<span class=w>        </span><span class=nx>show</span><span class=p>(</span><span class=nx>lastNameText</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>handleFirstNameChange</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>firstNameText</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>firstNameInput</span><span class=p>.</span><span class=nx>value</span><span class=p>;</span>
<span class=w>    </span><span class=nx>helloText</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>=</span>
<span class=w>        </span><span class=s2>&quot;Hello &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>firstNameInput</span><span class=p>.</span><span class=nx>value</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s2>&quot; &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>lastNameInput</span><span class=p>.</span><span class=nx>value</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s2>&quot;!&quot;</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>handleLastNameChange</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>lastNameText</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>lastNameInput</span><span class=p>.</span><span class=nx>value</span><span class=p>;</span>
<span class=w>    </span><span class=nx>helloText</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>=</span>
<span class=w>        </span><span class=s2>&quot;Hello &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>firstNameInput</span><span class=p>.</span><span class=nx>value</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s2>&quot; &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>lastNameInput</span><span class=p>.</span><span class=nx>value</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s2>&quot;!&quot;</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>hide</span><span class=p>(</span><span class=nx>el</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>el</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>display</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;none&quot;</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>show</span><span class=p>(</span><span class=nx>el</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>el</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>display</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>let</span><span class=w> </span><span class=nx>form</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;form&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>editButton</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;editButton&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>firstNameInput</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;firstNameInput&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>firstNameText</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;firstNameText&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>lastNameInput</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;lastNameInput&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>lastNameText</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;lastNameText&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>helloText</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;helloText&quot;</span><span class=p>);</span>
<span class=nx>form</span><span class=p>.</span><span class=nx>onsubmit</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>handleFormSubmit</span><span class=p>;</span>
<span class=nx>firstNameInput</span><span class=p>.</span><span class=nx>oninput</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>handleFirstNameChange</span><span class=p>;</span>
<span class=nx>lastNameInput</span><span class=p>.</span><span class=nx>oninput</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>handleLastNameChange</span><span class=p>;</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=s2>&quot;hardReloadOnChange&quot;</span><span class=o>:</span><span class=w> </span><span class=kc>true</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>&lt;</span><span class=nt>form</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;form&quot;</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>label</span><span class=p>&gt;</span>
        First name:
        <span class=p>&lt;</span><span class=nt>b</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;firstNameText&quot;</span><span class=p>&gt;</span>Jane<span class=p>&lt;/</span><span class=nt>b</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>input</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;firstNameInput&quot;</span> <span class=na>value</span><span class=o>=</span><span class=s>&quot;Jane&quot;</span> <span class=na>style</span><span class=o>=</span><span class=s>&quot;display: none&quot;</span> <span class=p>/&gt;</span>
    <span class=p>&lt;/</span><span class=nt>label</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>label</span><span class=p>&gt;</span>
        Last name:
        <span class=p>&lt;</span><span class=nt>b</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;lastNameText&quot;</span><span class=p>&gt;</span>Jacobs<span class=p>&lt;/</span><span class=nt>b</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>input</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;lastNameInput&quot;</span> <span class=na>value</span><span class=o>=</span><span class=s>&quot;Jacobs&quot;</span> <span class=na>style</span><span class=o>=</span><span class=s>&quot;display: none&quot;</span> <span class=p>/&gt;</span>
    <span class=p>&lt;/</span><span class=nt>label</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>button</span> <span class=na>type</span><span class=o>=</span><span class=s>&quot;submit&quot;</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;editButton&quot;</span><span class=p>&gt;</span>Edit Profile<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;&lt;</span><span class=nt>i</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;helloText&quot;</span><span class=p>&gt;</span>Hello, Jane Jacobs!<span class=p>&lt;/</span><span class=nt>i</span><span class=p>&gt;&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>form</span><span class=p>&gt;</span>

<span class=p>&lt;</span><span class=nt>style</span><span class=p>&gt;</span>
<span class=w>    </span><span class=o>*</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>box-sizing</span><span class=p>:</span><span class=w> </span><span class=kc>border-box</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=nt>body</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>font-family</span><span class=p>:</span><span class=w> </span><span class=kc>sans-serif</span><span class=p>;</span>
<span class=w>        </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>        </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=nt>label</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>block</span><span class=p>;</span>
<span class=w>        </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</code></pre></div></td></tr></table></div> <p>Imagine React didn't exist. Can you refactor this code in a way that makes the logic less fragile and more similar to the React version? What would it look like if the state was explicit, like in React?</p> <p>If you're struggling to think where to start, the stub below already has most of the structure in place. If you start here, fill in the missing logic in the <code>updateDOM</code> function. (Refer to the original code where needed.)</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span>
<span class=normal>59</span>
<span class=normal>60</span>
<span class=normal>61</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>let</span><span class=w> </span><span class=nx>firstName</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Jane&quot;</span><span class=p>;</span>
<span class=kd>let</span><span class=w> </span><span class=nx>lastName</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Jacobs&quot;</span><span class=p>;</span>
<span class=kd>let</span><span class=w> </span><span class=nx>isEditing</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>false</span><span class=p>;</span>

<span class=kd>function</span><span class=w> </span><span class=nx>handleFormSubmit</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>e</span><span class=p>.</span><span class=nx>preventDefault</span><span class=p>();</span>
<span class=w>    </span><span class=nx>setIsEditing</span><span class=p>(</span><span class=o>!</span><span class=nx>isEditing</span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>handleFirstNameChange</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>setFirstName</span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>target</span><span class=p>.</span><span class=nx>value</span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>handleLastNameChange</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>setLastName</span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>target</span><span class=p>.</span><span class=nx>value</span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>setFirstName</span><span class=p>(</span><span class=nx>value</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>firstName</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>value</span><span class=p>;</span>
<span class=w>    </span><span class=nx>updateDOM</span><span class=p>();</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>setLastName</span><span class=p>(</span><span class=nx>value</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>lastName</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>value</span><span class=p>;</span>
<span class=w>    </span><span class=nx>updateDOM</span><span class=p>();</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>setIsEditing</span><span class=p>(</span><span class=nx>value</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>isEditing</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>value</span><span class=p>;</span>
<span class=w>    </span><span class=nx>updateDOM</span><span class=p>();</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>updateDOM</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>isEditing</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>editButton</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Save Profile&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=c1>// TODO: show inputs, hide content</span>
<span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>editButton</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Edit Profile&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=c1>// TODO: hide inputs, show content</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=c1>// TODO: update text labels</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>hide</span><span class=p>(</span><span class=nx>el</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>el</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>display</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;none&quot;</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>show</span><span class=p>(</span><span class=nx>el</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>el</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>display</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>let</span><span class=w> </span><span class=nx>form</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;form&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>editButton</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;editButton&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>firstNameInput</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;firstNameInput&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>firstNameText</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;firstNameText&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>lastNameInput</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;lastNameInput&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>lastNameText</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;lastNameText&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>helloText</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;helloText&quot;</span><span class=p>);</span>
<span class=nx>form</span><span class=p>.</span><span class=nx>onsubmit</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>handleFormSubmit</span><span class=p>;</span>
<span class=nx>firstNameInput</span><span class=p>.</span><span class=nx>oninput</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>handleFirstNameChange</span><span class=p>;</span>
<span class=nx>lastNameInput</span><span class=p>.</span><span class=nx>oninput</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>handleLastNameChange</span><span class=p>;</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=s2>&quot;hardReloadOnChange&quot;</span><span class=o>:</span><span class=w> </span><span class=kc>true</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>&lt;</span><span class=nt>form</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;form&quot;</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>label</span><span class=p>&gt;</span>
        First name:
        <span class=p>&lt;</span><span class=nt>b</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;firstNameText&quot;</span><span class=p>&gt;</span>Jane<span class=p>&lt;/</span><span class=nt>b</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>input</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;firstNameInput&quot;</span> <span class=na>value</span><span class=o>=</span><span class=s>&quot;Jane&quot;</span> <span class=na>style</span><span class=o>=</span><span class=s>&quot;display: none&quot;</span> <span class=p>/&gt;</span>
    <span class=p>&lt;/</span><span class=nt>label</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>label</span><span class=p>&gt;</span>
        Last name:
        <span class=p>&lt;</span><span class=nt>b</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;lastNameText&quot;</span><span class=p>&gt;</span>Jacobs<span class=p>&lt;/</span><span class=nt>b</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>input</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;lastNameInput&quot;</span> <span class=na>value</span><span class=o>=</span><span class=s>&quot;Jacobs&quot;</span> <span class=na>style</span><span class=o>=</span><span class=s>&quot;display: none&quot;</span> <span class=p>/&gt;</span>
    <span class=p>&lt;/</span><span class=nt>label</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>button</span> <span class=na>type</span><span class=o>=</span><span class=s>&quot;submit&quot;</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;editButton&quot;</span><span class=p>&gt;</span>Edit Profile<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;&lt;</span><span class=nt>i</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;helloText&quot;</span><span class=p>&gt;</span>Hello, Jane Jacobs!<span class=p>&lt;/</span><span class=nt>i</span><span class=p>&gt;&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>form</span><span class=p>&gt;</span>

<span class=p>&lt;</span><span class=nt>style</span><span class=p>&gt;</span>
<span class=w>    </span><span class=o>*</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>box-sizing</span><span class=p>:</span><span class=w> </span><span class=kc>border-box</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=nt>body</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>font-family</span><span class=p>:</span><span class=w> </span><span class=kc>sans-serif</span><span class=p>;</span>
<span class=w>        </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>        </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=nt>label</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>block</span><span class=p>;</span>
<span class=w>        </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</code></pre></div></td></tr></table></div> <p><solution></p> <p>The missing logic included toggling the display of inputs and content, and updating the labels:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span>
<span class=normal>59</span>
<span class=normal>60</span>
<span class=normal>61</span>
<span class=normal>62</span>
<span class=normal>63</span>
<span class=normal>64</span>
<span class=normal>65</span>
<span class=normal>66</span>
<span class=normal>67</span>
<span class=normal>68</span>
<span class=normal>69</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>let</span><span class=w> </span><span class=nx>firstName</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Jane&quot;</span><span class=p>;</span>
<span class=kd>let</span><span class=w> </span><span class=nx>lastName</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Jacobs&quot;</span><span class=p>;</span>
<span class=kd>let</span><span class=w> </span><span class=nx>isEditing</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>false</span><span class=p>;</span>

<span class=kd>function</span><span class=w> </span><span class=nx>handleFormSubmit</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>e</span><span class=p>.</span><span class=nx>preventDefault</span><span class=p>();</span>
<span class=w>    </span><span class=nx>setIsEditing</span><span class=p>(</span><span class=o>!</span><span class=nx>isEditing</span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>handleFirstNameChange</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>setFirstName</span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>target</span><span class=p>.</span><span class=nx>value</span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>handleLastNameChange</span><span class=p>(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>setLastName</span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>target</span><span class=p>.</span><span class=nx>value</span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>setFirstName</span><span class=p>(</span><span class=nx>value</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>firstName</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>value</span><span class=p>;</span>
<span class=w>    </span><span class=nx>updateDOM</span><span class=p>();</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>setLastName</span><span class=p>(</span><span class=nx>value</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>lastName</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>value</span><span class=p>;</span>
<span class=w>    </span><span class=nx>updateDOM</span><span class=p>();</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>setIsEditing</span><span class=p>(</span><span class=nx>value</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>isEditing</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>value</span><span class=p>;</span>
<span class=w>    </span><span class=nx>updateDOM</span><span class=p>();</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>updateDOM</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>isEditing</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>editButton</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Save Profile&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=nx>hide</span><span class=p>(</span><span class=nx>firstNameText</span><span class=p>);</span>
<span class=w>        </span><span class=nx>hide</span><span class=p>(</span><span class=nx>lastNameText</span><span class=p>);</span>
<span class=w>        </span><span class=nx>show</span><span class=p>(</span><span class=nx>firstNameInput</span><span class=p>);</span>
<span class=w>        </span><span class=nx>show</span><span class=p>(</span><span class=nx>lastNameInput</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>editButton</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Edit Profile&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=nx>hide</span><span class=p>(</span><span class=nx>firstNameInput</span><span class=p>);</span>
<span class=w>        </span><span class=nx>hide</span><span class=p>(</span><span class=nx>lastNameInput</span><span class=p>);</span>
<span class=w>        </span><span class=nx>show</span><span class=p>(</span><span class=nx>firstNameText</span><span class=p>);</span>
<span class=w>        </span><span class=nx>show</span><span class=p>(</span><span class=nx>lastNameText</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=nx>firstNameText</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>firstName</span><span class=p>;</span>
<span class=w>    </span><span class=nx>lastNameText</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>lastName</span><span class=p>;</span>
<span class=w>    </span><span class=nx>helloText</span><span class=p>.</span><span class=nx>textContent</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Hello &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>firstName</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s2>&quot; &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>lastName</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s2>&quot;!&quot;</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>hide</span><span class=p>(</span><span class=nx>el</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>el</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>display</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;none&quot;</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>show</span><span class=p>(</span><span class=nx>el</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>el</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>display</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>let</span><span class=w> </span><span class=nx>form</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;form&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>editButton</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;editButton&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>firstNameInput</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;firstNameInput&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>firstNameText</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;firstNameText&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>lastNameInput</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;lastNameInput&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>lastNameText</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;lastNameText&quot;</span><span class=p>);</span>
<span class=kd>let</span><span class=w> </span><span class=nx>helloText</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;helloText&quot;</span><span class=p>);</span>
<span class=nx>form</span><span class=p>.</span><span class=nx>onsubmit</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>handleFormSubmit</span><span class=p>;</span>
<span class=nx>firstNameInput</span><span class=p>.</span><span class=nx>oninput</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>handleFirstNameChange</span><span class=p>;</span>
<span class=nx>lastNameInput</span><span class=p>.</span><span class=nx>oninput</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>handleLastNameChange</span><span class=p>;</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=s2>&quot;hardReloadOnChange&quot;</span><span class=o>:</span><span class=w> </span><span class=kc>true</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>&lt;</span><span class=nt>form</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;form&quot;</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>label</span><span class=p>&gt;</span>
        First name:
        <span class=p>&lt;</span><span class=nt>b</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;firstNameText&quot;</span><span class=p>&gt;</span>Jane<span class=p>&lt;/</span><span class=nt>b</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>input</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;firstNameInput&quot;</span> <span class=na>value</span><span class=o>=</span><span class=s>&quot;Jane&quot;</span> <span class=na>style</span><span class=o>=</span><span class=s>&quot;display: none&quot;</span> <span class=p>/&gt;</span>
    <span class=p>&lt;/</span><span class=nt>label</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>label</span><span class=p>&gt;</span>
        Last name:
        <span class=p>&lt;</span><span class=nt>b</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;lastNameText&quot;</span><span class=p>&gt;</span>Jacobs<span class=p>&lt;/</span><span class=nt>b</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>input</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;lastNameInput&quot;</span> <span class=na>value</span><span class=o>=</span><span class=s>&quot;Jacobs&quot;</span> <span class=na>style</span><span class=o>=</span><span class=s>&quot;display: none&quot;</span> <span class=p>/&gt;</span>
    <span class=p>&lt;/</span><span class=nt>label</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>button</span> <span class=na>type</span><span class=o>=</span><span class=s>&quot;submit&quot;</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;editButton&quot;</span><span class=p>&gt;</span>Edit Profile<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;&lt;</span><span class=nt>i</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;helloText&quot;</span><span class=p>&gt;</span>Hello, Jane Jacobs!<span class=p>&lt;/</span><span class=nt>i</span><span class=p>&gt;&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>form</span><span class=p>&gt;</span>

<span class=p>&lt;</span><span class=nt>style</span><span class=p>&gt;</span>
<span class=w>    </span><span class=o>*</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>box-sizing</span><span class=p>:</span><span class=w> </span><span class=kc>border-box</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=nt>body</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>font-family</span><span class=p>:</span><span class=w> </span><span class=kc>sans-serif</span><span class=p>;</span>
<span class=w>        </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>        </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=nt>label</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>block</span><span class=p>;</span>
<span class=w>        </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</code></pre></div></td></tr></table></div> <p>The <code>updateDOM</code> function you wrote shows what React does under the hood when you set the state. (However, React also avoids touching the DOM for properties that have not changed since the last time they were set.)</p> <p></solution></p> <p></challenges></p> <hr> <div class=md-source-file> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="August 28, 2023 08:11:22">August 28, 2023</span> </small> </div> <div class=md-source-date> <small> Authors: <span class="git-page-authors git-authors"><a href=mailto:16909269+archmonger@users.noreply.github.com>Archmonger</a></span> </small> </div> </article> </div> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy;<div id=year> </div> <script> document.getElementById("year").innerHTML = new Date().getFullYear(); </script>Reactive Python and affiliates.<div class=legal-footer-right>This project has no affiliation to ReactJS or Meta Platforms, Inc.</div> </div> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.top", "content.code.copy", "search.highlight"], "search": "../../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.4e0fa4ba.min.js></script> <script src=../../assets/js/main.js></script> </body> </html>