<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="It's React, but in Python."><meta name=author content=Archmonger><link href=https://reactive-python.github.io/reactpy/learn/manipulating-the-dom-with-refs/ rel=canonical><link href=../referencing-values-with-refs/ rel=prev><link href=../synchronizing-with-effects/ rel=next><link rel=icon href=https://raw.githubusercontent.com/reactive-python/reactpy/main/branding/svg/reactpy-logo-square.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.4.0"><title>Manipulating the DOM with Refs ðŸš§ - ReactPy</title><link rel=stylesheet href=../../assets/stylesheets/main.9f615399.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.649f08f9.min.css><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h224V368c0-26.5 21.5-48 48-48h112V96c0-35.3-28.7-64-64-64H64zm384 320H336c-8.8 0-16 7.2-16 16v112l32-32 64-64 32-32z"/></svg>');}</style><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../assets/_mkdocstrings.css><link rel=stylesheet href=../../assets/css/main.css><link rel=stylesheet href=../../assets/css/button.css><link rel=stylesheet href=../../assets/css/admonition.css><link rel=stylesheet href=../../assets/css/banner.css><link rel=stylesheet href=../../assets/css/sidebar.css><link rel=stylesheet href=../../assets/css/navbar.css><link rel=stylesheet href=../../assets/css/table-of-contents.css><link rel=stylesheet href=../../assets/css/code.css><link rel=stylesheet href=../../assets/css/footer.css><link rel=stylesheet href=../../assets/css/home.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=red data-md-color-accent=red> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#overview class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest release. <a href=../../..> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title=ReactPy class="md-header__button md-logo" aria-label=ReactPy data-md-component=logo> <img src=https://raw.githubusercontent.com/reactive-python/reactpy/main/branding/svg/reactpy-logo-square.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ReactPy </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Manipulating the DOM with Refs ðŸš§ </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=red data-md-color-accent=red aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m3.55 19.09 1.41 1.41 1.8-1.79-1.42-1.42M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6c0-3.32-2.69-6-6-6m8 7h3v-2h-3m-2.76 7.71 1.8 1.79 1.41-1.41-1.79-1.8M20.45 5l-1.41-1.4-1.8 1.79 1.42 1.42M13 1h-2v3h2M6.76 5.39 4.96 3.6 3.55 5l1.79 1.81 1.42-1.42M1 13h3v-2H1m12 9h-2v3h2"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=red aria-label="Switch to dark mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/reactive-python/reactpy title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> ReactPy </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../quick-start/ class=md-tabs__link> Get Started </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../your-first-component/ class=md-tabs__link> Learn </a> </li> <li class=md-tabs__item> <a href=../../reference/overview/ class=md-tabs__link> Reference </a> </li> <li class=md-tabs__item> <a href=../../about/changelog/ class=md-tabs__link> About </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=ReactPy class="md-nav__button md-logo" aria-label=ReactPy data-md-component=logo> <img src=https://raw.githubusercontent.com/reactive-python/reactpy/main/branding/svg/reactpy-logo-square.svg alt=logo> </a> ReactPy </label> <div class=md-nav__source> <a href=https://github.com/reactive-python/reactpy title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> ReactPy </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Get Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Get Started </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1> <label class=md-nav__link for=__nav_2_1 id=__nav_2_1_label tabindex=0> <span class=md-ellipsis> Quick Start </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> Quick Start </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../quick-start/ class=md-nav__link> <span class=md-ellipsis> Quick start </span> </a> </li> <li class=md-nav__item> <a href=../tutorial-tic-tac-toe/ class=md-nav__link> <span class=md-ellipsis> Tutorial: Tic-Tac-Toe ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../thinking-in-react/ class=md-nav__link> <span class=md-ellipsis> Thinking in React </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> Installation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Installation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../creating-a-react-app/ class=md-nav__link> <span class=md-ellipsis> Creating a Standalone React App </span> </a> </li> <li class=md-nav__item> <a href=../add-react-to-an-existing-project/ class=md-nav__link> <span class=md-ellipsis> Add React to an Existing Project </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class=md-ellipsis> Setup </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../editor-setup/ class=md-nav__link> <span class=md-ellipsis> Editor Setup </span> </a> </li> <li class=md-nav__item> <a href=../tools-and-packages/ class=md-nav__link> <span class=md-ellipsis> Tools, Libraries, and Packages </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Learn </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Learn </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> Describing the UI </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> Describing the UI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../your-first-component/ class=md-nav__link> <span class=md-ellipsis> Your First Component ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../importing-and-exporting-components/ class=md-nav__link> <span class=md-ellipsis> Importing and Exporting Components ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../passing-props-to-a-component/ class=md-nav__link> <span class=md-ellipsis> Passing Props to a Component ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../conditional-rendering/ class=md-nav__link> <span class=md-ellipsis> Conditional Rendering ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../rendering-lists/ class=md-nav__link> <span class=md-ellipsis> Rendering Lists ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../keeping-components-pure/ class=md-nav__link> <span class=md-ellipsis> Keeping Components Pure ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> Adding Interactivity </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Adding Interactivity </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../responding-to-events/ class=md-nav__link> <span class=md-ellipsis> Responding to Events ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../state-a-components-memory/ class=md-nav__link> <span class=md-ellipsis> State: A Component's Memory ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../render-and-commit/ class=md-nav__link> <span class=md-ellipsis> Render and Commit ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../state-as-a-snapshot/ class=md-nav__link> <span class=md-ellipsis> State as a Snapshot ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../queueing-a-series-of-state-updates/ class=md-nav__link> <span class=md-ellipsis> Queueing a Series of State Updates ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../updating-objects-in-state/ class=md-nav__link> <span class=md-ellipsis> Updating Objects in State ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../updating-arrays-in-state/ class=md-nav__link> <span class=md-ellipsis> Updating Arrays in State ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class=md-ellipsis> Managing State </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Managing State </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reacting-to-input-with-state/ class=md-nav__link> <span class=md-ellipsis> Reacting to Input with State ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../choosing-the-state-structure/ class=md-nav__link> <span class=md-ellipsis> Choosing the State Structure ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../sharing-state-between-components/ class=md-nav__link> <span class=md-ellipsis> Sharing State Between Components ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../preserving-and-resetting-state/ class=md-nav__link> <span class=md-ellipsis> Preserving and Resetting State ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../extracting-state-logic-into-a-reducer/ class=md-nav__link> <span class=md-ellipsis> Extracting State Logic into a Reducer ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../passing-data-deeply-with-context/ class=md-nav__link> <span class=md-ellipsis> Passing Data Deeply with Context ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../scaling-up-with-reducer-and-context/ class=md-nav__link> <span class=md-ellipsis> Scaling Up with Reducer and Context ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4 checked> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex=0> <span class=md-ellipsis> Escape Hatches </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=true> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Escape Hatches </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../referencing-values-with-refs/ class=md-nav__link> <span class=md-ellipsis> Referencing Values with Refs ðŸš§ </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Manipulating the DOM with Refs ðŸš§ </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Manipulating the DOM with Refs ðŸš§ </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=#getting-a-ref-to-the-node class=md-nav__link> Getting a ref to the node </a> <nav class=md-nav aria-label="Getting a ref to the node"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example-focusing-a-text-input class=md-nav__link> Example: Focusing a text input </a> </li> <li class=md-nav__item> <a href=#example-scrolling-to-an-element class=md-nav__link> Example: Scrolling to an element </a> <nav class=md-nav aria-label="Example: Scrolling to an element"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#how-to-manage-a-list-of-refs-using-a-ref-callback class=md-nav__link> How to manage a list of refs using a ref callback </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#accessing-another-components-dom-nodes class=md-nav__link> Accessing another component's DOM nodes </a> <nav class=md-nav aria-label="Accessing another component's DOM nodes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#exposing-a-subset-of-the-api-with-an-imperative-handle class=md-nav__link> Exposing a subset of the API with an imperative handle </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#when-react-attaches-the-refs class=md-nav__link> When React attaches the refs </a> <nav class=md-nav aria-label="When React attaches the refs"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#flushing-state-updates-synchronously-with-flushsync class=md-nav__link> Flushing state updates synchronously with flushSync </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#best-practices-for-dom-manipulation-with-refs class=md-nav__link> Best practices for DOM manipulation with refs </a> <nav class=md-nav aria-label="Best practices for DOM manipulation with refs"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#play-and-pause-the-video class=md-nav__link> Play and pause the video </a> </li> <li class=md-nav__item> <a href=#focus-the-search-field class=md-nav__link> Focus the search field </a> </li> <li class=md-nav__item> <a href=#scrolling-an-image-carousel class=md-nav__link> Scrolling an image carousel </a> </li> <li class=md-nav__item> <a href=#focus-the-search-field-with-separate-components class=md-nav__link> Focus the search field with separate components </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../synchronizing-with-effects/ class=md-nav__link> <span class=md-ellipsis> Synchronizing with Effects ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../you-might-not-need-an-effect/ class=md-nav__link> <span class=md-ellipsis> You Might Not Need an Effect ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../lifecycle-of-reactive-effects/ class=md-nav__link> <span class=md-ellipsis> Lifecycle of Reactive Effects ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../separating-events-from-effects/ class=md-nav__link> <span class=md-ellipsis> Separating Events from Effects ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../removing-effect-dependencies/ class=md-nav__link> <span class=md-ellipsis> Removing Effect Dependencies ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../reusing-logic-with-custom-hooks/ class=md-nav__link> <span class=md-ellipsis> Reusing Logic with Custom Hooks ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../communicate-data-between-server-and-client/ class=md-nav__link> <span class=md-ellipsis> Communicating Data Between Server and Client ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../convert-between-vdom-and-html/ class=md-nav__link> <span class=md-ellipsis> Convert Between VDOM and HTML ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../vdom-mutations/ class=md-nav__link> <span class=md-ellipsis> VDOM Mutations ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../creating-vdom-event-handlers/ class=md-nav__link> <span class=md-ellipsis> Creating VDOM Event Handlers ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../creating-html-tags/ class=md-nav__link> <span class=md-ellipsis> Creating HTML Tags ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../creating-backends/ class=md-nav__link> <span class=md-ellipsis> Creating Backends ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../manually-register-a-client/ class=md-nav__link> <span class=md-ellipsis> Manually Register a Client ðŸš§ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> Hooks </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Hooks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/use-state/ class=md-nav__link> <span class=md-ellipsis> Use State ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-effect/ class=md-nav__link> <span class=md-ellipsis> Use Effect ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-async-effect/ class=md-nav__link> <span class=md-ellipsis> Use Async Effect ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-context/ class=md-nav__link> <span class=md-ellipsis> Use Context ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-reducer/ class=md-nav__link> <span class=md-ellipsis> Use Reducer ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-callback/ class=md-nav__link> <span class=md-ellipsis> Use Callback ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-memo/ class=md-nav__link> <span class=md-ellipsis> Use Memo ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-ref/ class=md-nav__link> <span class=md-ellipsis> Use Ref ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-debug-value/ class=md-nav__link> <span class=md-ellipsis> Use Debug Value ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-connection/ class=md-nav__link> <span class=md-ellipsis> Use Connection ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-scope/ class=md-nav__link> <span class=md-ellipsis> Use Scope ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-location/ class=md-nav__link> <span class=md-ellipsis> Use Location ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> HTML Tags </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> HTML Tags </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/common-props/ class=md-nav__link> <span class=md-ellipsis> Common Props ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/usage/ class=md-nav__link> <span class=md-ellipsis> Usage ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex=0> <span class=md-ellipsis> Executors </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Executors </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/reactpy/ class=md-nav__link> <span class=md-ellipsis> ReactPy </span> </a> </li> <li class=md-nav__item> <a href=../../reference/reactpy-csr/ class=md-nav__link> <span class=md-ellipsis> ReactPyCsr ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/reactpy-middleware/ class=md-nav__link> <span class=md-ellipsis> ReactPyMiddleware ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5 id=__nav_4_5_label tabindex=0> <span class=md-ellipsis> Rules of React </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> Rules of React </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/rules-of-react/ class=md-nav__link> <span class=md-ellipsis> Overview ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/components-and-hooks-must-be-pure/ class=md-nav__link> <span class=md-ellipsis> Components and Hooks must be pure ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/react-calls-components-and-hooks/ class=md-nav__link> <span class=md-ellipsis> React calls Components and Hooks ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/rules-of-hooks/ class=md-nav__link> <span class=md-ellipsis> Rules of Hooks ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_6> <label class=md-nav__link for=__nav_4_6 id=__nav_4_6_label tabindex=0> <span class=md-ellipsis> Template Tags </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_6_label aria-expanded=false> <label class=md-nav__title for=__nav_4_6> <span class="md-nav__icon md-icon"></span> Template Tags </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/jinja/ class=md-nav__link> <span class=md-ellipsis> Jinja ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../reference/protocol-structure/ class=md-nav__link> <span class=md-ellipsis> Protocol Structure ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/client-api/ class=md-nav__link> <span class=md-ellipsis> Client API ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> About </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> About </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../about/changelog/ class=md-nav__link> <span class=md-ellipsis> Changelog ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../about/community/ class=md-nav__link> <span class=md-ellipsis> Community ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../about/running-tests/ class=md-nav__link> <span class=md-ellipsis> Running Tests ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../about/code/ class=md-nav__link> <span class=md-ellipsis> Contributing Code ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../about/docs/ class=md-nav__link> <span class=md-ellipsis> Contributing Documentation ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../about/licenses/ class=md-nav__link> <span class=md-ellipsis> Licenses ðŸš§ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=#getting-a-ref-to-the-node class=md-nav__link> Getting a ref to the node </a> <nav class=md-nav aria-label="Getting a ref to the node"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example-focusing-a-text-input class=md-nav__link> Example: Focusing a text input </a> </li> <li class=md-nav__item> <a href=#example-scrolling-to-an-element class=md-nav__link> Example: Scrolling to an element </a> <nav class=md-nav aria-label="Example: Scrolling to an element"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#how-to-manage-a-list-of-refs-using-a-ref-callback class=md-nav__link> How to manage a list of refs using a ref callback </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#accessing-another-components-dom-nodes class=md-nav__link> Accessing another component's DOM nodes </a> <nav class=md-nav aria-label="Accessing another component's DOM nodes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#exposing-a-subset-of-the-api-with-an-imperative-handle class=md-nav__link> Exposing a subset of the API with an imperative handle </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#when-react-attaches-the-refs class=md-nav__link> When React attaches the refs </a> <nav class=md-nav aria-label="When React attaches the refs"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#flushing-state-updates-synchronously-with-flushsync class=md-nav__link> Flushing state updates synchronously with flushSync </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#best-practices-for-dom-manipulation-with-refs class=md-nav__link> Best practices for DOM manipulation with refs </a> <nav class=md-nav aria-label="Best practices for DOM manipulation with refs"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#play-and-pause-the-video class=md-nav__link> Play and pause the video </a> </li> <li class=md-nav__item> <a href=#focus-the-search-field class=md-nav__link> Focus the search field </a> </li> <li class=md-nav__item> <a href=#scrolling-an-image-carousel class=md-nav__link> Scrolling an image carousel </a> </li> <li class=md-nav__item> <a href=#focus-the-search-field-with-separate-components class=md-nav__link> Focus the search field with separate components </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>Manipulating the DOM with Refs ðŸš§</h1> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">&para;</a></h2> <p class=intro> React automatically updates the <a href=https://developer.mozilla.org/docs/Web/API/Document_Object_Model/Introduction>DOM</a> to match your render output, so your components won't often need to manipulate it. However, sometimes you might need access to the DOM elements managed by React--for example, to focus a node, scroll to it, or measure its size and position. There is no built-in way to do those things in React, so you will need a <em>ref</em> to the DOM node. </p> <div class="admonition summary"> <p class=admonition-title>You will learn</p> <ul> <li>How to access a DOM node managed by React with the <code>ref</code> attribute</li> <li>How the <code>ref</code> JSX attribute relates to the <code>useRef</code> Hook</li> <li>How to access another component's DOM node</li> <li>In which cases it's safe to modify the DOM managed by React</li> </ul> </div> <h2 id=getting-a-ref-to-the-node>Getting a ref to the node<a class=headerlink href=#getting-a-ref-to-the-node title="Permanent link">&para;</a></h2> <p>To access a DOM node managed by React, first, import the <code>useRef</code> Hook:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useRef</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>
</code></pre></div></td></tr></table></div> <p>Then, use it to declare a ref inside your component:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>const</span><span class=w> </span><span class=nx>myRef</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useRef</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>
</code></pre></div></td></tr></table></div> <p>Finally, pass your ref as the <code>ref</code> attribute to the JSX tag for which you want to get the DOM node:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>ref</span><span class=o>=</span><span class=p>{</span><span class=nx>myRef</span><span class=p>}</span><span class=o>&gt;</span>
</code></pre></div></td></tr></table></div> <p>The <code>useRef</code> Hook returns an object with a single property called <code>current</code>. Initially, <code>myRef.current</code> will be <code>null</code>. When React creates a DOM node for this <code>&lt;div&gt;</code>, React will put a reference to this node into <code>myRef.current</code>. You can then access this DOM node from your <a href=/learn/responding-to-events>event handlers</a> and use the built-in <a href=https://developer.mozilla.org/docs/Web/API/Element>browser APIs</a> defined on it.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span class=c1>// You can use any browser APIs, for example:</span>
<span class=nx>myRef</span><span class=p>.</span><span class=nx>current</span><span class=p>.</span><span class=nx>scrollIntoView</span><span class=p>();</span>
</code></pre></div></td></tr></table></div> <h3 id=example-focusing-a-text-input>Example: Focusing a text input<a class=headerlink href=#example-focusing-a-text-input title="Permanent link">&para;</a></h3> <p>In this example, clicking the button will focus the input:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useRef</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Form</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>inputRef</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useRef</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>inputRef</span><span class=p>.</span><span class=nx>current</span><span class=p>.</span><span class=nx>focus</span><span class=p>();</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>input</span><span class=w> </span><span class=nx>ref</span><span class=o>=</span><span class=p>{</span><span class=nx>inputRef</span><span class=p>}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>handleClick</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Focus</span><span class=w> </span><span class=nx>the</span><span class=w> </span><span class=nx>input</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>To implement this:</p> <ol> <li>Declare <code>inputRef</code> with the <code>useRef</code> Hook.</li> <li>Pass it as <code>&lt;input ref={inputRef}&gt;</code>. This tells React to <strong>put this <code>&lt;input&gt;</code>'s DOM node into <code>inputRef.current</code>.</strong></li> <li>In the <code>handleClick</code> function, read the input DOM node from <code>inputRef.current</code> and call <a href=https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/focus><code>focus()</code></a> on it with <code>inputRef.current.focus()</code>.</li> <li>Pass the <code>handleClick</code> event handler to <code>&lt;button&gt;</code> with <code>on_click</code>.</li> </ol> <p>While DOM manipulation is the most common use case for refs, the <code>useRef</code> Hook can be used for storing other things outside React, like timer IDs. Similarly to state, refs remain between renders. Refs are like state variables that don't trigger re-renders when you set them. Read about refs in <a href=/learn/referencing-values-with-refs>Referencing Values with Refs.</a></p> <h3 id=example-scrolling-to-an-element>Example: Scrolling to an element<a class=headerlink href=#example-scrolling-to-an-element title="Permanent link">&para;</a></h3> <p>You can have more than a single ref in a component. In this example, there is a carousel of three images. Each button centers an image by calling the browser <a href=https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView><code>scrollIntoView()</code></a> method on the corresponding DOM node:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span>
<span class=normal>59</span>
<span class=normal>60</span>
<span class=normal>61</span>
<span class=normal>62</span>
<span class=normal>63</span>
<span class=normal>64</span>
<span class=normal>65</span>
<span class=normal>66</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useRef</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>CatFriends</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>firstCatRef</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useRef</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>secondCatRef</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useRef</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>thirdCatRef</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useRef</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleScrollToFirstCat</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>firstCatRef</span><span class=p>.</span><span class=nx>current</span><span class=p>.</span><span class=nx>scrollIntoView</span><span class=p>({</span>
<span class=w>            </span><span class=nx>behavior</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;smooth&quot;</span><span class=p>,</span>
<span class=w>            </span><span class=nx>block</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;nearest&quot;</span><span class=p>,</span>
<span class=w>            </span><span class=nx>inline</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;center&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=p>});</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleScrollToSecondCat</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>secondCatRef</span><span class=p>.</span><span class=nx>current</span><span class=p>.</span><span class=nx>scrollIntoView</span><span class=p>({</span>
<span class=w>            </span><span class=nx>behavior</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;smooth&quot;</span><span class=p>,</span>
<span class=w>            </span><span class=nx>block</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;nearest&quot;</span><span class=p>,</span>
<span class=w>            </span><span class=nx>inline</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;center&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=p>});</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleScrollToThirdCat</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>thirdCatRef</span><span class=p>.</span><span class=nx>current</span><span class=p>.</span><span class=nx>scrollIntoView</span><span class=p>({</span>
<span class=w>            </span><span class=nx>behavior</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;smooth&quot;</span><span class=p>,</span>
<span class=w>            </span><span class=nx>block</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;nearest&quot;</span><span class=p>,</span>
<span class=w>            </span><span class=nx>inline</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;center&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=p>});</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>nav</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>handleScrollToFirstCat</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Tom</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>handleScrollToSecondCat</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Maru</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>handleScrollToThirdCat</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Jellylorum</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/nav&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>ul</span><span class=o>&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>li</span><span class=o>&gt;</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=nx>img</span>
<span class=w>                            </span><span class=nx>src</span><span class=o>=</span><span class=s2>&quot;https://placekitten.com/g/200/200&quot;</span>
<span class=w>                            </span><span class=nx>alt</span><span class=o>=</span><span class=s2>&quot;Tom&quot;</span>
<span class=w>                            </span><span class=nx>ref</span><span class=o>=</span><span class=p>{</span><span class=nx>firstCatRef</span><span class=p>}</span>
<span class=w>                        </span><span class=o>/&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>li</span><span class=o>&gt;</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=nx>img</span>
<span class=w>                            </span><span class=nx>src</span><span class=o>=</span><span class=s2>&quot;https://placekitten.com/g/300/200&quot;</span>
<span class=w>                            </span><span class=nx>alt</span><span class=o>=</span><span class=s2>&quot;Maru&quot;</span>
<span class=w>                            </span><span class=nx>ref</span><span class=o>=</span><span class=p>{</span><span class=nx>secondCatRef</span><span class=p>}</span>
<span class=w>                        </span><span class=o>/&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>li</span><span class=o>&gt;</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=nx>img</span>
<span class=w>                            </span><span class=nx>src</span><span class=o>=</span><span class=s2>&quot;https://placekitten.com/g/250/200&quot;</span>
<span class=w>                            </span><span class=nx>alt</span><span class=o>=</span><span class=s2>&quot;Jellylorum&quot;</span>
<span class=w>                            </span><span class=nx>ref</span><span class=o>=</span><span class=p>{</span><span class=nx>thirdCatRef</span><span class=p>}</span>
<span class=w>                        </span><span class=o>/&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=err>/ul&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nt>div</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>100</span><span class=kt>%</span><span class=p>;</span>
<span class=w>    </span><span class=k>overflow</span><span class=p>:</span><span class=w> </span><span class=kc>hidden</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>nav</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>text-align</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>button</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mf>0.25</span><span class=kt>rem</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>ul</span><span class=o>,</span>
<span class=nt>li</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>list-style</span><span class=p>:</span><span class=w> </span><span class=kc>none</span><span class=p>;</span>
<span class=w>    </span><span class=k>white-space</span><span class=p>:</span><span class=w> </span><span class=kc>nowrap</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>li</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>inline</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mf>0.5</span><span class=kt>rem</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p><deepdive></p> <h4 id=how-to-manage-a-list-of-refs-using-a-ref-callback>How to manage a list of refs using a ref callback<a class=headerlink href=#how-to-manage-a-list-of-refs-using-a-ref-callback title="Permanent link">&para;</a></h4> <p>In the above examples, there is a predefined number of refs. However, sometimes you might need a ref to each item in the list, and you don't know how many you will have. Something like this <strong>wouldn't work</strong>:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span></pre></div></td><td class=code><div><pre><span></span><code><span class=o>&lt;</span><span class=nx>ul</span><span class=o>&gt;</span>
<span class=w>    </span><span class=p>{</span><span class=nx>items</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>item</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=c1>// Doesn&#39;t work!</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=nx>ref</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useRef</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>
<span class=w>        </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>li</span><span class=w> </span><span class=nx>ref</span><span class=o>=</span><span class=p>{</span><span class=nx>ref</span><span class=p>}</span><span class=w> </span><span class=o>/&gt;</span><span class=p>;</span>
<span class=w>    </span><span class=p>})}</span>
<span class=o>&lt;</span><span class=err>/ul&gt;</span>
</code></pre></div></td></tr></table></div> <p>This is because <strong>Hooks must only be called at the top-level of your component.</strong> You can't call <code>useRef</code> in a loop, in a condition, or inside a <code>map()</code> call.</p> <p>One possible way around this is to get a single ref to their parent element, and then use DOM manipulation methods like <a href=https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll><code>querySelectorAll</code></a> to "find" the individual child nodes from it. However, this is brittle and can break if your DOM structure changes.</p> <p>Another solution is to <strong>pass a function to the <code>ref</code> attribute.</strong> This is called a <a href=/reference/react-dom/components/common#ref-callback><code>ref</code> callback.</a> React will call your ref callback with the DOM node when it's time to set the ref, and with <code>null</code> when it's time to clear it. This lets you maintain your own array or a <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map>Map</a>, and access any ref by its index or some kind of ID.</p> <p>This example shows how you can use this approach to scroll to an arbitrary node in a long list:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span>
<span class=normal>59</span>
<span class=normal>60</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useRef</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>CatFriends</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>itemsRef</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useRef</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>scrollToId</span><span class=p>(</span><span class=nx>itemId</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=nx>map</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>getMap</span><span class=p>();</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=nx>node</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>map</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>itemId</span><span class=p>);</span>
<span class=w>        </span><span class=nx>node</span><span class=p>.</span><span class=nx>scrollIntoView</span><span class=p>({</span>
<span class=w>            </span><span class=nx>behavior</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;smooth&quot;</span><span class=p>,</span>
<span class=w>            </span><span class=nx>block</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;nearest&quot;</span><span class=p>,</span>
<span class=w>            </span><span class=nx>inline</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;center&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=p>});</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>getMap</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=nx>itemsRef</span><span class=p>.</span><span class=nx>current</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=c1>// Initialize the Map on first usage.</span>
<span class=w>            </span><span class=nx>itemsRef</span><span class=p>.</span><span class=nx>current</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=ow>new</span><span class=w> </span><span class=nb>Map</span><span class=p>();</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>        </span><span class=k>return</span><span class=w> </span><span class=nx>itemsRef</span><span class=p>.</span><span class=nx>current</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>nav</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>scrollToId</span><span class=p>(</span><span class=mf>0</span><span class=p>)}</span><span class=o>&gt;</span><span class=nx>Tom</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>scrollToId</span><span class=p>(</span><span class=mf>5</span><span class=p>)}</span><span class=o>&gt;</span><span class=nx>Maru</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>scrollToId</span><span class=p>(</span><span class=mf>9</span><span class=p>)}</span><span class=o>&gt;</span><span class=nx>Jellylorum</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/nav&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>ul</span><span class=o>&gt;</span>
<span class=w>                    </span><span class=p>{</span><span class=nx>catList</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>cat</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>(</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=nx>li</span>
<span class=w>                            </span><span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>cat</span><span class=p>.</span><span class=nx>id</span><span class=p>}</span>
<span class=w>                            </span><span class=nx>ref</span><span class=o>=</span><span class=p>{(</span><span class=nx>node</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>                                </span><span class=kd>const</span><span class=w> </span><span class=nx>map</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>getMap</span><span class=p>();</span>
<span class=w>                                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>node</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>                                    </span><span class=nx>map</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=nx>cat</span><span class=p>.</span><span class=nx>id</span><span class=p>,</span><span class=w> </span><span class=nx>node</span><span class=p>);</span>
<span class=w>                                </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>                                    </span><span class=nx>map</span><span class=p>.</span><span class=ow>delete</span><span class=p>(</span><span class=nx>cat</span><span class=p>.</span><span class=nx>id</span><span class=p>);</span>
<span class=w>                                </span><span class=p>}</span>
<span class=w>                            </span><span class=p>}}</span>
<span class=w>                        </span><span class=o>&gt;</span>
<span class=w>                            </span><span class=o>&lt;</span><span class=nx>img</span><span class=w> </span><span class=nx>src</span><span class=o>=</span><span class=p>{</span><span class=nx>cat</span><span class=p>.</span><span class=nx>imageUrl</span><span class=p>}</span><span class=w> </span><span class=nx>alt</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;Cat #&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>cat</span><span class=p>.</span><span class=nx>id</span><span class=p>}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=w>                    </span><span class=p>))}</span>
<span class=w>                </span><span class=o>&lt;</span><span class=err>/ul&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>const</span><span class=w> </span><span class=nx>catList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[];</span>
<span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kd>let</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mf>10</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>catList</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span>
<span class=w>        </span><span class=nx>id</span><span class=o>:</span><span class=w> </span><span class=nx>i</span><span class=p>,</span>
<span class=w>        </span><span class=nx>imageUrl</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;https://placekitten.com/250/200?image=&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>i</span><span class=p>,</span>
<span class=w>    </span><span class=p>});</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nt>div</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>100</span><span class=kt>%</span><span class=p>;</span>
<span class=w>    </span><span class=k>overflow</span><span class=p>:</span><span class=w> </span><span class=kc>hidden</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>nav</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>text-align</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>button</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mf>0.25</span><span class=kt>rem</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>ul</span><span class=o>,</span>
<span class=nt>li</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>list-style</span><span class=p>:</span><span class=w> </span><span class=kc>none</span><span class=p>;</span>
<span class=w>    </span><span class=k>white-space</span><span class=p>:</span><span class=w> </span><span class=kc>nowrap</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>li</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>inline</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mf>0.5</span><span class=kt>rem</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>In this example, <code>itemsRef</code> doesn't hold a single DOM node. Instead, it holds a <a href=https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map>Map</a> from item ID to a DOM node. (<a href=/learn/referencing-values-with-refs>Refs can hold any values!</a>) The <a href=/reference/react-dom/components/common#ref-callback><code>ref</code> callback</a> on every list item takes care to update the Map:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span></pre></div></td><td class=code><div><pre><span></span><code><span class=o>&lt;</span><span class=nx>li</span>
<span class=w>  </span><span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>cat</span><span class=p>.</span><span class=nx>id</span><span class=p>}</span>
<span class=w>  </span><span class=nx>ref</span><span class=o>=</span><span class=p>{</span><span class=nx>node</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>map</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>getMap</span><span class=p>();</span>
<span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>node</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=c1>// Add to the Map</span>
<span class=w>      </span><span class=nx>map</span><span class=p>.</span><span class=nx>set</span><span class=p>(</span><span class=nx>cat</span><span class=p>.</span><span class=nx>id</span><span class=p>,</span><span class=w> </span><span class=nx>node</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=c1>// Remove from the Map</span>
<span class=w>      </span><span class=nx>map</span><span class=p>.</span><span class=ow>delete</span><span class=p>(</span><span class=nx>cat</span><span class=p>.</span><span class=nx>id</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>  </span><span class=p>}}</span>
<span class=o>&gt;</span>
</code></pre></div></td></tr></table></div> <p>This lets you read individual DOM nodes from the Map later.</p> <p></deepdive></p> <h2 id=accessing-another-components-dom-nodes>Accessing another component's DOM nodes<a class=headerlink href=#accessing-another-components-dom-nodes title="Permanent link">&para;</a></h2> <p>When you put a ref on a built-in component that outputs a browser element like <code>&lt;input /&gt;</code>, React will set that ref's <code>current</code> property to the corresponding DOM node (such as the actual <code>&lt;input /&gt;</code> in the browser).</p> <p>However, if you try to put a ref on <strong>your own</strong> component, like <code>&lt;MyInput /&gt;</code>, by default you will get <code>null</code>. Here is an example demonstrating it. Notice how clicking the button <strong>does not</strong> focus the input:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useRef</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=kd>function</span><span class=w> </span><span class=nx>MyInput</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>input</span><span class=w> </span><span class=p>{...</span><span class=nx>props</span><span class=p>}</span><span class=w> </span><span class=o>/&gt;</span><span class=p>;</span>
<span class=p>}</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>MyForm</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>inputRef</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useRef</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>inputRef</span><span class=p>.</span><span class=nx>current</span><span class=p>.</span><span class=nx>focus</span><span class=p>();</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>MyInput</span><span class=w> </span><span class=nx>ref</span><span class=o>=</span><span class=p>{</span><span class=nx>inputRef</span><span class=p>}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>handleClick</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Focus</span><span class=w> </span><span class=nx>the</span><span class=w> </span><span class=nx>input</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>To help you notice the issue, React also prints an error to the console:</p> <p><consoleblock level=error></p> <p>Warning: Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?</p> <p></consoleblock></p> <p>This happens because by default React does not let a component access the DOM nodes of other components. Not even for its own children! This is intentional. Refs are an escape hatch that should be used sparingly. Manually manipulating <em>another</em> component's DOM nodes makes your code even more fragile.</p> <p>Instead, components that <em>want</em> to expose their DOM nodes have to <strong>opt in</strong> to that behavior. A component can specify that it "forwards" its ref to one of its children. Here's how <code>MyInput</code> can use the <code>forwardRef</code> API:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>const</span><span class=w> </span><span class=nx>MyInput</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>forwardRef</span><span class=p>((</span><span class=nx>props</span><span class=p>,</span><span class=w> </span><span class=nx>ref</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>input</span><span class=w> </span><span class=p>{...</span><span class=nx>props</span><span class=p>}</span><span class=w> </span><span class=nx>ref</span><span class=o>=</span><span class=p>{</span><span class=nx>ref</span><span class=p>}</span><span class=w> </span><span class=o>/&gt;</span><span class=p>;</span>
<span class=p>});</span>
</code></pre></div></td></tr></table></div> <p>This is how it works:</p> <ol> <li><code>&lt;MyInput ref={inputRef} /&gt;</code> tells React to put the corresponding DOM node into <code>inputRef.current</code>. However, it's up to the <code>MyInput</code> component to opt into that--by default, it doesn't.</li> <li>The <code>MyInput</code> component is declared using <code>forwardRef</code>. <strong>This opts it into receiving the <code>inputRef</code> from above as the second <code>ref</code> argument</strong> which is declared after <code>props</code>.</li> <li><code>MyInput</code> itself passes the <code>ref</code> it received to the <code>&lt;input&gt;</code> inside of it.</li> </ol> <p>Now clicking the button to focus the input works:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>forwardRef</span><span class=p>,</span><span class=w> </span><span class=nx>useRef</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=kd>const</span><span class=w> </span><span class=nx>MyInput</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>forwardRef</span><span class=p>((</span><span class=nx>props</span><span class=p>,</span><span class=w> </span><span class=nx>ref</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>input</span><span class=w> </span><span class=p>{...</span><span class=nx>props</span><span class=p>}</span><span class=w> </span><span class=nx>ref</span><span class=o>=</span><span class=p>{</span><span class=nx>ref</span><span class=p>}</span><span class=w> </span><span class=o>/&gt;</span><span class=p>;</span>
<span class=p>});</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Form</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>inputRef</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useRef</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>inputRef</span><span class=p>.</span><span class=nx>current</span><span class=p>.</span><span class=nx>focus</span><span class=p>();</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>MyInput</span><span class=w> </span><span class=nx>ref</span><span class=o>=</span><span class=p>{</span><span class=nx>inputRef</span><span class=p>}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>handleClick</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Focus</span><span class=w> </span><span class=nx>the</span><span class=w> </span><span class=nx>input</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>In design systems, it is a common pattern for low-level components like buttons, inputs, and so on, to forward their refs to their DOM nodes. On the other hand, high-level components like forms, lists, or page sections usually won't expose their DOM nodes to avoid accidental dependencies on the DOM structure.</p> <p><deepdive></p> <h4 id=exposing-a-subset-of-the-api-with-an-imperative-handle>Exposing a subset of the API with an imperative handle<a class=headerlink href=#exposing-a-subset-of-the-api-with-an-imperative-handle title="Permanent link">&para;</a></h4> <p>In the above example, <code>MyInput</code> exposes the original DOM input element. This lets the parent component call <code>focus()</code> on it. However, this also lets the parent component do something else--for example, change its CSS styles. In uncommon cases, you may want to restrict the exposed functionality. You can do that with <code>useImperativeHandle</code>:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>forwardRef</span><span class=p>,</span><span class=w> </span><span class=nx>useRef</span><span class=p>,</span><span class=w> </span><span class=nx>useImperativeHandle</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=kd>const</span><span class=w> </span><span class=nx>MyInput</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>forwardRef</span><span class=p>((</span><span class=nx>props</span><span class=p>,</span><span class=w> </span><span class=nx>ref</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>realInputRef</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useRef</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>
<span class=w>    </span><span class=nx>useImperativeHandle</span><span class=p>(</span><span class=nx>ref</span><span class=p>,</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>({</span>
<span class=w>        </span><span class=c1>// Only expose focus and nothing else</span>
<span class=w>        </span><span class=nx>focus</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>realInputRef</span><span class=p>.</span><span class=nx>current</span><span class=p>.</span><span class=nx>focus</span><span class=p>();</span>
<span class=w>        </span><span class=p>},</span>
<span class=w>    </span><span class=p>}));</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>input</span><span class=w> </span><span class=p>{...</span><span class=nx>props</span><span class=p>}</span><span class=w> </span><span class=nx>ref</span><span class=o>=</span><span class=p>{</span><span class=nx>realInputRef</span><span class=p>}</span><span class=w> </span><span class=o>/&gt;</span><span class=p>;</span>
<span class=p>});</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Form</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>inputRef</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useRef</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>inputRef</span><span class=p>.</span><span class=nx>current</span><span class=p>.</span><span class=nx>focus</span><span class=p>();</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>MyInput</span><span class=w> </span><span class=nx>ref</span><span class=o>=</span><span class=p>{</span><span class=nx>inputRef</span><span class=p>}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>handleClick</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Focus</span><span class=w> </span><span class=nx>the</span><span class=w> </span><span class=nx>input</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Here, <code>realInputRef</code> inside <code>MyInput</code> holds the actual input DOM node. However, <code>useImperativeHandle</code> instructs React to provide your own special object as the value of a ref to the parent component. So <code>inputRef.current</code> inside the <code>Form</code> component will only have the <code>focus</code> method. In this case, the ref "handle" is not the DOM node, but the custom object you create inside <code>useImperativeHandle</code> call.</p> <p></deepdive></p> <h2 id=when-react-attaches-the-refs>When React attaches the refs<a class=headerlink href=#when-react-attaches-the-refs title="Permanent link">&para;</a></h2> <p>In React, every update is split in <a href=/learn/render-and-commit#step-3-react-commits-changes-to-the-dom>two phases</a>:</p> <ul> <li>During <strong>render,</strong> React calls your components to figure out what should be on the screen.</li> <li>During <strong>commit,</strong> React applies changes to the DOM.</li> </ul> <p>In general, you <a href=/learn/referencing-values-with-refs#best-practices-for-refs>don't want</a> to access refs during rendering. That goes for refs holding DOM nodes as well. During the first render, the DOM nodes have not yet been created, so <code>ref.current</code> will be <code>null</code>. And during the rendering of updates, the DOM nodes haven't been updated yet. So it's too early to read them.</p> <p>React sets <code>ref.current</code> during the commit. Before updating the DOM, React sets the affected <code>ref.current</code> values to <code>null</code>. After updating the DOM, React immediately sets them to the corresponding DOM nodes.</p> <p><strong>Usually, you will access refs from event handlers.</strong> If you want to do something with a ref, but there is no particular event to do it in, you might need an Effect. We will discuss effects on the next pages.</p> <p><deepdive></p> <h4 id=flushing-state-updates-synchronously-with-flushsync>Flushing state updates synchronously with flushSync<a class=headerlink href=#flushing-state-updates-synchronously-with-flushsync title="Permanent link">&para;</a></h4> <p>Consider code like this, which adds a new todo and scrolls the screen down to the last child of the list. Notice how, for some reason, it always scrolls to the todo that was <em>just before</em> the last added one:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useState</span><span class=p>,</span><span class=w> </span><span class=nx>useRef</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>TodoList</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>listRef</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useRef</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>text</span><span class=p>,</span><span class=w> </span><span class=nx>setText</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=s2>&quot;&quot;</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>todos</span><span class=p>,</span><span class=w> </span><span class=nx>setTodos</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=nx>initialTodos</span><span class=p>);</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleAdd</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=nx>newTodo</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>id</span><span class=o>:</span><span class=w> </span><span class=nx>nextId</span><span class=o>++</span><span class=p>,</span><span class=w> </span><span class=nx>text</span><span class=o>:</span><span class=w> </span><span class=nx>text</span><span class=w> </span><span class=p>};</span>
<span class=w>        </span><span class=nx>setText</span><span class=p>(</span><span class=s2>&quot;&quot;</span><span class=p>);</span>
<span class=w>        </span><span class=nx>setTodos</span><span class=p>([...</span><span class=nx>todos</span><span class=p>,</span><span class=w> </span><span class=nx>newTodo</span><span class=p>]);</span>
<span class=w>        </span><span class=nx>listRef</span><span class=p>.</span><span class=nx>current</span><span class=p>.</span><span class=nx>lastChild</span><span class=p>.</span><span class=nx>scrollIntoView</span><span class=p>({</span>
<span class=w>            </span><span class=nx>behavior</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;smooth&quot;</span><span class=p>,</span>
<span class=w>            </span><span class=nx>block</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;nearest&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=p>});</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>handleAdd</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Add</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>input</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>text</span><span class=p>}</span><span class=w> </span><span class=nx>onChange</span><span class=o>=</span><span class=p>{(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>setText</span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>target</span><span class=p>.</span><span class=nx>value</span><span class=p>)}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>ul</span><span class=w> </span><span class=nx>ref</span><span class=o>=</span><span class=p>{</span><span class=nx>listRef</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>                </span><span class=p>{</span><span class=nx>todos</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>todo</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>(</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>li</span><span class=w> </span><span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>todo</span><span class=p>.</span><span class=nx>id</span><span class=p>}</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>todo</span><span class=p>.</span><span class=nx>text</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=w>                </span><span class=p>))}</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/ul&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>let</span><span class=w> </span><span class=nx>nextId</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0</span><span class=p>;</span>
<span class=kd>let</span><span class=w> </span><span class=nx>initialTodos</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[];</span>
<span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kd>let</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mf>20</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>initialTodos</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span>
<span class=w>        </span><span class=nx>id</span><span class=o>:</span><span class=w> </span><span class=nx>nextId</span><span class=o>++</span><span class=p>,</span>
<span class=w>        </span><span class=nx>text</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Todo #&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mf>1</span><span class=p>),</span>
<span class=w>    </span><span class=p>});</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>The issue is with these two lines:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nx>setTodos</span><span class=p>([...</span><span class=nx>todos</span><span class=p>,</span><span class=w> </span><span class=nx>newTodo</span><span class=p>]);</span>
<span class=nx>listRef</span><span class=p>.</span><span class=nx>current</span><span class=p>.</span><span class=nx>lastChild</span><span class=p>.</span><span class=nx>scrollIntoView</span><span class=p>();</span>
</code></pre></div></td></tr></table></div> <p>In React, <a href=/learn/queueing-a-series-of-state-updates>state updates are queued.</a> Usually, this is what you want. However, here it causes a problem because <code>setTodos</code> does not immediately update the DOM. So the time you scroll the list to its last element, the todo has not yet been added. This is why scrolling always "lags behind" by one item.</p> <p>To fix this issue, you can force React to update ("flush") the DOM synchronously. To do this, import <code>flushSync</code> from <code>react-dom</code> and <strong>wrap the state update</strong> into a <code>flushSync</code> call:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nx>flushSync</span><span class=p>(()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>setTodos</span><span class=p>([...</span><span class=nx>todos</span><span class=p>,</span><span class=w> </span><span class=nx>newTodo</span><span class=p>]);</span>
<span class=p>});</span>
<span class=nx>listRef</span><span class=p>.</span><span class=nx>current</span><span class=p>.</span><span class=nx>lastChild</span><span class=p>.</span><span class=nx>scrollIntoView</span><span class=p>();</span>
</code></pre></div></td></tr></table></div> <p>This will instruct React to update the DOM synchronously right after the code wrapped in <code>flushSync</code> executes. As a result, the last todo will already be in the DOM by the time you try to scroll to it:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useState</span><span class=p>,</span><span class=w> </span><span class=nx>useRef</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>flushSync</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react-dom&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>TodoList</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>listRef</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useRef</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>text</span><span class=p>,</span><span class=w> </span><span class=nx>setText</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=s2>&quot;&quot;</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>todos</span><span class=p>,</span><span class=w> </span><span class=nx>setTodos</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=nx>initialTodos</span><span class=p>);</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleAdd</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=nx>newTodo</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>id</span><span class=o>:</span><span class=w> </span><span class=nx>nextId</span><span class=o>++</span><span class=p>,</span><span class=w> </span><span class=nx>text</span><span class=o>:</span><span class=w> </span><span class=nx>text</span><span class=w> </span><span class=p>};</span>
<span class=w>        </span><span class=nx>flushSync</span><span class=p>(()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>setText</span><span class=p>(</span><span class=s2>&quot;&quot;</span><span class=p>);</span>
<span class=w>            </span><span class=nx>setTodos</span><span class=p>([...</span><span class=nx>todos</span><span class=p>,</span><span class=w> </span><span class=nx>newTodo</span><span class=p>]);</span>
<span class=w>        </span><span class=p>});</span>
<span class=w>        </span><span class=nx>listRef</span><span class=p>.</span><span class=nx>current</span><span class=p>.</span><span class=nx>lastChild</span><span class=p>.</span><span class=nx>scrollIntoView</span><span class=p>({</span>
<span class=w>            </span><span class=nx>behavior</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;smooth&quot;</span><span class=p>,</span>
<span class=w>            </span><span class=nx>block</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;nearest&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=p>});</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>handleAdd</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Add</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>input</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>text</span><span class=p>}</span><span class=w> </span><span class=nx>onChange</span><span class=o>=</span><span class=p>{(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>setText</span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>target</span><span class=p>.</span><span class=nx>value</span><span class=p>)}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>ul</span><span class=w> </span><span class=nx>ref</span><span class=o>=</span><span class=p>{</span><span class=nx>listRef</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>                </span><span class=p>{</span><span class=nx>todos</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>todo</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>(</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>li</span><span class=w> </span><span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>todo</span><span class=p>.</span><span class=nx>id</span><span class=p>}</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>todo</span><span class=p>.</span><span class=nx>text</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=w>                </span><span class=p>))}</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/ul&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>let</span><span class=w> </span><span class=nx>nextId</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0</span><span class=p>;</span>
<span class=kd>let</span><span class=w> </span><span class=nx>initialTodos</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[];</span>
<span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kd>let</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mf>20</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>initialTodos</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span>
<span class=w>        </span><span class=nx>id</span><span class=o>:</span><span class=w> </span><span class=nx>nextId</span><span class=o>++</span><span class=p>,</span>
<span class=w>        </span><span class=nx>text</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Todo #&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=nx>i</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mf>1</span><span class=p>),</span>
<span class=w>    </span><span class=p>});</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p></deepdive></p> <h2 id=best-practices-for-dom-manipulation-with-refs>Best practices for DOM manipulation with refs<a class=headerlink href=#best-practices-for-dom-manipulation-with-refs title="Permanent link">&para;</a></h2> <p>Refs are an escape hatch. You should only use them when you have to "step outside React". Common examples of this include managing focus, scroll position, or calling browser APIs that React does not expose.</p> <p>If you stick to non-destructive actions like focusing and scrolling, you shouldn't encounter any problems. However, if you try to <strong>modify</strong> the DOM manually, you can risk conflicting with the changes React is making.</p> <p>To illustrate this problem, this example includes a welcome message and two buttons. The first button toggles its presence using <a href=/learn/conditional-rendering>conditional rendering</a> and <a href=/learn/state-a-components-memory>state</a>, as you would usually do in React. The second button uses the <a href=https://developer.mozilla.org/en-US/docs/Web/API/Element/remove><code>remove()</code> DOM API</a> to forcefully remove it from the DOM outside of React's control.</p> <p>Try pressing "Toggle with setState" a few times. The message should disappear and appear again. Then press "Remove from the DOM". This will forcefully remove it. Finally, press "Toggle with setState":</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useState</span><span class=p>,</span><span class=w> </span><span class=nx>useRef</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Counter</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>show</span><span class=p>,</span><span class=w> </span><span class=nx>setShow</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>ref</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useRef</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>div</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>button</span>
<span class=w>                </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>                    </span><span class=nx>setShow</span><span class=p>(</span><span class=o>!</span><span class=nx>show</span><span class=p>);</span>
<span class=w>                </span><span class=p>}}</span>
<span class=w>            </span><span class=o>&gt;</span>
<span class=w>                </span><span class=nx>Toggle</span><span class=w> </span><span class=kd>with</span><span class=w> </span><span class=nx>setState</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>button</span>
<span class=w>                </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>                    </span><span class=nx>ref</span><span class=p>.</span><span class=nx>current</span><span class=p>.</span><span class=nx>remove</span><span class=p>();</span>
<span class=w>                </span><span class=p>}}</span>
<span class=w>            </span><span class=o>&gt;</span>
<span class=w>                </span><span class=nx>Remove</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=nx>the</span><span class=w> </span><span class=nx>DOM</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=p>{</span><span class=nx>show</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=o>&lt;</span><span class=nx>p</span><span class=w> </span><span class=nx>ref</span><span class=o>=</span><span class=p>{</span><span class=nx>ref</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Hello</span><span class=w> </span><span class=nx>world</span><span class=o>&lt;</span><span class=err>/p&gt;}</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nt>p</span><span class=o>,</span>
<span class=nt>button</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>block</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>After you've manually removed the DOM element, trying to use <code>setState</code> to show it again will lead to a crash. This is because you've changed the DOM, and React doesn't know how to continue managing it correctly.</p> <p><strong>Avoid changing DOM nodes managed by React.</strong> Modifying, adding children to, or removing children from elements that are managed by React can lead to inconsistent visual results or crashes like above.</p> <p>However, this doesn't mean that you can't do it at all. It requires caution. <strong>You can safely modify parts of the DOM that React has <em>no reason</em> to update.</strong> For example, if some <code>&lt;div&gt;</code> is always empty in the JSX, React won't have a reason to touch its children list. Therefore, it is safe to manually add or remove elements there.</p> <p><recap></p> <ul> <li>Refs are a generic concept, but most often you'll use them to hold DOM elements.</li> <li>You instruct React to put a DOM node into <code>myRef.current</code> by passing <code>&lt;div ref={myRef}&gt;</code>.</li> <li>Usually, you will use refs for non-destructive actions like focusing, scrolling, or measuring DOM elements.</li> <li>A component doesn't expose its DOM nodes by default. You can opt into exposing a DOM node by using <code>forwardRef</code> and passing the second <code>ref</code> argument down to a specific node.</li> <li>Avoid changing DOM nodes managed by React.</li> <li>If you do modify DOM nodes managed by React, modify parts that React has no reason to update.</li> </ul> <p></recap></p> <p><challenges></p> <h4 id=play-and-pause-the-video>Play and pause the video<a class=headerlink href=#play-and-pause-the-video title="Permanent link">&para;</a></h4> <p>In this example, the button toggles a state variable to switch between a playing and a paused state. However, in order to actually play or pause the video, toggling state is not enough. You also need to call <a href=https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/play><code>play()</code></a> and <a href=https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/pause><code>pause()</code></a> on the DOM element for the <code>&lt;video&gt;</code>. Add a ref to it, and make the button work.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useState</span><span class=p>,</span><span class=w> </span><span class=nx>useRef</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>VideoPlayer</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>isPlaying</span><span class=p>,</span><span class=w> </span><span class=nx>setIsPlaying</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>false</span><span class=p>);</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=nx>nextIsPlaying</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>!</span><span class=nx>isPlaying</span><span class=p>;</span>
<span class=w>        </span><span class=nx>setIsPlaying</span><span class=p>(</span><span class=nx>nextIsPlaying</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>handleClick</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>                </span><span class=p>{</span><span class=nx>isPlaying</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s2>&quot;Pause&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Play&quot;</span><span class=p>}</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>video</span><span class=w> </span><span class=nx>width</span><span class=o>=</span><span class=s2>&quot;250&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>source</span>
<span class=w>                    </span><span class=nx>src</span><span class=o>=</span><span class=s2>&quot;https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4&quot;</span>
<span class=w>                    </span><span class=nx>type</span><span class=o>=</span><span class=s2>&quot;video/mp4&quot;</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/video&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nt>button</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>block</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>For an extra challenge, keep the "Play" button in sync with whether the video is playing even if the user right-clicks the video and plays it using the built-in browser media controls. You might want to listen to <code>onPlay</code> and <code>onPause</code> on the video to do that.</p> <p><solution></p> <p>Declare a ref and put it on the <code>&lt;video&gt;</code> element. Then call <code>ref.current.play()</code> and <code>ref.current.pause()</code> in the event handler depending on the next state.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useState</span><span class=p>,</span><span class=w> </span><span class=nx>useRef</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>VideoPlayer</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>isPlaying</span><span class=p>,</span><span class=w> </span><span class=nx>setIsPlaying</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>false</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>ref</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useRef</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=nx>nextIsPlaying</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>!</span><span class=nx>isPlaying</span><span class=p>;</span>
<span class=w>        </span><span class=nx>setIsPlaying</span><span class=p>(</span><span class=nx>nextIsPlaying</span><span class=p>);</span>

<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>nextIsPlaying</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>ref</span><span class=p>.</span><span class=nx>current</span><span class=p>.</span><span class=nx>play</span><span class=p>();</span>
<span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>ref</span><span class=p>.</span><span class=nx>current</span><span class=p>.</span><span class=nx>pause</span><span class=p>();</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>handleClick</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>                </span><span class=p>{</span><span class=nx>isPlaying</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s2>&quot;Pause&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Play&quot;</span><span class=p>}</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>video</span>
<span class=w>                </span><span class=nx>width</span><span class=o>=</span><span class=s2>&quot;250&quot;</span>
<span class=w>                </span><span class=nx>ref</span><span class=o>=</span><span class=p>{</span><span class=nx>ref</span><span class=p>}</span>
<span class=w>                </span><span class=nx>onPlay</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>setIsPlaying</span><span class=p>(</span><span class=kc>true</span><span class=p>)}</span>
<span class=w>                </span><span class=nx>onPause</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>setIsPlaying</span><span class=p>(</span><span class=kc>false</span><span class=p>)}</span>
<span class=w>            </span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>source</span>
<span class=w>                    </span><span class=nx>src</span><span class=o>=</span><span class=s2>&quot;https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4&quot;</span>
<span class=w>                    </span><span class=nx>type</span><span class=o>=</span><span class=s2>&quot;video/mp4&quot;</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/video&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nt>button</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>block</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>In order to handle the built-in browser controls, you can add <code>onPlay</code> and <code>onPause</code> handlers to the <code>&lt;video&gt;</code> element and call <code>setIsPlaying</code> from them. This way, if the user plays the video using the browser controls, the state will adjust accordingly.</p> <p></solution></p> <h4 id=focus-the-search-field>Focus the search field<a class=headerlink href=#focus-the-search-field title="Permanent link">&para;</a></h4> <p>Make it so that clicking the "Search" button puts focus into the field.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Page</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>nav</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=o>&gt;</span><span class=nx>Search</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/nav&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>input</span><span class=w> </span><span class=nx>placeholder</span><span class=o>=</span><span class=s2>&quot;Looking for something?&quot;</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nt>button</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>block</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p><solution></p> <p>Add a ref to the input, and call <code>focus()</code> on the DOM node to focus it:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useRef</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Page</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>inputRef</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useRef</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>nav</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span>
<span class=w>                    </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>                        </span><span class=nx>inputRef</span><span class=p>.</span><span class=nx>current</span><span class=p>.</span><span class=nx>focus</span><span class=p>();</span>
<span class=w>                    </span><span class=p>}}</span>
<span class=w>                </span><span class=o>&gt;</span>
<span class=w>                    </span><span class=nx>Search</span>
<span class=w>                </span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/nav&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>input</span><span class=w> </span><span class=nx>ref</span><span class=o>=</span><span class=p>{</span><span class=nx>inputRef</span><span class=p>}</span><span class=w> </span><span class=nx>placeholder</span><span class=o>=</span><span class=s2>&quot;Looking for something?&quot;</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nt>button</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>block</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p></solution></p> <h4 id=scrolling-an-image-carousel>Scrolling an image carousel<a class=headerlink href=#scrolling-an-image-carousel title="Permanent link">&para;</a></h4> <p>This image carousel has a "Next" button that switches the active image. Make the gallery scroll horizontally to the active image on click. You will want to call <a href=https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView><code>scrollIntoView()</code></a> on the DOM node of the active image:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nx>node</span><span class=p>.</span><span class=nx>scrollIntoView</span><span class=p>({</span>
<span class=w>    </span><span class=nx>behavior</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;smooth&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>block</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;nearest&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>inline</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;center&quot;</span><span class=p>,</span>
<span class=p>});</span>
</code></pre></div></td></tr></table></div> <p><hint></p> <p>You don't need to have a ref to every image for this exercise. It should be enough to have a ref to the currently active image, or to the list itself. Use <code>flushSync</code> to ensure the DOM is updated <em>before</em> you scroll.</p> <p></hint></p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useState</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>CatFriends</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>index</span><span class=p>,</span><span class=w> </span><span class=nx>setIndex</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=mf>0</span><span class=p>);</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>nav</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span>
<span class=w>                    </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>                        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>index</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=nx>catList</span><span class=p>.</span><span class=nx>length</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mf>1</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>                            </span><span class=nx>setIndex</span><span class=p>(</span><span class=nx>index</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mf>1</span><span class=p>);</span>
<span class=w>                        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>                            </span><span class=nx>setIndex</span><span class=p>(</span><span class=mf>0</span><span class=p>);</span>
<span class=w>                        </span><span class=p>}</span>
<span class=w>                    </span><span class=p>}}</span>
<span class=w>                </span><span class=o>&gt;</span>
<span class=w>                    </span><span class=nx>Next</span>
<span class=w>                </span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/nav&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>ul</span><span class=o>&gt;</span>
<span class=w>                    </span><span class=p>{</span><span class=nx>catList</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>cat</span><span class=p>,</span><span class=w> </span><span class=nx>i</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>(</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=nx>li</span><span class=w> </span><span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>cat</span><span class=p>.</span><span class=nx>id</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>                            </span><span class=o>&lt;</span><span class=nx>img</span>
<span class=w>                                </span><span class=nx>className</span><span class=o>=</span><span class=p>{</span><span class=nx>index</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s2>&quot;active&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>}</span>
<span class=w>                                </span><span class=nx>src</span><span class=o>=</span><span class=p>{</span><span class=nx>cat</span><span class=p>.</span><span class=nx>imageUrl</span><span class=p>}</span>
<span class=w>                                </span><span class=nx>alt</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;Cat #&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>cat</span><span class=p>.</span><span class=nx>id</span><span class=p>}</span>
<span class=w>                            </span><span class=o>/&gt;</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=w>                    </span><span class=p>))}</span>
<span class=w>                </span><span class=o>&lt;</span><span class=err>/ul&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>const</span><span class=w> </span><span class=nx>catList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[];</span>
<span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kd>let</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mf>10</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>catList</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span>
<span class=w>        </span><span class=nx>id</span><span class=o>:</span><span class=w> </span><span class=nx>i</span><span class=p>,</span>
<span class=w>        </span><span class=nx>imageUrl</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;https://placekitten.com/250/200?image=&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>i</span><span class=p>,</span>
<span class=w>    </span><span class=p>});</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nt>div</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>100</span><span class=kt>%</span><span class=p>;</span>
<span class=w>    </span><span class=k>overflow</span><span class=p>:</span><span class=w> </span><span class=kc>hidden</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>nav</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>text-align</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>button</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mf>0.25</span><span class=kt>rem</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>ul</span><span class=o>,</span>
<span class=nt>li</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>list-style</span><span class=p>:</span><span class=w> </span><span class=kc>none</span><span class=p>;</span>
<span class=w>    </span><span class=k>white-space</span><span class=p>:</span><span class=w> </span><span class=kc>nowrap</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>li</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>inline</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mf>0.5</span><span class=kt>rem</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>img</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>-10</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>transition</span><span class=p>:</span><span class=w> </span><span class=k>background</span><span class=w> </span><span class=mf>0.2</span><span class=kt>s</span><span class=w> </span><span class=kc>linear</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>active</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>background</span><span class=p>:</span><span class=w> </span><span class=nb>rgba</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>100</span><span class=p>,</span><span class=w> </span><span class=mi>150</span><span class=p>,</span><span class=w> </span><span class=mf>0.4</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p><solution></p> <p>You can declare a <code>selectedRef</code>, and then pass it conditionally only to the current image:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span class=o>&lt;</span><span class=nx>li</span><span class=w> </span><span class=nx>ref</span><span class=o>=</span><span class=p>{</span><span class=nx>index</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=nx>selectedRef</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=kc>null</span><span class=p>}</span><span class=o>&gt;</span>
</code></pre></div></td></tr></table></div> <p>When <code>index === i</code>, meaning that the image is the selected one, the <code>&lt;li&gt;</code> will receive the <code>selectedRef</code>. React will make sure that <code>selectedRef.current</code> always points at the correct DOM node.</p> <p>Note that the <code>flushSync</code> call is necessary to force React to update the DOM before the scroll. Otherwise, <code>selectedRef.current</code> would always point at the previously selected item.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useRef</span><span class=p>,</span><span class=w> </span><span class=nx>useState</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>flushSync</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react-dom&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>CatFriends</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>selectedRef</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useRef</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>index</span><span class=p>,</span><span class=w> </span><span class=nx>setIndex</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=mf>0</span><span class=p>);</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>nav</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span>
<span class=w>                    </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>                        </span><span class=nx>flushSync</span><span class=p>(()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>                            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>index</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=nx>catList</span><span class=p>.</span><span class=nx>length</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mf>1</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>                                </span><span class=nx>setIndex</span><span class=p>(</span><span class=nx>index</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mf>1</span><span class=p>);</span>
<span class=w>                            </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>                                </span><span class=nx>setIndex</span><span class=p>(</span><span class=mf>0</span><span class=p>);</span>
<span class=w>                            </span><span class=p>}</span>
<span class=w>                        </span><span class=p>});</span>
<span class=w>                        </span><span class=nx>selectedRef</span><span class=p>.</span><span class=nx>current</span><span class=p>.</span><span class=nx>scrollIntoView</span><span class=p>({</span>
<span class=w>                            </span><span class=nx>behavior</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;smooth&quot;</span><span class=p>,</span>
<span class=w>                            </span><span class=nx>block</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;nearest&quot;</span><span class=p>,</span>
<span class=w>                            </span><span class=nx>inline</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;center&quot;</span><span class=p>,</span>
<span class=w>                        </span><span class=p>});</span>
<span class=w>                    </span><span class=p>}}</span>
<span class=w>                </span><span class=o>&gt;</span>
<span class=w>                    </span><span class=nx>Next</span>
<span class=w>                </span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/nav&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>ul</span><span class=o>&gt;</span>
<span class=w>                    </span><span class=p>{</span><span class=nx>catList</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>cat</span><span class=p>,</span><span class=w> </span><span class=nx>i</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>(</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=nx>li</span><span class=w> </span><span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>cat</span><span class=p>.</span><span class=nx>id</span><span class=p>}</span><span class=w> </span><span class=nx>ref</span><span class=o>=</span><span class=p>{</span><span class=nx>index</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=nx>selectedRef</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=kc>null</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>                            </span><span class=o>&lt;</span><span class=nx>img</span>
<span class=w>                                </span><span class=nx>className</span><span class=o>=</span><span class=p>{</span><span class=nx>index</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s2>&quot;active&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>}</span>
<span class=w>                                </span><span class=nx>src</span><span class=o>=</span><span class=p>{</span><span class=nx>cat</span><span class=p>.</span><span class=nx>imageUrl</span><span class=p>}</span>
<span class=w>                                </span><span class=nx>alt</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;Cat #&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>cat</span><span class=p>.</span><span class=nx>id</span><span class=p>}</span>
<span class=w>                            </span><span class=o>/&gt;</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=w>                    </span><span class=p>))}</span>
<span class=w>                </span><span class=o>&lt;</span><span class=err>/ul&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>const</span><span class=w> </span><span class=nx>catList</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[];</span>
<span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kd>let</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mf>10</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>catList</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span>
<span class=w>        </span><span class=nx>id</span><span class=o>:</span><span class=w> </span><span class=nx>i</span><span class=p>,</span>
<span class=w>        </span><span class=nx>imageUrl</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;https://placekitten.com/250/200?image=&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>i</span><span class=p>,</span>
<span class=w>    </span><span class=p>});</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nt>div</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>100</span><span class=kt>%</span><span class=p>;</span>
<span class=w>    </span><span class=k>overflow</span><span class=p>:</span><span class=w> </span><span class=kc>hidden</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>nav</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>text-align</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>button</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mf>0.25</span><span class=kt>rem</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>ul</span><span class=o>,</span>
<span class=nt>li</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>list-style</span><span class=p>:</span><span class=w> </span><span class=kc>none</span><span class=p>;</span>
<span class=w>    </span><span class=k>white-space</span><span class=p>:</span><span class=w> </span><span class=kc>nowrap</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>li</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>inline</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mf>0.5</span><span class=kt>rem</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>img</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>-10</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>transition</span><span class=p>:</span><span class=w> </span><span class=k>background</span><span class=w> </span><span class=mf>0.2</span><span class=kt>s</span><span class=w> </span><span class=kc>linear</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>active</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>background</span><span class=p>:</span><span class=w> </span><span class=nb>rgba</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>100</span><span class=p>,</span><span class=w> </span><span class=mi>150</span><span class=p>,</span><span class=w> </span><span class=mf>0.4</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p></solution></p> <h4 id=focus-the-search-field-with-separate-components>Focus the search field with separate components<a class=headerlink href=#focus-the-search-field-with-separate-components title="Permanent link">&para;</a></h4> <p>Make it so that clicking the "Search" button puts focus into the field. Note that each component is defined in a separate file and shouldn't be moved out of it. How do you connect them together?</p> <p><hint></p> <p>You'll need <code>forwardRef</code> to opt into exposing a DOM node from your own component like <code>SearchInput</code>.</p> <p></hint></p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=nx>SearchButton</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./SearchButton.js&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=nx>SearchInput</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./SearchInput.js&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Page</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>nav</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>SearchButton</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/nav&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>SearchInput</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>SearchButton</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>button</span><span class=o>&gt;</span><span class=nx>Search</span><span class=o>&lt;</span><span class=err>/button&gt;;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>SearchInput</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>input</span><span class=w> </span><span class=nx>placeholder</span><span class=o>=</span><span class=s2>&quot;Looking for something?&quot;</span><span class=w> </span><span class=o>/&gt;</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nt>button</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>block</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p><solution></p> <p>You'll need to add an <code>on_click</code> prop to the <code>SearchButton</code>, and make the <code>SearchButton</code> pass it down to the browser <code>&lt;button&gt;</code>. You'll also pass a ref down to <code>&lt;SearchInput&gt;</code>, which will forward it to the real <code>&lt;input&gt;</code> and populate it. Finally, in the click handler, you'll call <code>focus</code> on the DOM node stored inside that ref.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useRef</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=nx>SearchButton</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./SearchButton.js&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=nx>SearchInput</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./SearchInput.js&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Page</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>inputRef</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useRef</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>nav</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>SearchButton</span>
<span class=w>                    </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>                        </span><span class=nx>inputRef</span><span class=p>.</span><span class=nx>current</span><span class=p>.</span><span class=nx>focus</span><span class=p>();</span>
<span class=w>                    </span><span class=p>}}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/nav&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>SearchInput</span><span class=w> </span><span class=nx>ref</span><span class=o>=</span><span class=p>{</span><span class=nx>inputRef</span><span class=p>}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>SearchButton</span><span class=p>({</span><span class=w> </span><span class=nx>on_click</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>on_click</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Search</span><span class=o>&lt;</span><span class=err>/button&gt;;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>forwardRef</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=nx>forwardRef</span><span class=p>(</span><span class=kd>function</span><span class=w> </span><span class=nx>SearchInput</span><span class=p>(</span><span class=nx>props</span><span class=p>,</span><span class=w> </span><span class=nx>ref</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>input</span><span class=w> </span><span class=nx>ref</span><span class=o>=</span><span class=p>{</span><span class=nx>ref</span><span class=p>}</span><span class=w> </span><span class=nx>placeholder</span><span class=o>=</span><span class=s2>&quot;Looking for something?&quot;</span><span class=w> </span><span class=o>/&gt;</span><span class=p>;</span>
<span class=p>});</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nt>button</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>block</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p></solution></p> <p></challenges></p> <hr> <div class=md-source-file> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="August 28, 2023 08:11:22 UTC">August 28, 2023</span> </small> </div> <div class=md-source-date> <small> Authors: <span class="git-page-authors git-authors"><a href=mailto:16909269+archmonger@users.noreply.github.com>Archmonger</a></span> </small> </div> </article> </div> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy;<div id=year> </div> <script> document.getElementById("year").innerHTML = new Date().getFullYear(); </script>Reactive Python and affiliates.<div class=legal-footer-right>This project has no affiliation to ReactJS or Meta Platforms, Inc.</div> </div> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.top", "content.code.copy", "search.highlight"], "search": "../../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.4e0fa4ba.min.js></script> <script src=../../assets/js/main.js></script> </body> </html>