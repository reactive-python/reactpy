<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="It's React, but in Python."><meta name=author content=Archmonger><link href=https://reactive-python.github.io/reactpy/learn/passing-data-deeply-with-context/ rel=canonical><link href=../extracting-state-logic-into-a-reducer/ rel=prev><link href=../scaling-up-with-reducer-and-context/ rel=next><link rel=icon href=https://raw.githubusercontent.com/reactive-python/reactpy/main/branding/svg/reactpy-logo-square.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.4.0"><title>Passing Data Deeply with Context ðŸš§ - ReactPy</title><link rel=stylesheet href=../../assets/stylesheets/main.9f615399.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.649f08f9.min.css><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h224V368c0-26.5 21.5-48 48-48h112V96c0-35.3-28.7-64-64-64H64zm384 320H336c-8.8 0-16 7.2-16 16v112l32-32 64-64 32-32z"/></svg>');}</style><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../assets/_mkdocstrings.css><link rel=stylesheet href=../../assets/css/main.css><link rel=stylesheet href=../../assets/css/button.css><link rel=stylesheet href=../../assets/css/admonition.css><link rel=stylesheet href=../../assets/css/banner.css><link rel=stylesheet href=../../assets/css/sidebar.css><link rel=stylesheet href=../../assets/css/navbar.css><link rel=stylesheet href=../../assets/css/table-of-contents.css><link rel=stylesheet href=../../assets/css/code.css><link rel=stylesheet href=../../assets/css/footer.css><link rel=stylesheet href=../../assets/css/home.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=red data-md-color-accent=red> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#overview class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest release. <a href=../../..> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title=ReactPy class="md-header__button md-logo" aria-label=ReactPy data-md-component=logo> <img src=https://raw.githubusercontent.com/reactive-python/reactpy/main/branding/svg/reactpy-logo-square.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ReactPy </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Passing Data Deeply with Context ðŸš§ </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=red data-md-color-accent=red aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m3.55 19.09 1.41 1.41 1.8-1.79-1.42-1.42M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6c0-3.32-2.69-6-6-6m8 7h3v-2h-3m-2.76 7.71 1.8 1.79 1.41-1.41-1.79-1.8M20.45 5l-1.41-1.4-1.8 1.79 1.42 1.42M13 1h-2v3h2M6.76 5.39 4.96 3.6 3.55 5l1.79 1.81 1.42-1.42M1 13h3v-2H1m12 9h-2v3h2"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=red aria-label="Switch to dark mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/reactive-python/reactpy title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> ReactPy </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../quick-start/ class=md-tabs__link> Get Started </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../your-first-component/ class=md-tabs__link> Learn </a> </li> <li class=md-tabs__item> <a href=../../reference/overview/ class=md-tabs__link> Reference </a> </li> <li class=md-tabs__item> <a href=../../about/changelog/ class=md-tabs__link> About </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=ReactPy class="md-nav__button md-logo" aria-label=ReactPy data-md-component=logo> <img src=https://raw.githubusercontent.com/reactive-python/reactpy/main/branding/svg/reactpy-logo-square.svg alt=logo> </a> ReactPy </label> <div class=md-nav__source> <a href=https://github.com/reactive-python/reactpy title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> ReactPy </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Get Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Get Started </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1> <label class=md-nav__link for=__nav_2_1 id=__nav_2_1_label tabindex=0> <span class=md-ellipsis> Quick Start </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> Quick Start </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../quick-start/ class=md-nav__link> <span class=md-ellipsis> Quick start </span> </a> </li> <li class=md-nav__item> <a href=../tutorial-tic-tac-toe/ class=md-nav__link> <span class=md-ellipsis> Tutorial: Tic-Tac-Toe ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../thinking-in-react/ class=md-nav__link> <span class=md-ellipsis> Thinking in React </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> Installation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Installation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../creating-a-react-app/ class=md-nav__link> <span class=md-ellipsis> Creating a Standalone React App </span> </a> </li> <li class=md-nav__item> <a href=../add-react-to-an-existing-project/ class=md-nav__link> <span class=md-ellipsis> Add React to an Existing Project </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class=md-ellipsis> Setup </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../editor-setup/ class=md-nav__link> <span class=md-ellipsis> Editor Setup </span> </a> </li> <li class=md-nav__item> <a href=../extra-tools-and-packages/ class=md-nav__link> <span class=md-ellipsis> Tools, Modules, and Packages ðŸš§ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Learn </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Learn </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> Describing the UI </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> Describing the UI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../your-first-component/ class=md-nav__link> <span class=md-ellipsis> Your First Component ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../importing-and-exporting-components/ class=md-nav__link> <span class=md-ellipsis> Importing and Exporting Components ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../passing-props-to-a-component/ class=md-nav__link> <span class=md-ellipsis> Passing Props to a Component ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../conditional-rendering/ class=md-nav__link> <span class=md-ellipsis> Conditional Rendering ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../rendering-lists/ class=md-nav__link> <span class=md-ellipsis> Rendering Lists ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../keeping-components-pure/ class=md-nav__link> <span class=md-ellipsis> Keeping Components Pure ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> Adding Interactivity </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Adding Interactivity </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../responding-to-events/ class=md-nav__link> <span class=md-ellipsis> Responding to Events ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../state-a-components-memory/ class=md-nav__link> <span class=md-ellipsis> State: A Component's Memory ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../render-and-commit/ class=md-nav__link> <span class=md-ellipsis> Render and Commit ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../state-as-a-snapshot/ class=md-nav__link> <span class=md-ellipsis> State as a Snapshot ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../queueing-a-series-of-state-updates/ class=md-nav__link> <span class=md-ellipsis> Queueing a Series of State Updates ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../updating-objects-in-state/ class=md-nav__link> <span class=md-ellipsis> Updating Objects in State ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../updating-arrays-in-state/ class=md-nav__link> <span class=md-ellipsis> Updating Arrays in State ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3 checked> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class=md-ellipsis> Managing State </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Managing State </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reacting-to-input-with-state/ class=md-nav__link> <span class=md-ellipsis> Reacting to Input with State ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../choosing-the-state-structure/ class=md-nav__link> <span class=md-ellipsis> Choosing the State Structure ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../sharing-state-between-components/ class=md-nav__link> <span class=md-ellipsis> Sharing State Between Components ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../preserving-and-resetting-state/ class=md-nav__link> <span class=md-ellipsis> Preserving and Resetting State ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../extracting-state-logic-into-a-reducer/ class=md-nav__link> <span class=md-ellipsis> Extracting State Logic into a Reducer ðŸš§ </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Passing Data Deeply with Context ðŸš§ </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Passing Data Deeply with Context ðŸš§ </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=#the-problem-with-passing-props class=md-nav__link> The problem with passing props </a> </li> <li class=md-nav__item> <a href=#context-an-alternative-to-passing-props class=md-nav__link> Context: an alternative to passing props </a> <nav class=md-nav aria-label="Context: an alternative to passing props"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#step-1-create-the-context class=md-nav__link> Step 1: Create the context </a> </li> <li class=md-nav__item> <a href=#step-2-use-the-context class=md-nav__link> Step 2: Use the context </a> </li> <li class=md-nav__item> <a href=#step-3-provide-the-context class=md-nav__link> Step 3: Provide the context </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#using-and-providing-context-from-the-same-component class=md-nav__link> Using and providing context from the same component </a> </li> <li class=md-nav__item> <a href=#context-passes-through-intermediate-components class=md-nav__link> Context passes through intermediate components </a> </li> <li class=md-nav__item> <a href=#before-you-use-context class=md-nav__link> Before you use context </a> </li> <li class=md-nav__item> <a href=#use-cases-for-context class=md-nav__link> Use cases for context </a> <nav class=md-nav aria-label="Use cases for context"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#replace-prop-drilling-with-context class=md-nav__link> Replace prop drilling with context </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../scaling-up-with-reducer-and-context/ class=md-nav__link> <span class=md-ellipsis> Scaling Up with Reducer and Context ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex=0> <span class=md-ellipsis> Escape Hatches </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Escape Hatches </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../referencing-values-with-refs/ class=md-nav__link> <span class=md-ellipsis> Referencing Values with Refs ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../manipulating-the-dom-with-refs/ class=md-nav__link> <span class=md-ellipsis> Manipulating the DOM with Refs ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../synchronizing-with-effects/ class=md-nav__link> <span class=md-ellipsis> Synchronizing with Effects ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../you-might-not-need-an-effect/ class=md-nav__link> <span class=md-ellipsis> You Might Not Need an Effect ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../lifecycle-of-reactive-effects/ class=md-nav__link> <span class=md-ellipsis> Lifecycle of Reactive Effects ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../separating-events-from-effects/ class=md-nav__link> <span class=md-ellipsis> Separating Events from Effects ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../removing-effect-dependencies/ class=md-nav__link> <span class=md-ellipsis> Removing Effect Dependencies ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../reusing-logic-with-custom-hooks/ class=md-nav__link> <span class=md-ellipsis> Reusing Logic with Custom Hooks ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../communicate-data-between-server-and-client/ class=md-nav__link> <span class=md-ellipsis> Communicating Data Between Server and Client ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../convert-between-vdom-and-html/ class=md-nav__link> <span class=md-ellipsis> Convert Between VDOM and HTML ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../vdom-mutations/ class=md-nav__link> <span class=md-ellipsis> VDOM Mutations ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../creating-vdom-event-handlers/ class=md-nav__link> <span class=md-ellipsis> Creating VDOM Event Handlers ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../creating-html-tags/ class=md-nav__link> <span class=md-ellipsis> Creating HTML Tags ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../creating-backends/ class=md-nav__link> <span class=md-ellipsis> Creating Backends ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../manually-register-a-client/ class=md-nav__link> <span class=md-ellipsis> Manually Register a Client ðŸš§ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> Hooks </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Hooks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/use-state/ class=md-nav__link> <span class=md-ellipsis> Use State ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-effect/ class=md-nav__link> <span class=md-ellipsis> Use Effect ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-async-effect/ class=md-nav__link> <span class=md-ellipsis> Use Async Effect ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-context/ class=md-nav__link> <span class=md-ellipsis> Use Context ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-reducer/ class=md-nav__link> <span class=md-ellipsis> Use Reducer ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-callback/ class=md-nav__link> <span class=md-ellipsis> Use Callback ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-memo/ class=md-nav__link> <span class=md-ellipsis> Use Memo ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-ref/ class=md-nav__link> <span class=md-ellipsis> Use Ref ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-debug-value/ class=md-nav__link> <span class=md-ellipsis> Use Debug Value ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-connection/ class=md-nav__link> <span class=md-ellipsis> Use Connection ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-scope/ class=md-nav__link> <span class=md-ellipsis> Use Scope ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-location/ class=md-nav__link> <span class=md-ellipsis> Use Location ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> HTML Tags </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> HTML Tags </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/common-props/ class=md-nav__link> <span class=md-ellipsis> Common Props ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/usage/ class=md-nav__link> <span class=md-ellipsis> Usage ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex=0> <span class=md-ellipsis> Executors </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Executors </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/reactpy/ class=md-nav__link> <span class=md-ellipsis> ReactPy </span> </a> </li> <li class=md-nav__item> <a href=../../reference/reactpy-csr/ class=md-nav__link> <span class=md-ellipsis> ReactPyCsr ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/reactpy-middleware/ class=md-nav__link> <span class=md-ellipsis> ReactPyMiddleware ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5 id=__nav_4_5_label tabindex=0> <span class=md-ellipsis> Rules of React </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> Rules of React </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/rules-of-react/ class=md-nav__link> <span class=md-ellipsis> Overview ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/components-and-hooks-must-be-pure/ class=md-nav__link> <span class=md-ellipsis> Components and Hooks must be pure ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/react-calls-components-and-hooks/ class=md-nav__link> <span class=md-ellipsis> React calls Components and Hooks ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/rules-of-hooks/ class=md-nav__link> <span class=md-ellipsis> Rules of Hooks ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../reference/protocol-structure/ class=md-nav__link> <span class=md-ellipsis> Protocol Structure ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/client-api/ class=md-nav__link> <span class=md-ellipsis> Client API ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> About </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> About </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../about/changelog/ class=md-nav__link> <span class=md-ellipsis> Changelog ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../about/community/ class=md-nav__link> <span class=md-ellipsis> Community ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../about/running-tests/ class=md-nav__link> <span class=md-ellipsis> Running Tests ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../about/code/ class=md-nav__link> <span class=md-ellipsis> Contributing Code ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../about/docs/ class=md-nav__link> <span class=md-ellipsis> Contributing Documentation ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../about/licenses/ class=md-nav__link> <span class=md-ellipsis> Licenses ðŸš§ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=#the-problem-with-passing-props class=md-nav__link> The problem with passing props </a> </li> <li class=md-nav__item> <a href=#context-an-alternative-to-passing-props class=md-nav__link> Context: an alternative to passing props </a> <nav class=md-nav aria-label="Context: an alternative to passing props"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#step-1-create-the-context class=md-nav__link> Step 1: Create the context </a> </li> <li class=md-nav__item> <a href=#step-2-use-the-context class=md-nav__link> Step 2: Use the context </a> </li> <li class=md-nav__item> <a href=#step-3-provide-the-context class=md-nav__link> Step 3: Provide the context </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#using-and-providing-context-from-the-same-component class=md-nav__link> Using and providing context from the same component </a> </li> <li class=md-nav__item> <a href=#context-passes-through-intermediate-components class=md-nav__link> Context passes through intermediate components </a> </li> <li class=md-nav__item> <a href=#before-you-use-context class=md-nav__link> Before you use context </a> </li> <li class=md-nav__item> <a href=#use-cases-for-context class=md-nav__link> Use cases for context </a> <nav class=md-nav aria-label="Use cases for context"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#replace-prop-drilling-with-context class=md-nav__link> Replace prop drilling with context </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>Passing Data Deeply with Context ðŸš§</h1> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">&para;</a></h2> <p class=intro> Usually, you will pass information from a parent component to a child component via props. But passing props can become verbose and inconvenient if you have to pass them through many components in the middle, or if many components in your app need the same information. <em>Context</em> lets the parent component make some information available to any component in the tree below itâ€”no matter how deepâ€”without passing it explicitly through props. </p> <div class="admonition summary"> <p class=admonition-title>You will learn</p> <ul> <li>What "prop drilling" is</li> <li>How to replace repetitive prop passing with context</li> <li>Common use cases for context</li> <li>Common alternatives to context</li> </ul> </div> <h2 id=the-problem-with-passing-props>The problem with passing props<a class=headerlink href=#the-problem-with-passing-props title="Permanent link">&para;</a></h2> <p><a href=/learn/passing-props-to-a-component>Passing props</a> is a great way to explicitly pipe data through your UI tree to the components that use it.</p> <p>But passing props can become verbose and inconvenient when you need to pass some prop deeply through the tree, or if many components need the same prop. The nearest common ancestor could be far removed from the components that need data, and <a href=/learn/sharing-state-between-components>lifting state up</a> that high can lead to a situation called "prop drilling".</p> <!-- TODO: Diagram --> <p>Wouldn't it be great if there were a way to "teleport" data to the components in the tree that need it without passing props? With React's context feature, there is!</p> <h2 id=context-an-alternative-to-passing-props>Context: an alternative to passing props<a class=headerlink href=#context-an-alternative-to-passing-props title="Permanent link">&para;</a></h2> <p>Context lets a parent component provide data to the entire tree below it. There are many uses for context. Here is one example. Consider this <code>Heading</code> component that accepts a <code>level</code> for its size:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=nx>Heading</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./Heading.js&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=nx>Section</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./Section.js&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Page</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>Section</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>1</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Title</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>2</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>3</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>4</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>5</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>6</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Section</span><span class=p>({</span><span class=w> </span><span class=nx>children</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>section</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;section&quot;</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/section&gt;;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Heading</span><span class=p>({</span><span class=w> </span><span class=nx>level</span><span class=p>,</span><span class=w> </span><span class=nx>children</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>switch</span><span class=w> </span><span class=p>(</span><span class=nx>level</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>1</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h1</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h1&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>2</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h2</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h2&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>3</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h3</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h3&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>4</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h4</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h4&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>5</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h5</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h5&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>6</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h6</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h6&gt;;</span>
<span class=w>        </span><span class=k>default</span><span class=o>:</span>
<span class=w>            </span><span class=k>throw</span><span class=w> </span><span class=ne>Error</span><span class=p>(</span><span class=s2>&quot;Unknown level: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>level</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>.</span><span class=nc>section</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>border-radius</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#aaa</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Let's say you want multiple headings within the same <code>Section</code> to always have the same size:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=nx>Heading</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./Heading.js&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=nx>Section</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./Section.js&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Page</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>Section</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>1</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Title</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Section</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>2</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>2</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>2</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Section</span><span class=o>&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>3</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>3</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>3</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>Section</span><span class=o>&gt;</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>4</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>4</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>4</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Section</span><span class=p>({</span><span class=w> </span><span class=nx>children</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>section</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;section&quot;</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/section&gt;;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Heading</span><span class=p>({</span><span class=w> </span><span class=nx>level</span><span class=p>,</span><span class=w> </span><span class=nx>children</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>switch</span><span class=w> </span><span class=p>(</span><span class=nx>level</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>1</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h1</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h1&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>2</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h2</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h2&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>3</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h3</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h3&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>4</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h4</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h4&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>5</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h5</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h5&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>6</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h6</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h6&gt;;</span>
<span class=w>        </span><span class=k>default</span><span class=o>:</span>
<span class=w>            </span><span class=k>throw</span><span class=w> </span><span class=ne>Error</span><span class=p>(</span><span class=s2>&quot;Unknown level: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>level</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>.</span><span class=nc>section</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>border-radius</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#aaa</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Currently, you pass the <code>level</code> prop to each <code>&lt;Heading&gt;</code> separately:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span></pre></div></td><td class=code><div><pre><span></span><code><span class=o>&lt;</span><span class=nx>Section</span><span class=o>&gt;</span>
<span class=w>    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>3</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>About</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>3</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Photos</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>3</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Videos</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=o>&lt;</span><span class=err>/Section&gt;</span>
</code></pre></div></td></tr></table></div> <p>It would be nice if you could pass the <code>level</code> prop to the <code>&lt;Section&gt;</code> component instead and remove it from the <code>&lt;Heading&gt;</code>. This way you could enforce that all headings in the same section have the same size:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span></pre></div></td><td class=code><div><pre><span></span><code><span class=o>&lt;</span><span class=nx>Section</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>3</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>About</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Photos</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Videos</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=o>&lt;</span><span class=err>/Section&gt;</span>
</code></pre></div></td></tr></table></div> <p>But how can the <code>&lt;Heading&gt;</code> component know the level of its closest <code>&lt;Section&gt;</code>? <strong>That would require some way for a child to "ask" for data from somewhere above in the tree.</strong></p> <p>You can't do it with props alone. This is where context comes into play. You will do it in three steps:</p> <ol> <li><strong>Create</strong> a context. (You can call it <code>LevelContext</code>, since it's for the heading level.)</li> <li><strong>Use</strong> that context from the component that needs the data. (<code>Heading</code> will use <code>LevelContext</code>.)</li> <li><strong>Provide</strong> that context from the component that specifies the data. (<code>Section</code> will provide <code>LevelContext</code>.)</li> </ol> <p>Context lets a parent--even a distant one!--provide some data to the entire tree inside of it.</p> <!-- TODO: Diagram --> <h3 id=step-1-create-the-context>Step 1: Create the context<a class=headerlink href=#step-1-create-the-context title="Permanent link">&para;</a></h3> <p>First, you need to create the context. You'll need to <strong>export it from a file</strong> so that your components can use it:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=nx>Heading</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./Heading.js&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=nx>Section</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./Section.js&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Page</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>Section</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>1</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Title</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Section</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>2</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>2</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>2</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Section</span><span class=o>&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>3</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>3</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>3</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>Section</span><span class=o>&gt;</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>4</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>4</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>4</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Section</span><span class=p>({</span><span class=w> </span><span class=nx>children</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>section</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;section&quot;</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/section&gt;;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Heading</span><span class=p>({</span><span class=w> </span><span class=nx>level</span><span class=p>,</span><span class=w> </span><span class=nx>children</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>switch</span><span class=w> </span><span class=p>(</span><span class=nx>level</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>1</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h1</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h1&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>2</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h2</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h2&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>3</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h3</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h3&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>4</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h4</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h4&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>5</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h5</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h5&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>6</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h6</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h6&gt;;</span>
<span class=w>        </span><span class=k>default</span><span class=o>:</span>
<span class=w>            </span><span class=k>throw</span><span class=w> </span><span class=ne>Error</span><span class=p>(</span><span class=s2>&quot;Unknown level: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>level</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>createContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=kd>const</span><span class=w> </span><span class=nx>LevelContext</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>createContext</span><span class=p>(</span><span class=mf>1</span><span class=p>);</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>.</span><span class=nc>section</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>border-radius</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#aaa</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>The only argument to <code>createContext</code> is the <em>default</em> value. Here, <code>1</code> refers to the biggest heading level, but you could pass any kind of value (even an object). You will see the significance of the default value in the next step.</p> <h3 id=step-2-use-the-context>Step 2: Use the context<a class=headerlink href=#step-2-use-the-context title="Permanent link">&para;</a></h3> <p>Import the <code>useContext</code> Hook from React and your context:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>LevelContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./LevelContext.js&quot;</span><span class=p>;</span>
</code></pre></div></td></tr></table></div> <p>Currently, the <code>Heading</code> component reads <code>level</code> from props:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Heading</span><span class=p>({</span><span class=w> </span><span class=nx>level</span><span class=p>,</span><span class=w> </span><span class=nx>children</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=c1>// ...</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Instead, remove the <code>level</code> prop and read the value from the context you just imported, <code>LevelContext</code>:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Heading</span><span class=p>({</span><span class=w> </span><span class=nx>children</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>level</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useContext</span><span class=p>(</span><span class=nx>LevelContext</span><span class=p>);</span>
<span class=w>    </span><span class=c1>// ...</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p><code>useContext</code> is a Hook. Just like <code>useState</code> and <code>useReducer</code>, you can only call a Hook immediately inside a React component (not inside loops or conditions). <strong><code>useContext</code> tells React that the <code>Heading</code> component wants to read the <code>LevelContext</code>.</strong></p> <p>Now that the <code>Heading</code> component doesn't have a <code>level</code> prop, you don't need to pass the level prop to <code>Heading</code> in your JSX like this anymore:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span></pre></div></td><td class=code><div><pre><span></span><code><span class=o>&lt;</span><span class=nx>Section</span><span class=o>&gt;</span>
<span class=w>    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>4</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>4</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>4</span><span class=p>}</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=o>&lt;</span><span class=err>/Section&gt;</span>
</code></pre></div></td></tr></table></div> <p>Update the JSX so that it's the <code>Section</code> that receives it instead:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>&lt;</span><span class=nt>Section</span><span class=w> </span><span class=na>level</span><span class=o>=</span><span class=p>{</span><span class=mf>4</span><span class=p>}&gt;</span>
<span class=w>    </span><span class=p>&lt;</span><span class=nt>Heading</span><span class=p>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=p>&lt;/</span><span class=nt>Heading</span><span class=p>&gt;</span>
<span class=w>    </span><span class=p>&lt;</span><span class=nt>Heading</span><span class=p>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=p>&lt;/</span><span class=nt>Heading</span><span class=p>&gt;</span>
<span class=w>    </span><span class=p>&lt;</span><span class=nt>Heading</span><span class=p>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=p>&lt;/</span><span class=nt>Heading</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>Section</span><span class=p>&gt;</span>
</code></pre></div></td></tr></table></div> <p>As a reminder, this is the markup that you were trying to get working:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=nx>Heading</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./Heading.js&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=nx>Section</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./Section.js&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Page</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>Section</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>1</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Title</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Section</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>2</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Section</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>3</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>Section</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>4</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Section</span><span class=p>({</span><span class=w> </span><span class=nx>children</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>section</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;section&quot;</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/section&gt;;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>LevelContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./LevelContext.js&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Heading</span><span class=p>({</span><span class=w> </span><span class=nx>children</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>level</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useContext</span><span class=p>(</span><span class=nx>LevelContext</span><span class=p>);</span>
<span class=w>    </span><span class=k>switch</span><span class=w> </span><span class=p>(</span><span class=nx>level</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>1</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h1</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h1&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>2</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h2</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h2&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>3</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h3</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h3&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>4</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h4</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h4&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>5</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h5</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h5&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>6</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h6</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h6&gt;;</span>
<span class=w>        </span><span class=k>default</span><span class=o>:</span>
<span class=w>            </span><span class=k>throw</span><span class=w> </span><span class=ne>Error</span><span class=p>(</span><span class=s2>&quot;Unknown level: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>level</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>createContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=kd>const</span><span class=w> </span><span class=nx>LevelContext</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>createContext</span><span class=p>(</span><span class=mf>1</span><span class=p>);</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>.</span><span class=nc>section</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>border-radius</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#aaa</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Notice this example doesn't quite work, yet! All the headings have the same size because <strong>even though you're <em>using</em> the context, you have not <em>provided</em> it yet.</strong> React doesn't know where to get it!</p> <p>If you don't provide the context, React will use the default value you've specified in the previous step. In this example, you specified <code>1</code> as the argument to <code>createContext</code>, so <code>useContext(LevelContext)</code> returns <code>1</code>, setting all those headings to <code>&lt;h1&gt;</code>. Let's fix this problem by having each <code>Section</code> provide its own context.</p> <h3 id=step-3-provide-the-context>Step 3: Provide the context<a class=headerlink href=#step-3-provide-the-context title="Permanent link">&para;</a></h3> <p>The <code>Section</code> component currently renders its children:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Section</span><span class=p>({</span><span class=w> </span><span class=nx>children</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>section</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;section&quot;</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/section&gt;;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p><strong>Wrap them with a context provider</strong> to provide the <code>LevelContext</code> to them:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>LevelContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./LevelContext.js&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Section</span><span class=p>({</span><span class=w> </span><span class=nx>level</span><span class=p>,</span><span class=w> </span><span class=nx>children</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>section</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;section&quot;</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>LevelContext</span><span class=p>.</span><span class=nx>Provider</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>level</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>                </span><span class=p>{</span><span class=nx>children</span><span class=p>}</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/LevelContext.Provider&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/section&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>This tells React: "if any component inside this <code>&lt;Section&gt;</code> asks for <code>LevelContext</code>, give them this <code>level</code>." The component will use the value of the nearest <code>&lt;LevelContext.Provider&gt;</code> in the UI tree above it.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=nx>Heading</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./Heading.js&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=nx>Section</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./Section.js&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Page</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>Section</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>1</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Title</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Section</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>2</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Section</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>3</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>Section</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>4</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>LevelContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./LevelContext.js&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Section</span><span class=p>({</span><span class=w> </span><span class=nx>level</span><span class=p>,</span><span class=w> </span><span class=nx>children</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>section</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;section&quot;</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>LevelContext</span><span class=p>.</span><span class=nx>Provider</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>level</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>                </span><span class=p>{</span><span class=nx>children</span><span class=p>}</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/LevelContext.Provider&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/section&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>LevelContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./LevelContext.js&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Heading</span><span class=p>({</span><span class=w> </span><span class=nx>children</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>level</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useContext</span><span class=p>(</span><span class=nx>LevelContext</span><span class=p>);</span>
<span class=w>    </span><span class=k>switch</span><span class=w> </span><span class=p>(</span><span class=nx>level</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>1</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h1</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h1&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>2</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h2</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h2&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>3</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h3</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h3&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>4</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h4</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h4&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>5</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h5</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h5&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>6</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h6</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h6&gt;;</span>
<span class=w>        </span><span class=k>default</span><span class=o>:</span>
<span class=w>            </span><span class=k>throw</span><span class=w> </span><span class=ne>Error</span><span class=p>(</span><span class=s2>&quot;Unknown level: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>level</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>createContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=kd>const</span><span class=w> </span><span class=nx>LevelContext</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>createContext</span><span class=p>(</span><span class=mf>1</span><span class=p>);</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>.</span><span class=nc>section</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>border-radius</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#aaa</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>It's the same result as the original code, but you did not need to pass the <code>level</code> prop to each <code>Heading</code> component! Instead, it "figures out" its heading level by asking the closest <code>Section</code> above:</p> <ol> <li>You pass a <code>level</code> prop to the <code>&lt;Section&gt;</code>.</li> <li><code>Section</code> wraps its children into <code>&lt;LevelContext.Provider value={level}&gt;</code>.</li> <li><code>Heading</code> asks the closest value of <code>LevelContext</code> above with <code>useContext(LevelContext)</code>.</li> </ol> <h2 id=using-and-providing-context-from-the-same-component>Using and providing context from the same component<a class=headerlink href=#using-and-providing-context-from-the-same-component title="Permanent link">&para;</a></h2> <p>Currently, you still have to specify each section's <code>level</code> manually:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Page</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>    </span><span class=o>&lt;</span><span class=nx>Section</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>1</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>      </span><span class=p>...</span>
<span class=w>      </span><span class=o>&lt;</span><span class=nx>Section</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>2</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>        </span><span class=p>...</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>Section</span><span class=w> </span><span class=nx>level</span><span class=o>=</span><span class=p>{</span><span class=mf>3</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>          </span><span class=p>...</span>
</code></pre></div></td></tr></table></div> <p>Since context lets you read information from a component above, each <code>Section</code> could read the <code>level</code> from the <code>Section</code> above, and pass <code>level + 1</code> down automatically. Here is how you could do it:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>LevelContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./LevelContext.js&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Section</span><span class=p>({</span><span class=w> </span><span class=nx>children</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>level</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useContext</span><span class=p>(</span><span class=nx>LevelContext</span><span class=p>);</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>section</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;section&quot;</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>LevelContext</span><span class=p>.</span><span class=nx>Provider</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>level</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mf>1</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>                </span><span class=p>{</span><span class=nx>children</span><span class=p>}</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/LevelContext.Provider&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/section&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>With this change, you don't need to pass the <code>level</code> prop <em>either</em> to the <code>&lt;Section&gt;</code> or to the <code>&lt;Heading&gt;</code>:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=nx>Heading</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./Heading.js&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=nx>Section</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./Section.js&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Page</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>Section</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Title</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Section</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Section</span><span class=o>&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=nx>Section</span><span class=o>&gt;</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                        </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Sub</span><span class=o>-</span><span class=nx>sub</span><span class=o>-</span><span class=nx>heading</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>                    </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>LevelContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./LevelContext.js&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Section</span><span class=p>({</span><span class=w> </span><span class=nx>children</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>level</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useContext</span><span class=p>(</span><span class=nx>LevelContext</span><span class=p>);</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>section</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;section&quot;</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>LevelContext</span><span class=p>.</span><span class=nx>Provider</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>level</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mf>1</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>                </span><span class=p>{</span><span class=nx>children</span><span class=p>}</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/LevelContext.Provider&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/section&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>LevelContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./LevelContext.js&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Heading</span><span class=p>({</span><span class=w> </span><span class=nx>children</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>level</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useContext</span><span class=p>(</span><span class=nx>LevelContext</span><span class=p>);</span>
<span class=w>    </span><span class=k>switch</span><span class=w> </span><span class=p>(</span><span class=nx>level</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>0</span><span class=o>:</span>
<span class=w>            </span><span class=k>throw</span><span class=w> </span><span class=ne>Error</span><span class=p>(</span><span class=s2>&quot;Heading must be inside a Section!&quot;</span><span class=p>);</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>1</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h1</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h1&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>2</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h2</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h2&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>3</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h3</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h3&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>4</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h4</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h4&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>5</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h5</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h5&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>6</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h6</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h6&gt;;</span>
<span class=w>        </span><span class=k>default</span><span class=o>:</span>
<span class=w>            </span><span class=k>throw</span><span class=w> </span><span class=ne>Error</span><span class=p>(</span><span class=s2>&quot;Unknown level: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>level</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>createContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=kd>const</span><span class=w> </span><span class=nx>LevelContext</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>createContext</span><span class=p>(</span><span class=mf>0</span><span class=p>);</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>.</span><span class=nc>section</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>border-radius</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#aaa</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Now both <code>Heading</code> and <code>Section</code> read the <code>LevelContext</code> to figure out how "deep" they are. And the <code>Section</code> wraps its children into the <code>LevelContext</code> to specify that anything inside of it is at a "deeper" level.</p> <p><note></p> <p>This example uses heading levels because they show visually how nested components can override context. But context is useful for many other use cases too. You can pass down any information needed by the entire subtree: the current color theme, the currently logged in user, and so on.</p> <p></note></p> <h2 id=context-passes-through-intermediate-components>Context passes through intermediate components<a class=headerlink href=#context-passes-through-intermediate-components title="Permanent link">&para;</a></h2> <p>You can insert as many components as you like between the component that provides context and the one that uses it. This includes both built-in components like <code>&lt;div&gt;</code> and components you might build yourself.</p> <p>In this example, the same <code>Post</code> component (with a dashed border) is rendered at two different nesting levels. Notice that the <code>&lt;Heading&gt;</code> inside of it gets its level automatically from the closest <code>&lt;Section&gt;</code>:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=nx>Heading</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./Heading.js&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=nx>Section</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./Section.js&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>ProfilePage</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>Section</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>My</span><span class=w> </span><span class=nx>Profile</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Post</span><span class=w> </span><span class=nx>title</span><span class=o>=</span><span class=s2>&quot;Hello traveller!&quot;</span><span class=w> </span><span class=nx>body</span><span class=o>=</span><span class=s2>&quot;Read about my adventures.&quot;</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>AllPosts</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>AllPosts</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>Section</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Posts</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>RecentPosts</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>RecentPosts</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>Section</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=nx>Recent</span><span class=w> </span><span class=nx>Posts</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Post</span><span class=w> </span><span class=nx>title</span><span class=o>=</span><span class=s2>&quot;Flavors of Lisbon&quot;</span><span class=w> </span><span class=nx>body</span><span class=o>=</span><span class=s2>&quot;...those pastÃ©is de nata!&quot;</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Post</span>
<span class=w>                </span><span class=nx>title</span><span class=o>=</span><span class=s2>&quot;Buenos Aires in the rhythm of tango&quot;</span>
<span class=w>                </span><span class=nx>body</span><span class=o>=</span><span class=s2>&quot;I loved it!&quot;</span>
<span class=w>            </span><span class=o>/&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>Post</span><span class=p>({</span><span class=w> </span><span class=nx>title</span><span class=p>,</span><span class=w> </span><span class=nx>body</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>Section</span><span class=w> </span><span class=nx>isFancy</span><span class=o>=</span><span class=p>{</span><span class=kc>true</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Heading</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>title</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/Heading&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>p</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>i</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>body</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/i&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/p&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/Section&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>LevelContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./LevelContext.js&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Section</span><span class=p>({</span><span class=w> </span><span class=nx>children</span><span class=p>,</span><span class=w> </span><span class=nx>isFancy</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>level</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useContext</span><span class=p>(</span><span class=nx>LevelContext</span><span class=p>);</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>section</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;section &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=nx>isFancy</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s2>&quot;fancy&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>)}</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>LevelContext</span><span class=p>.</span><span class=nx>Provider</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>level</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mf>1</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>                </span><span class=p>{</span><span class=nx>children</span><span class=p>}</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/LevelContext.Provider&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/section&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>LevelContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./LevelContext.js&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Heading</span><span class=p>({</span><span class=w> </span><span class=nx>children</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>level</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useContext</span><span class=p>(</span><span class=nx>LevelContext</span><span class=p>);</span>
<span class=w>    </span><span class=k>switch</span><span class=w> </span><span class=p>(</span><span class=nx>level</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>0</span><span class=o>:</span>
<span class=w>            </span><span class=k>throw</span><span class=w> </span><span class=ne>Error</span><span class=p>(</span><span class=s2>&quot;Heading must be inside a Section!&quot;</span><span class=p>);</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>1</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h1</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h1&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>2</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h2</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h2&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>3</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h3</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h3&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>4</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h4</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h4&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>5</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h5</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h5&gt;;</span>
<span class=w>        </span><span class=k>case</span><span class=w> </span><span class=mf>6</span><span class=o>:</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>h6</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>children</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/h6&gt;;</span>
<span class=w>        </span><span class=k>default</span><span class=o>:</span>
<span class=w>            </span><span class=k>throw</span><span class=w> </span><span class=ne>Error</span><span class=p>(</span><span class=s2>&quot;Unknown level: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>level</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>createContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=kd>const</span><span class=w> </span><span class=nx>LevelContext</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>createContext</span><span class=p>(</span><span class=mf>0</span><span class=p>);</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>.</span><span class=nc>section</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>border-radius</span><span class=p>:</span><span class=w> </span><span class=mi>5</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#aaa</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>fancy</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>4</span><span class=kt>px</span><span class=w> </span><span class=kc>dashed</span><span class=w> </span><span class=kc>pink</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>You didn't do anything special for this to work. A <code>Section</code> specifies the context for the tree inside it, so you can insert a <code>&lt;Heading&gt;</code> anywhere, and it will have the correct size. Try it in the sandbox above!</p> <p><strong>Context lets you write components that "adapt to their surroundings" and display themselves differently depending on <em>where</em> (or, in other words, <em>in which context</em>) they are being rendered.</strong></p> <p>How context works might remind you of <a href=https://developer.mozilla.org/en-US/docs/Web/CSS/inheritance>CSS property inheritance.</a> In CSS, you can specify <code>color: blue</code> for a <code>&lt;div&gt;</code>, and any DOM node inside of it, no matter how deep, will inherit that color unless some other DOM node in the middle overrides it with <code>color: green</code>. Similarly, in React, the only way to override some context coming from above is to wrap children into a context provider with a different value.</p> <p>In CSS, different properties like <code>color</code> and <code>background-color</code> don't override each other. You can set all <code>&lt;div&gt;</code>'s <code>color</code> to red without impacting <code>background-color</code>. Similarly, <strong>different React contexts don't override each other.</strong> Each context that you make with <code>createContext()</code> is completely separate from other ones, and ties together components using and providing <em>that particular</em> context. One component may use or provide many different contexts without a problem.</p> <h2 id=before-you-use-context>Before you use context<a class=headerlink href=#before-you-use-context title="Permanent link">&para;</a></h2> <p>Context is very tempting to use! However, this also means it's too easy to overuse it. <strong>Just because you need to pass some props several levels deep doesn't mean you should put that information into context.</strong></p> <p>Here's a few alternatives you should consider before using context:</p> <ol> <li><strong>Start by <a href=/learn/passing-props-to-a-component>passing props.</a></strong> If your components are not trivial, it's not unusual to pass a dozen props down through a dozen components. It may feel like a slog, but it makes it very clear which components use which data! The person maintaining your code will be glad you've made the data flow explicit with props.</li> <li><strong>Extract components and <a href=/learn/passing-props-to-a-component#passing-jsx-as-children>pass JSX as <code>children</code></a> to them.</strong> If you pass some data through many layers of intermediate components that don't use that data (and only pass it further down), this often means that you forgot to extract some components along the way. For example, maybe you pass data props like <code>posts</code> to visual components that don't use them directly, like <code>&lt;Layout posts={posts} /&gt;</code>. Instead, make <code>Layout</code> take <code>children</code> as a prop, and render <code>&lt;Layout&gt;&lt;Posts posts={posts} /&gt;&lt;/Layout&gt;</code>. This reduces the number of layers between the component specifying the data and the one that needs it.</li> </ol> <p>If neither of these approaches works well for you, consider context.</p> <h2 id=use-cases-for-context>Use cases for context<a class=headerlink href=#use-cases-for-context title="Permanent link">&para;</a></h2> <ul> <li><strong>Theming:</strong> If your app lets the user change its appearance (e.g. dark mode), you can put a context provider at the top of your app, and use that context in components that need to adjust their visual look.</li> <li><strong>Current account:</strong> Many components might need to know the currently logged in user. Putting it in context makes it convenient to read it anywhere in the tree. Some apps also let you operate multiple accounts at the same time (e.g. to leave a comment as a different user). In those cases, it can be convenient to wrap a part of the UI into a nested provider with a different current account value.</li> <li><strong>Routing:</strong> Most routing solutions use context internally to hold the current route. This is how every link "knows" whether it's active or not. If you build your own router, you might want to do it too.</li> <li><strong>Managing state:</strong> As your app grows, you might end up with a lot of state closer to the top of your app. Many distant components below may want to change it. It is common to <a href=/learn/scaling-up-with-reducer-and-context>use a reducer together with context</a> to manage complex state and pass it down to distant components without too much hassle.</li> </ul> <p>Context is not limited to static values. If you pass a different value on the next render, React will update all the components reading it below! This is why context is often used in combination with state.</p> <p>In general, if some information is needed by distant components in different parts of the tree, it's a good indication that context will help you.</p> <p><recap></p> <ul> <li>Context lets a component provide some information to the entire tree below it.</li> <li>To pass context:<ol> <li>Create and export it with <code>export const MyContext = createContext(defaultValue)</code>.</li> <li>Pass it to the <code>useContext(MyContext)</code> Hook to read it in any child component, no matter how deep.</li> <li>Wrap children into <code>&lt;MyContext.Provider value={...}&gt;</code> to provide it from a parent.</li> </ol> </li> <li>Context passes through any components in the middle.</li> <li>Context lets you write components that "adapt to their surroundings".</li> <li>Before you use context, try passing props or passing JSX as <code>children</code>.</li> </ul> <p></recap></p> <p><challenges></p> <h4 id=replace-prop-drilling-with-context>Replace prop drilling with context<a class=headerlink href=#replace-prop-drilling-with-context title="Permanent link">&para;</a></h4> <p>In this example, toggling the checkbox changes the <code>imageSize</code> prop passed to each <code>&lt;PlaceImage&gt;</code>. The checkbox state is held in the top-level <code>App</code> component, but each <code>&lt;PlaceImage&gt;</code> needs to be aware of it.</p> <p>Currently, <code>App</code> passes <code>imageSize</code> to <code>List</code>, which passes it to each <code>Place</code>, which passes it to the <code>PlaceImage</code>. Remove the <code>imageSize</code> prop, and instead pass it from the <code>App</code> component directly to <code>PlaceImage</code>.</p> <p>You can declare context in <code>Context.js</code>.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useState</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>places</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./data.js&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>getImageUrl</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./utils.js&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>App</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>isLarge</span><span class=p>,</span><span class=w> </span><span class=nx>setIsLarge</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>false</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>imageSize</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>isLarge</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=mf>150</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mf>100</span><span class=p>;</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>label</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>input</span>
<span class=w>                    </span><span class=nx>type</span><span class=o>=</span><span class=s2>&quot;checkbox&quot;</span>
<span class=w>                    </span><span class=nx>checked</span><span class=o>=</span><span class=p>{</span><span class=nx>isLarge</span><span class=p>}</span>
<span class=w>                    </span><span class=nx>onChange</span><span class=o>=</span><span class=p>{(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>                        </span><span class=nx>setIsLarge</span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>target</span><span class=p>.</span><span class=nx>checked</span><span class=p>);</span>
<span class=w>                    </span><span class=p>}}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=nx>Use</span><span class=w> </span><span class=nx>large</span><span class=w> </span><span class=nx>images</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/label&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>hr</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>List</span><span class=w> </span><span class=nx>imageSize</span><span class=o>=</span><span class=p>{</span><span class=nx>imageSize</span><span class=p>}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>List</span><span class=p>({</span><span class=w> </span><span class=nx>imageSize</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>listItems</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>places</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>place</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>li</span><span class=w> </span><span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>place</span><span class=p>.</span><span class=nx>id</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Place</span><span class=w> </span><span class=nx>place</span><span class=o>=</span><span class=p>{</span><span class=nx>place</span><span class=p>}</span><span class=w> </span><span class=nx>imageSize</span><span class=o>=</span><span class=p>{</span><span class=nx>imageSize</span><span class=p>}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=w>    </span><span class=p>));</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>ul</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>listItems</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/ul&gt;;</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>Place</span><span class=p>({</span><span class=w> </span><span class=nx>place</span><span class=p>,</span><span class=w> </span><span class=nx>imageSize</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>PlaceImage</span><span class=w> </span><span class=nx>place</span><span class=o>=</span><span class=p>{</span><span class=nx>place</span><span class=p>}</span><span class=w> </span><span class=nx>imageSize</span><span class=o>=</span><span class=p>{</span><span class=nx>imageSize</span><span class=p>}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>p</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>b</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>place</span><span class=p>.</span><span class=nx>name</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/b&gt;</span>
<span class=w>                </span><span class=p>{</span><span class=s2>&quot;: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>place</span><span class=p>.</span><span class=nx>description</span><span class=p>}</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/p&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>PlaceImage</span><span class=p>({</span><span class=w> </span><span class=nx>place</span><span class=p>,</span><span class=w> </span><span class=nx>imageSize</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>img</span>
<span class=w>            </span><span class=nx>src</span><span class=o>=</span><span class=p>{</span><span class=nx>getImageUrl</span><span class=p>(</span><span class=nx>place</span><span class=p>)}</span>
<span class=w>            </span><span class=nx>alt</span><span class=o>=</span><span class=p>{</span><span class=nx>place</span><span class=p>.</span><span class=nx>name</span><span class=p>}</span>
<span class=w>            </span><span class=nx>width</span><span class=o>=</span><span class=p>{</span><span class=nx>imageSize</span><span class=p>}</span>
<span class=w>            </span><span class=nx>height</span><span class=o>=</span><span class=p>{</span><span class=nx>imageSize</span><span class=p>}</span>
<span class=w>        </span><span class=o>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=kd>const</span><span class=w> </span><span class=nx>places</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=nx>id</span><span class=o>:</span><span class=w> </span><span class=mf>0</span><span class=p>,</span>
<span class=w>        </span><span class=nx>name</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Bo-Kaap in Cape Town, South Africa&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>description</span><span class=o>:</span>
<span class=w>            </span><span class=s2>&quot;The tradition of choosing bright colors for houses began in the late 20th century.&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>imageId</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;K9HVAGH&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=p>},</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=nx>id</span><span class=o>:</span><span class=w> </span><span class=mf>1</span><span class=p>,</span>
<span class=w>        </span><span class=nx>name</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Rainbow Village in Taichung, Taiwan&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>description</span><span class=o>:</span>
<span class=w>            </span><span class=s2>&quot;To save the houses from demolition, Huang Yung-Fu, a local resident, painted all 1,200 of them in 1924.&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>imageId</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;9EAYZrt&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=p>},</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=nx>id</span><span class=o>:</span><span class=w> </span><span class=mf>2</span><span class=p>,</span>
<span class=w>        </span><span class=nx>name</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Macromural de Pachuca, Mexico&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>description</span><span class=o>:</span>
<span class=w>            </span><span class=s2>&quot;One of the largest murals in the world covering homes in a hillside neighborhood.&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>imageId</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;DgXHVwu&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=p>},</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=nx>id</span><span class=o>:</span><span class=w> </span><span class=mf>3</span><span class=p>,</span>
<span class=w>        </span><span class=nx>name</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;SelarÃ³n Staircase in Rio de Janeiro, Brazil&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>description</span><span class=o>:</span>
<span class=w>            </span><span class=s1>&#39;This landmark was created by Jorge SelarÃ³n, a Chilean-born artist, as a &quot;tribute to the Brazilian people.&quot;&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>imageId</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;aeO3rpI&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=p>},</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=nx>id</span><span class=o>:</span><span class=w> </span><span class=mf>4</span><span class=p>,</span>
<span class=w>        </span><span class=nx>name</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Burano, Italy&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>description</span><span class=o>:</span>
<span class=w>            </span><span class=s2>&quot;The houses are painted following a specific color system dating back to 16th century.&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>imageId</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;kxsph5C&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=p>},</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=nx>id</span><span class=o>:</span><span class=w> </span><span class=mf>5</span><span class=p>,</span>
<span class=w>        </span><span class=nx>name</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Chefchaouen, Marocco&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>description</span><span class=o>:</span>
<span class=w>            </span><span class=s2>&quot;There are a few theories on why the houses are painted blue, including that the color repells mosquitos or that it symbolizes sky and heaven.&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>imageId</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;rTqKo46&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=p>},</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=nx>id</span><span class=o>:</span><span class=w> </span><span class=mf>6</span><span class=p>,</span>
<span class=w>        </span><span class=nx>name</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Gamcheon Culture Village in Busan, South Korea&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>description</span><span class=o>:</span>
<span class=w>            </span><span class=s2>&quot;In 2009, the village was converted into a cultural hub by painting the houses and featuring exhibitions and art installations.&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>imageId</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;ZfQOOzf&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=p>},</span>
<span class=p>];</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>getImageUrl</span><span class=p>(</span><span class=nx>place</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=s2>&quot;https://i.imgur.com/&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>place</span><span class=p>.</span><span class=nx>imageId</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s2>&quot;l.jpg&quot;</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nt>ul</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>list-style-type</span><span class=p>:</span><span class=w> </span><span class=kc>none</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=kt>px</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
<span class=nt>li</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=k>grid</span><span class=p>;</span>
<span class=w>    </span><span class=k>grid-template-columns</span><span class=p>:</span><span class=w> </span><span class=kc>auto</span><span class=w> </span><span class=mi>1</span><span class=n>fr</span><span class=p>;</span>
<span class=w>    </span><span class=k>gap</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>align-items</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p><solution></p> <p>Remove <code>imageSize</code> prop from all the components.</p> <p>Create and export <code>ImageSizeContext</code> from <code>Context.js</code>. Then wrap the List into <code>&lt;ImageSizeContext.Provider value={imageSize}&gt;</code> to pass the value down, and <code>useContext(ImageSizeContext)</code> to read it in the <code>PlaceImage</code>:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useState</span><span class=p>,</span><span class=w> </span><span class=nx>useContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>places</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./data.js&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>getImageUrl</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./utils.js&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>ImageSizeContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./Context.js&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>App</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>isLarge</span><span class=p>,</span><span class=w> </span><span class=nx>setIsLarge</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>false</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>imageSize</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>isLarge</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=mf>150</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mf>100</span><span class=p>;</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>ImageSizeContext</span><span class=p>.</span><span class=nx>Provider</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>imageSize</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>label</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>input</span>
<span class=w>                    </span><span class=nx>type</span><span class=o>=</span><span class=s2>&quot;checkbox&quot;</span>
<span class=w>                    </span><span class=nx>checked</span><span class=o>=</span><span class=p>{</span><span class=nx>isLarge</span><span class=p>}</span>
<span class=w>                    </span><span class=nx>onChange</span><span class=o>=</span><span class=p>{(</span><span class=nx>e</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>                        </span><span class=nx>setIsLarge</span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>target</span><span class=p>.</span><span class=nx>checked</span><span class=p>);</span>
<span class=w>                    </span><span class=p>}}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=nx>Use</span><span class=w> </span><span class=nx>large</span><span class=w> </span><span class=nx>images</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/label&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>hr</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>List</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/ImageSizeContext.Provider&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>List</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>listItems</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>places</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>place</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>li</span><span class=w> </span><span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>place</span><span class=p>.</span><span class=nx>id</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>Place</span><span class=w> </span><span class=nx>place</span><span class=o>=</span><span class=p>{</span><span class=nx>place</span><span class=p>}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=w>    </span><span class=p>));</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>ul</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>listItems</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/ul&gt;;</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>Place</span><span class=p>({</span><span class=w> </span><span class=nx>place</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>PlaceImage</span><span class=w> </span><span class=nx>place</span><span class=o>=</span><span class=p>{</span><span class=nx>place</span><span class=p>}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>p</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>b</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>place</span><span class=p>.</span><span class=nx>name</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/b&gt;</span>
<span class=w>                </span><span class=p>{</span><span class=s2>&quot;: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>place</span><span class=p>.</span><span class=nx>description</span><span class=p>}</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/p&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>PlaceImage</span><span class=p>({</span><span class=w> </span><span class=nx>place</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>imageSize</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useContext</span><span class=p>(</span><span class=nx>ImageSizeContext</span><span class=p>);</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>img</span>
<span class=w>            </span><span class=nx>src</span><span class=o>=</span><span class=p>{</span><span class=nx>getImageUrl</span><span class=p>(</span><span class=nx>place</span><span class=p>)}</span>
<span class=w>            </span><span class=nx>alt</span><span class=o>=</span><span class=p>{</span><span class=nx>place</span><span class=p>.</span><span class=nx>name</span><span class=p>}</span>
<span class=w>            </span><span class=nx>width</span><span class=o>=</span><span class=p>{</span><span class=nx>imageSize</span><span class=p>}</span>
<span class=w>            </span><span class=nx>height</span><span class=o>=</span><span class=p>{</span><span class=nx>imageSize</span><span class=p>}</span>
<span class=w>        </span><span class=o>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>createContext</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=k>export</span><span class=w> </span><span class=kd>const</span><span class=w> </span><span class=nx>ImageSizeContext</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>createContext</span><span class=p>(</span><span class=mf>500</span><span class=p>);</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=kd>const</span><span class=w> </span><span class=nx>places</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=nx>id</span><span class=o>:</span><span class=w> </span><span class=mf>0</span><span class=p>,</span>
<span class=w>        </span><span class=nx>name</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Bo-Kaap in Cape Town, South Africa&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>description</span><span class=o>:</span>
<span class=w>            </span><span class=s2>&quot;The tradition of choosing bright colors for houses began in the late 20th century.&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>imageId</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;K9HVAGH&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=p>},</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=nx>id</span><span class=o>:</span><span class=w> </span><span class=mf>1</span><span class=p>,</span>
<span class=w>        </span><span class=nx>name</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Rainbow Village in Taichung, Taiwan&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>description</span><span class=o>:</span>
<span class=w>            </span><span class=s2>&quot;To save the houses from demolition, Huang Yung-Fu, a local resident, painted all 1,200 of them in 1924.&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>imageId</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;9EAYZrt&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=p>},</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=nx>id</span><span class=o>:</span><span class=w> </span><span class=mf>2</span><span class=p>,</span>
<span class=w>        </span><span class=nx>name</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Macromural de Pachuca, Mexico&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>description</span><span class=o>:</span>
<span class=w>            </span><span class=s2>&quot;One of the largest murals in the world covering homes in a hillside neighborhood.&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>imageId</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;DgXHVwu&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=p>},</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=nx>id</span><span class=o>:</span><span class=w> </span><span class=mf>3</span><span class=p>,</span>
<span class=w>        </span><span class=nx>name</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;SelarÃ³n Staircase in Rio de Janeiro, Brazil&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>description</span><span class=o>:</span>
<span class=w>            </span><span class=s1>&#39;This landmark was created by Jorge SelarÃ³n, a Chilean-born artist, as a &quot;tribute to the Brazilian people&quot;.&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>imageId</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;aeO3rpI&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=p>},</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=nx>id</span><span class=o>:</span><span class=w> </span><span class=mf>4</span><span class=p>,</span>
<span class=w>        </span><span class=nx>name</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Burano, Italy&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>description</span><span class=o>:</span>
<span class=w>            </span><span class=s2>&quot;The houses are painted following a specific color system dating back to 16th century.&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>imageId</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;kxsph5C&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=p>},</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=nx>id</span><span class=o>:</span><span class=w> </span><span class=mf>5</span><span class=p>,</span>
<span class=w>        </span><span class=nx>name</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Chefchaouen, Marocco&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>description</span><span class=o>:</span>
<span class=w>            </span><span class=s2>&quot;There are a few theories on why the houses are painted blue, including that the color repells mosquitos or that it symbolizes sky and heaven.&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>imageId</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;rTqKo46&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=p>},</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=nx>id</span><span class=o>:</span><span class=w> </span><span class=mf>6</span><span class=p>,</span>
<span class=w>        </span><span class=nx>name</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Gamcheon Culture Village in Busan, South Korea&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>description</span><span class=o>:</span>
<span class=w>            </span><span class=s2>&quot;In 2009, the village was converted into a cultural hub by painting the houses and featuring exhibitions and art installations.&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>imageId</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;ZfQOOzf&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=p>},</span>
<span class=p>];</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>getImageUrl</span><span class=p>(</span><span class=nx>place</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=s2>&quot;https://i.imgur.com/&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>place</span><span class=p>.</span><span class=nx>imageId</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s2>&quot;l.jpg&quot;</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nt>ul</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>list-style-type</span><span class=p>:</span><span class=w> </span><span class=kc>none</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=kt>px</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
<span class=nt>li</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=k>grid</span><span class=p>;</span>
<span class=w>    </span><span class=k>grid-template-columns</span><span class=p>:</span><span class=w> </span><span class=kc>auto</span><span class=w> </span><span class=mi>1</span><span class=n>fr</span><span class=p>;</span>
<span class=w>    </span><span class=k>gap</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>align-items</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Note how components in the middle don't need to pass <code>imageSize</code> anymore.</p> <p></solution></p> <p></challenges></p> <hr> <div class=md-source-file> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="August 28, 2023 08:11:22">August 28, 2023</span> </small> </div> <div class=md-source-date> <small> Authors: <span class="git-page-authors git-authors"><a href=mailto:16909269+archmonger@users.noreply.github.com>Archmonger</a></span> </small> </div> </article> </div> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy;<div id=year> </div> <script> document.getElementById("year").innerHTML = new Date().getFullYear(); </script>Reactive Python and affiliates.<div class=legal-footer-right>This project has no affiliation to ReactJS or Meta Platforms, Inc.</div> </div> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.top", "content.code.copy", "search.highlight"], "search": "../../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.4e0fa4ba.min.js></script> <script src=../../assets/js/main.js></script> </body> </html>