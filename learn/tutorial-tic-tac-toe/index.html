<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="It's React, but in Python."><meta name=author content=Archmonger><link href=https://reactive-python.github.io/reactpy/learn/tutorial-tic-tac-toe/ rel=canonical><link href=../quick-start/ rel=prev><link href=../thinking-in-react/ rel=next><link rel=icon href=https://raw.githubusercontent.com/reactive-python/reactpy/main/branding/svg/reactpy-logo-square.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.4.0"><title>Tutorial: Tic-Tac-Toe ðŸš§ - ReactPy</title><link rel=stylesheet href=../../assets/stylesheets/main.9f615399.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.649f08f9.min.css><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h224V368c0-26.5 21.5-48 48-48h112V96c0-35.3-28.7-64-64-64H64zm384 320H336c-8.8 0-16 7.2-16 16v112l32-32 64-64 32-32z"/></svg>');}</style><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../assets/_mkdocstrings.css><link rel=stylesheet href=../../assets/css/main.css><link rel=stylesheet href=../../assets/css/button.css><link rel=stylesheet href=../../assets/css/admonition.css><link rel=stylesheet href=../../assets/css/banner.css><link rel=stylesheet href=../../assets/css/sidebar.css><link rel=stylesheet href=../../assets/css/navbar.css><link rel=stylesheet href=../../assets/css/table-of-contents.css><link rel=stylesheet href=../../assets/css/code.css><link rel=stylesheet href=../../assets/css/footer.css><link rel=stylesheet href=../../assets/css/home.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=red data-md-color-accent=red> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#overview class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest release. <a href=../../..> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title=ReactPy class="md-header__button md-logo" aria-label=ReactPy data-md-component=logo> <img src=https://raw.githubusercontent.com/reactive-python/reactpy/main/branding/svg/reactpy-logo-square.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ReactPy </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Tutorial: Tic-Tac-Toe ðŸš§ </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=red data-md-color-accent=red aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m3.55 19.09 1.41 1.41 1.8-1.79-1.42-1.42M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6c0-3.32-2.69-6-6-6m8 7h3v-2h-3m-2.76 7.71 1.8 1.79 1.41-1.41-1.79-1.8M20.45 5l-1.41-1.4-1.8 1.79 1.42 1.42M13 1h-2v3h2M6.76 5.39 4.96 3.6 3.55 5l1.79 1.81 1.42-1.42M1 13h3v-2H1m12 9h-2v3h2"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=red aria-label="Switch to dark mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/reactive-python/reactpy title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> ReactPy </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../quick-start/ class=md-tabs__link> Get Started </a> </li> <li class=md-tabs__item> <a href=../your-first-component/ class=md-tabs__link> Learn </a> </li> <li class=md-tabs__item> <a href=../../reference/overview/ class=md-tabs__link> Reference </a> </li> <li class=md-tabs__item> <a href=../../about/changelog/ class=md-tabs__link> About </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=ReactPy class="md-nav__button md-logo" aria-label=ReactPy data-md-component=logo> <img src=https://raw.githubusercontent.com/reactive-python/reactpy/main/branding/svg/reactpy-logo-square.svg alt=logo> </a> ReactPy </label> <div class=md-nav__source> <a href=https://github.com/reactive-python/reactpy title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> ReactPy </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Get Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Get Started </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1 checked> <label class=md-nav__link for=__nav_2_1 id=__nav_2_1_label tabindex=0> <span class=md-ellipsis> Quick Start </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=true> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> Quick Start </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../quick-start/ class=md-nav__link> <span class=md-ellipsis> Quick start </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Tutorial: Tic-Tac-Toe ðŸš§ </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Tutorial: Tic-Tac-Toe ðŸš§ </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> Overview </a> <nav class=md-nav aria-label=Overview> <ul class=md-nav__list> <li class=md-nav__item> <a href=#what-are-you-building class=md-nav__link> What are you building? </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#setup-for-the-tutorial class=md-nav__link> Setup for the tutorial </a> </li> <li class=md-nav__item> <a href=#overview_1 class=md-nav__link> Overview </a> <nav class=md-nav aria-label=Overview> <ul class=md-nav__list> <li class=md-nav__item> <a href=#inspecting-the-starter-code class=md-nav__link> Inspecting the starter code </a> <nav class=md-nav aria-label="Inspecting the starter code"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#appjs class=md-nav__link> App.js </a> </li> <li class=md-nav__item> <a href=#stylescss class=md-nav__link> styles.css </a> </li> <li class=md-nav__item> <a href=#indexjs class=md-nav__link> index.js </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#building-the-board class=md-nav__link> Building the board </a> </li> <li class=md-nav__item> <a href=#passing-data-through-props class=md-nav__link> Passing data through props </a> </li> <li class=md-nav__item> <a href=#making-an-interactive-component class=md-nav__link> Making an interactive component </a> </li> <li class=md-nav__item> <a href=#react-developer-tools class=md-nav__link> React Developer Tools </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#completing-the-game class=md-nav__link> Completing the game </a> <nav class=md-nav aria-label="Completing the game"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#lifting-state-up class=md-nav__link> Lifting state up </a> </li> <li class=md-nav__item> <a href=#why-immutability-is-important class=md-nav__link> Why immutability is important </a> </li> <li class=md-nav__item> <a href=#taking-turns class=md-nav__link> Taking turns </a> </li> <li class=md-nav__item> <a href=#declaring-a-winner class=md-nav__link> Declaring a winner </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#adding-time-travel class=md-nav__link> Adding time travel </a> <nav class=md-nav aria-label="Adding time travel"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#storing-a-history-of-moves class=md-nav__link> Storing a history of moves </a> </li> <li class=md-nav__item> <a href=#lifting-state-up-again class=md-nav__link> Lifting state up, again </a> </li> <li class=md-nav__item> <a href=#showing-the-past-moves class=md-nav__link> Showing the past moves </a> </li> <li class=md-nav__item> <a href=#picking-a-key class=md-nav__link> Picking a key </a> </li> <li class=md-nav__item> <a href=#implementing-time-travel class=md-nav__link> Implementing time travel </a> </li> <li class=md-nav__item> <a href=#final-cleanup class=md-nav__link> Final cleanup </a> </li> <li class=md-nav__item> <a href=#wrapping-up class=md-nav__link> Wrapping up </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../thinking-in-react/ class=md-nav__link> <span class=md-ellipsis> Thinking in React </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> Installation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Installation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../creating-a-react-app/ class=md-nav__link> <span class=md-ellipsis> Creating a Standalone React App </span> </a> </li> <li class=md-nav__item> <a href=../add-react-to-an-existing-project/ class=md-nav__link> <span class=md-ellipsis> Add React to an Existing Project </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class=md-ellipsis> Setup </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../editor-setup/ class=md-nav__link> <span class=md-ellipsis> Editor Setup </span> </a> </li> <li class=md-nav__item> <a href=../extra-tools-and-packages/ class=md-nav__link> <span class=md-ellipsis> Tools, Modules, and Packages ðŸš§ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Learn </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Learn </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> Describing the UI </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> Describing the UI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../your-first-component/ class=md-nav__link> <span class=md-ellipsis> Your First Component ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../importing-and-exporting-components/ class=md-nav__link> <span class=md-ellipsis> Importing and Exporting Components ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../passing-props-to-a-component/ class=md-nav__link> <span class=md-ellipsis> Passing Props to a Component ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../conditional-rendering/ class=md-nav__link> <span class=md-ellipsis> Conditional Rendering ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../rendering-lists/ class=md-nav__link> <span class=md-ellipsis> Rendering Lists ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../keeping-components-pure/ class=md-nav__link> <span class=md-ellipsis> Keeping Components Pure ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> Adding Interactivity </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Adding Interactivity </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../responding-to-events/ class=md-nav__link> <span class=md-ellipsis> Responding to Events ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../state-a-components-memory/ class=md-nav__link> <span class=md-ellipsis> State: A Component's Memory ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../render-and-commit/ class=md-nav__link> <span class=md-ellipsis> Render and Commit ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../state-as-a-snapshot/ class=md-nav__link> <span class=md-ellipsis> State as a Snapshot ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../queueing-a-series-of-state-updates/ class=md-nav__link> <span class=md-ellipsis> Queueing a Series of State Updates ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../updating-objects-in-state/ class=md-nav__link> <span class=md-ellipsis> Updating Objects in State ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../updating-arrays-in-state/ class=md-nav__link> <span class=md-ellipsis> Updating Arrays in State ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class=md-ellipsis> Managing State </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Managing State </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../reacting-to-input-with-state/ class=md-nav__link> <span class=md-ellipsis> Reacting to Input with State ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../choosing-the-state-structure/ class=md-nav__link> <span class=md-ellipsis> Choosing the State Structure ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../sharing-state-between-components/ class=md-nav__link> <span class=md-ellipsis> Sharing State Between Components ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../preserving-and-resetting-state/ class=md-nav__link> <span class=md-ellipsis> Preserving and Resetting State ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../extracting-state-logic-into-a-reducer/ class=md-nav__link> <span class=md-ellipsis> Extracting State Logic into a Reducer ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../passing-data-deeply-with-context/ class=md-nav__link> <span class=md-ellipsis> Passing Data Deeply with Context ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../scaling-up-with-reducer-and-context/ class=md-nav__link> <span class=md-ellipsis> Scaling Up with Reducer and Context ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex=0> <span class=md-ellipsis> Escape Hatches </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Escape Hatches </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../referencing-values-with-refs/ class=md-nav__link> <span class=md-ellipsis> Referencing Values with Refs ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../manipulating-the-dom-with-refs/ class=md-nav__link> <span class=md-ellipsis> Manipulating the DOM with Refs ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../synchronizing-with-effects/ class=md-nav__link> <span class=md-ellipsis> Synchronizing with Effects ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../you-might-not-need-an-effect/ class=md-nav__link> <span class=md-ellipsis> You Might Not Need an Effect ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../lifecycle-of-reactive-effects/ class=md-nav__link> <span class=md-ellipsis> Lifecycle of Reactive Effects ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../separating-events-from-effects/ class=md-nav__link> <span class=md-ellipsis> Separating Events from Effects ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../removing-effect-dependencies/ class=md-nav__link> <span class=md-ellipsis> Removing Effect Dependencies ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../reusing-logic-with-custom-hooks/ class=md-nav__link> <span class=md-ellipsis> Reusing Logic with Custom Hooks ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../communicate-data-between-server-and-client/ class=md-nav__link> <span class=md-ellipsis> Communicating Data Between Server and Client ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../convert-between-vdom-and-html/ class=md-nav__link> <span class=md-ellipsis> Convert Between VDOM and HTML ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../vdom-mutations/ class=md-nav__link> <span class=md-ellipsis> VDOM Mutations ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../creating-vdom-event-handlers/ class=md-nav__link> <span class=md-ellipsis> Creating VDOM Event Handlers ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../creating-html-tags/ class=md-nav__link> <span class=md-ellipsis> Creating HTML Tags ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../creating-backends/ class=md-nav__link> <span class=md-ellipsis> Creating Backends ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../manually-register-a-client/ class=md-nav__link> <span class=md-ellipsis> Manually Register a Client ðŸš§ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> Hooks </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Hooks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/use-state/ class=md-nav__link> <span class=md-ellipsis> Use State ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-effect/ class=md-nav__link> <span class=md-ellipsis> Use Effect ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-async-effect/ class=md-nav__link> <span class=md-ellipsis> Use Async Effect ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-context/ class=md-nav__link> <span class=md-ellipsis> Use Context ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-reducer/ class=md-nav__link> <span class=md-ellipsis> Use Reducer ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-callback/ class=md-nav__link> <span class=md-ellipsis> Use Callback ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-memo/ class=md-nav__link> <span class=md-ellipsis> Use Memo ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-ref/ class=md-nav__link> <span class=md-ellipsis> Use Ref ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-debug-value/ class=md-nav__link> <span class=md-ellipsis> Use Debug Value ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-connection/ class=md-nav__link> <span class=md-ellipsis> Use Connection ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-scope/ class=md-nav__link> <span class=md-ellipsis> Use Scope ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/use-location/ class=md-nav__link> <span class=md-ellipsis> Use Location ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> HTML Tags </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> HTML Tags </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/common-props/ class=md-nav__link> <span class=md-ellipsis> Common Props ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/usage/ class=md-nav__link> <span class=md-ellipsis> Usage ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex=0> <span class=md-ellipsis> Executors </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Executors </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/reactpy/ class=md-nav__link> <span class=md-ellipsis> ReactPy </span> </a> </li> <li class=md-nav__item> <a href=../../reference/reactpy-csr/ class=md-nav__link> <span class=md-ellipsis> ReactPyCsr ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/reactpy-middleware/ class=md-nav__link> <span class=md-ellipsis> ReactPyMiddleware ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5 id=__nav_4_5_label tabindex=0> <span class=md-ellipsis> Rules of React </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> Rules of React </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/rules-of-react/ class=md-nav__link> <span class=md-ellipsis> Overview ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/components-and-hooks-must-be-pure/ class=md-nav__link> <span class=md-ellipsis> Components and Hooks must be pure ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/react-calls-components-and-hooks/ class=md-nav__link> <span class=md-ellipsis> React calls Components and Hooks ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/rules-of-hooks/ class=md-nav__link> <span class=md-ellipsis> Rules of Hooks ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../reference/protocol-structure/ class=md-nav__link> <span class=md-ellipsis> Protocol Structure ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../reference/client-api/ class=md-nav__link> <span class=md-ellipsis> Client API ðŸš§ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> About </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> About </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../about/changelog/ class=md-nav__link> <span class=md-ellipsis> Changelog ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../about/community/ class=md-nav__link> <span class=md-ellipsis> Community ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../about/running-tests/ class=md-nav__link> <span class=md-ellipsis> Running Tests ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../about/code/ class=md-nav__link> <span class=md-ellipsis> Contributing Code ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../about/docs/ class=md-nav__link> <span class=md-ellipsis> Contributing Documentation ðŸš§ </span> </a> </li> <li class=md-nav__item> <a href=../../about/licenses/ class=md-nav__link> <span class=md-ellipsis> Licenses ðŸš§ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> Overview </a> <nav class=md-nav aria-label=Overview> <ul class=md-nav__list> <li class=md-nav__item> <a href=#what-are-you-building class=md-nav__link> What are you building? </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#setup-for-the-tutorial class=md-nav__link> Setup for the tutorial </a> </li> <li class=md-nav__item> <a href=#overview_1 class=md-nav__link> Overview </a> <nav class=md-nav aria-label=Overview> <ul class=md-nav__list> <li class=md-nav__item> <a href=#inspecting-the-starter-code class=md-nav__link> Inspecting the starter code </a> <nav class=md-nav aria-label="Inspecting the starter code"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#appjs class=md-nav__link> App.js </a> </li> <li class=md-nav__item> <a href=#stylescss class=md-nav__link> styles.css </a> </li> <li class=md-nav__item> <a href=#indexjs class=md-nav__link> index.js </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#building-the-board class=md-nav__link> Building the board </a> </li> <li class=md-nav__item> <a href=#passing-data-through-props class=md-nav__link> Passing data through props </a> </li> <li class=md-nav__item> <a href=#making-an-interactive-component class=md-nav__link> Making an interactive component </a> </li> <li class=md-nav__item> <a href=#react-developer-tools class=md-nav__link> React Developer Tools </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#completing-the-game class=md-nav__link> Completing the game </a> <nav class=md-nav aria-label="Completing the game"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#lifting-state-up class=md-nav__link> Lifting state up </a> </li> <li class=md-nav__item> <a href=#why-immutability-is-important class=md-nav__link> Why immutability is important </a> </li> <li class=md-nav__item> <a href=#taking-turns class=md-nav__link> Taking turns </a> </li> <li class=md-nav__item> <a href=#declaring-a-winner class=md-nav__link> Declaring a winner </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#adding-time-travel class=md-nav__link> Adding time travel </a> <nav class=md-nav aria-label="Adding time travel"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#storing-a-history-of-moves class=md-nav__link> Storing a history of moves </a> </li> <li class=md-nav__item> <a href=#lifting-state-up-again class=md-nav__link> Lifting state up, again </a> </li> <li class=md-nav__item> <a href=#showing-the-past-moves class=md-nav__link> Showing the past moves </a> </li> <li class=md-nav__item> <a href=#picking-a-key class=md-nav__link> Picking a key </a> </li> <li class=md-nav__item> <a href=#implementing-time-travel class=md-nav__link> Implementing time travel </a> </li> <li class=md-nav__item> <a href=#final-cleanup class=md-nav__link> Final cleanup </a> </li> <li class=md-nav__item> <a href=#wrapping-up class=md-nav__link> Wrapping up </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>Tutorial: Tic-Tac-Toe ðŸš§</h1> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">&para;</a></h2> <p class=intro> You will build a small tic-tac-toe game during this tutorial. This tutorial does not assume any existing React knowledge. The techniques you'll learn in the tutorial are fundamental to building any React app, and fully understanding it will give you a deep understanding of React. </p> <div class="admonition abstract"> <p class=admonition-title>Note</p> <p>This tutorial is designed for people who prefer to <strong>learn by doing</strong> and want to quickly try making something tangible. If you prefer learning each concept step by step, start with <a href=../your-first-component/ >Describing the UI.</a></p> </div> <p>The tutorial is divided into several sections:</p> <ul> <li><a href=#setup-for-the-tutorial>Setup for the tutorial</a> will give you <strong>a starting point</strong> to follow the tutorial.</li> <li><a href=#overview>Overview</a> will teach you <strong>the fundamentals</strong> of React: components, props, and state.</li> <li><a href=#completing-the-game>Completing the game</a> will teach you <strong>the most common techniques</strong> in React development.</li> <li><a href=#adding-time-travel>Adding time travel</a> will give you <strong>a deeper insight</strong> into the unique strengths of React.</li> </ul> <h3 id=what-are-you-building>What are you building?<a class=headerlink href=#what-are-you-building title="Permanent link">&para;</a></h3> <p>In this tutorial, you'll build an interactive tic-tac-toe game with React.</p> <p>You can see what it will look like when you're finished here:</p> <div class="tabbed-set tabbed-alternate" data-tabs=1:3><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><input id=__tabbed_1_3 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>app.py</label><label for=__tabbed_1_2>styles.css</label><label for=__tabbed_1_3><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8 5.14v14l11-7-11-7Z"/></svg></span> Run</label></div> <div class=tabbed-content> <div class=tabbed-block> <!-- FIXME: Currently this example uses empty string instead of None, due to a bug with ReactPy --> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>  1</span>
<span class=normal>  2</span>
<span class=normal>  3</span>
<span class=normal>  4</span>
<span class=normal>  5</span>
<span class=normal>  6</span>
<span class=normal>  7</span>
<span class=normal>  8</span>
<span class=normal>  9</span>
<span class=normal> 10</span>
<span class=normal> 11</span>
<span class=normal> 12</span>
<span class=normal> 13</span>
<span class=normal> 14</span>
<span class=normal> 15</span>
<span class=normal> 16</span>
<span class=normal> 17</span>
<span class=normal> 18</span>
<span class=normal> 19</span>
<span class=normal> 20</span>
<span class=normal> 21</span>
<span class=normal> 22</span>
<span class=normal> 23</span>
<span class=normal> 24</span>
<span class=normal> 25</span>
<span class=normal> 26</span>
<span class=normal> 27</span>
<span class=normal> 28</span>
<span class=normal> 29</span>
<span class=normal> 30</span>
<span class=normal> 31</span>
<span class=normal> 32</span>
<span class=normal> 33</span>
<span class=normal> 34</span>
<span class=normal> 35</span>
<span class=normal> 36</span>
<span class=normal> 37</span>
<span class=normal> 38</span>
<span class=normal> 39</span>
<span class=normal> 40</span>
<span class=normal> 41</span>
<span class=normal> 42</span>
<span class=normal> 43</span>
<span class=normal> 44</span>
<span class=normal> 45</span>
<span class=normal> 46</span>
<span class=normal> 47</span>
<span class=normal> 48</span>
<span class=normal> 49</span>
<span class=normal> 50</span>
<span class=normal> 51</span>
<span class=normal> 52</span>
<span class=normal> 53</span>
<span class=normal> 54</span>
<span class=normal> 55</span>
<span class=normal> 56</span>
<span class=normal> 57</span>
<span class=normal> 58</span>
<span class=normal> 59</span>
<span class=normal> 60</span>
<span class=normal> 61</span>
<span class=normal> 62</span>
<span class=normal> 63</span>
<span class=normal> 64</span>
<span class=normal> 65</span>
<span class=normal> 66</span>
<span class=normal> 67</span>
<span class=normal> 68</span>
<span class=normal> 69</span>
<span class=normal> 70</span>
<span class=normal> 71</span>
<span class=normal> 72</span>
<span class=normal> 73</span>
<span class=normal> 74</span>
<span class=normal> 75</span>
<span class=normal> 76</span>
<span class=normal> 77</span>
<span class=normal> 78</span>
<span class=normal> 79</span>
<span class=normal> 80</span>
<span class=normal> 81</span>
<span class=normal> 82</span>
<span class=normal> 83</span>
<span class=normal> 84</span>
<span class=normal> 85</span>
<span class=normal> 86</span>
<span class=normal> 87</span>
<span class=normal> 88</span>
<span class=normal> 89</span>
<span class=normal> 90</span>
<span class=normal> 91</span>
<span class=normal> 92</span>
<span class=normal> 93</span>
<span class=normal> 94</span>
<span class=normal> 95</span>
<span class=normal> 96</span>
<span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span>
<span class=normal>101</span>
<span class=normal>102</span>
<span class=normal>103</span>
<span class=normal>104</span>
<span class=normal>105</span>
<span class=normal>106</span>
<span class=normal>107</span>
<span class=normal>108</span>
<span class=normal>109</span>
<span class=normal>110</span>
<span class=normal>111</span>
<span class=normal>112</span>
<span class=normal>113</span>
<span class=normal>114</span>
<span class=normal>115</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>copy</span><span class=w> </span><span class=kn>import</span> <span class=n>deepcopy</span>

<span class=kn>from</span><span class=w> </span><span class=nn>reactpy</span><span class=w> </span><span class=kn>import</span> <span class=n>component</span><span class=p>,</span> <span class=n>html</span><span class=p>,</span> <span class=n>use_state</span>


<span class=nd>@component</span>
<span class=k>def</span><span class=w> </span><span class=nf>square</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>on_square_click</span><span class=p>):</span>
    <span class=k>return</span> <span class=n>html</span><span class=o>.</span><span class=n>button</span><span class=p>(</span>
        <span class=p>{</span><span class=s2>&quot;className&quot;</span><span class=p>:</span> <span class=s2>&quot;square&quot;</span><span class=p>,</span> <span class=s2>&quot;onClick&quot;</span><span class=p>:</span> <span class=n>on_square_click</span><span class=p>},</span>
        <span class=n>value</span><span class=p>,</span>
    <span class=p>)</span>


<span class=nd>@component</span>
<span class=k>def</span><span class=w> </span><span class=nf>board</span><span class=p>(</span><span class=n>x_is_next</span><span class=p>,</span> <span class=n>squares</span><span class=p>,</span> <span class=n>on_play</span><span class=p>):</span>
    <span class=k>def</span><span class=w> </span><span class=nf>handle_click</span><span class=p>(</span><span class=n>i</span><span class=p>):</span>
        <span class=k>def</span><span class=w> </span><span class=nf>inner</span><span class=p>(</span><span class=n>event</span><span class=p>):</span>
<span class=w>            </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>            Due to a quirk of Python, if your event handler needs args other than</span>
<span class=sd>            `event`, you will need to create a wrapper function as seen above.</span>
<span class=sd>            Ref: https://pylint.readthedocs.io/en/stable/user_guide/messages/warning/cell-var-from-loop.html</span>
<span class=sd>            &quot;&quot;&quot;</span>
            <span class=k>if</span> <span class=n>calculate_winner</span><span class=p>(</span><span class=n>squares</span><span class=p>)</span> <span class=ow>or</span> <span class=n>squares</span><span class=p>[</span><span class=n>i</span><span class=p>]:</span>
                <span class=k>return</span>

            <span class=n>next_squares</span> <span class=o>=</span> <span class=n>squares</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
            <span class=n>next_squares</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;X&quot;</span> <span class=k>if</span> <span class=n>x_is_next</span> <span class=k>else</span> <span class=s2>&quot;O&quot;</span>
            <span class=n>on_play</span><span class=p>(</span><span class=n>next_squares</span><span class=p>)</span>

        <span class=k>return</span> <span class=n>inner</span>

    <span class=n>winner</span> <span class=o>=</span> <span class=n>calculate_winner</span><span class=p>(</span><span class=n>squares</span><span class=p>)</span>
    <span class=n>status</span> <span class=o>=</span> <span class=p>(</span>
        <span class=sa>f</span><span class=s2>&quot;Winner: </span><span class=si>{</span><span class=n>winner</span><span class=si>}</span><span class=s2>&quot;</span> <span class=k>if</span> <span class=n>winner</span> <span class=k>else</span> <span class=s2>&quot;Next player: &quot;</span> <span class=o>+</span> <span class=p>(</span><span class=s2>&quot;X&quot;</span> <span class=k>if</span> <span class=n>x_is_next</span> <span class=k>else</span> <span class=s2>&quot;O&quot;</span><span class=p>)</span>
    <span class=p>)</span>

    <span class=k>return</span> <span class=n>html</span><span class=o>.</span><span class=n>_</span><span class=p>(</span>
        <span class=n>html</span><span class=o>.</span><span class=n>div</span><span class=p>({</span><span class=s2>&quot;className&quot;</span><span class=p>:</span> <span class=s2>&quot;status&quot;</span><span class=p>},</span> <span class=n>status</span><span class=p>),</span>
        <span class=n>html</span><span class=o>.</span><span class=n>div</span><span class=p>(</span>
            <span class=p>{</span><span class=s2>&quot;className&quot;</span><span class=p>:</span> <span class=s2>&quot;board-row&quot;</span><span class=p>},</span>
            <span class=n>square</span><span class=p>(</span><span class=n>squares</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>handle_click</span><span class=p>(</span><span class=mi>0</span><span class=p>)),</span>
            <span class=n>square</span><span class=p>(</span><span class=n>squares</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=n>handle_click</span><span class=p>(</span><span class=mi>1</span><span class=p>)),</span>
            <span class=n>square</span><span class=p>(</span><span class=n>squares</span><span class=p>[</span><span class=mi>2</span><span class=p>],</span> <span class=n>handle_click</span><span class=p>(</span><span class=mi>2</span><span class=p>)),</span>
        <span class=p>),</span>
        <span class=n>html</span><span class=o>.</span><span class=n>div</span><span class=p>(</span>
            <span class=p>{</span><span class=s2>&quot;className&quot;</span><span class=p>:</span> <span class=s2>&quot;board-row&quot;</span><span class=p>},</span>
            <span class=n>square</span><span class=p>(</span><span class=n>squares</span><span class=p>[</span><span class=mi>3</span><span class=p>],</span> <span class=n>handle_click</span><span class=p>(</span><span class=mi>3</span><span class=p>)),</span>
            <span class=n>square</span><span class=p>(</span><span class=n>squares</span><span class=p>[</span><span class=mi>4</span><span class=p>],</span> <span class=n>handle_click</span><span class=p>(</span><span class=mi>4</span><span class=p>)),</span>
            <span class=n>square</span><span class=p>(</span><span class=n>squares</span><span class=p>[</span><span class=mi>5</span><span class=p>],</span> <span class=n>handle_click</span><span class=p>(</span><span class=mi>5</span><span class=p>)),</span>
        <span class=p>),</span>
        <span class=n>html</span><span class=o>.</span><span class=n>div</span><span class=p>(</span>
            <span class=p>{</span><span class=s2>&quot;className&quot;</span><span class=p>:</span> <span class=s2>&quot;board-row&quot;</span><span class=p>},</span>
            <span class=n>square</span><span class=p>(</span><span class=n>squares</span><span class=p>[</span><span class=mi>6</span><span class=p>],</span> <span class=n>handle_click</span><span class=p>(</span><span class=mi>6</span><span class=p>)),</span>
            <span class=n>square</span><span class=p>(</span><span class=n>squares</span><span class=p>[</span><span class=mi>7</span><span class=p>],</span> <span class=n>handle_click</span><span class=p>(</span><span class=mi>7</span><span class=p>)),</span>
            <span class=n>square</span><span class=p>(</span><span class=n>squares</span><span class=p>[</span><span class=mi>8</span><span class=p>],</span> <span class=n>handle_click</span><span class=p>(</span><span class=mi>8</span><span class=p>)),</span>
        <span class=p>),</span>
    <span class=p>)</span>


<span class=nd>@component</span>
<span class=k>def</span><span class=w> </span><span class=nf>game</span><span class=p>():</span>
    <span class=n>history</span><span class=p>,</span> <span class=n>set_history</span> <span class=o>=</span> <span class=n>use_state</span><span class=p>([[</span><span class=kc>None</span><span class=p>]</span> <span class=o>*</span> <span class=mi>9</span><span class=p>])</span>
    <span class=n>current_move</span><span class=p>,</span> <span class=n>set_current_move</span> <span class=o>=</span> <span class=n>use_state</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
    <span class=n>x_is_next</span> <span class=o>=</span> <span class=n>current_move</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span>
    <span class=n>current_squares</span> <span class=o>=</span> <span class=n>history</span><span class=p>[</span><span class=n>current_move</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=nf>handle_play</span><span class=p>(</span><span class=n>next_squares</span><span class=p>):</span>
        <span class=n>next_history</span> <span class=o>=</span> <span class=n>deepcopy</span><span class=p>(</span><span class=n>history</span><span class=p>[:</span> <span class=n>current_move</span> <span class=o>+</span> <span class=mi>1</span><span class=p>])</span>
        <span class=n>next_history</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>next_squares</span><span class=p>)</span>
        <span class=n>set_history</span><span class=p>(</span><span class=n>next_history</span><span class=p>)</span>
        <span class=n>set_current_move</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>next_history</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>jump_to</span><span class=p>(</span><span class=n>next_move</span><span class=p>):</span>
        <span class=k>return</span> <span class=k>lambda</span> <span class=n>_event</span><span class=p>:</span> <span class=n>set_current_move</span><span class=p>(</span><span class=n>next_move</span><span class=p>)</span>

    <span class=n>moves</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=k>for</span> <span class=n>move</span><span class=p>,</span> <span class=n>_squares</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>history</span><span class=p>):</span>
        <span class=n>description</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;Go to move #</span><span class=si>{</span><span class=n>move</span><span class=si>}</span><span class=s2>&quot;</span> <span class=k>if</span> <span class=n>move</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=k>else</span> <span class=s2>&quot;Go to game start&quot;</span>

        <span class=n>moves</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
            <span class=n>html</span><span class=o>.</span><span class=n>li</span><span class=p>(</span>
                <span class=p>{</span><span class=s2>&quot;key&quot;</span><span class=p>:</span> <span class=n>move</span><span class=p>},</span>
                <span class=n>html</span><span class=o>.</span><span class=n>button</span><span class=p>({</span><span class=s2>&quot;onClick&quot;</span><span class=p>:</span> <span class=n>jump_to</span><span class=p>(</span><span class=n>move</span><span class=p>)},</span> <span class=n>description</span><span class=p>),</span>
            <span class=p>)</span>
        <span class=p>)</span>

    <span class=k>return</span> <span class=n>html</span><span class=o>.</span><span class=n>div</span><span class=p>(</span>
        <span class=p>{</span><span class=s2>&quot;className&quot;</span><span class=p>:</span> <span class=s2>&quot;game&quot;</span><span class=p>},</span>
        <span class=n>html</span><span class=o>.</span><span class=n>div</span><span class=p>(</span>
            <span class=p>{</span><span class=s2>&quot;className&quot;</span><span class=p>:</span> <span class=s2>&quot;game-board&quot;</span><span class=p>},</span>
            <span class=n>board</span><span class=p>(</span><span class=n>x_is_next</span><span class=p>,</span> <span class=n>current_squares</span><span class=p>,</span> <span class=n>handle_play</span><span class=p>),</span>
        <span class=p>),</span>
        <span class=n>html</span><span class=o>.</span><span class=n>div</span><span class=p>({</span><span class=s2>&quot;className&quot;</span><span class=p>:</span> <span class=s2>&quot;game-info&quot;</span><span class=p>},</span> <span class=n>html</span><span class=o>.</span><span class=n>ol</span><span class=p>(</span><span class=n>moves</span><span class=p>)),</span>
    <span class=p>)</span>


<span class=k>def</span><span class=w> </span><span class=nf>calculate_winner</span><span class=p>(</span><span class=n>squares</span><span class=p>):</span>
    <span class=n>lines</span> <span class=o>=</span> <span class=p>[</span>
        <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span>
        <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>],</span>
        <span class=p>[</span><span class=mi>6</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>],</span>
        <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>6</span><span class=p>],</span>
        <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>7</span><span class=p>],</span>
        <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>8</span><span class=p>],</span>
        <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>8</span><span class=p>],</span>
        <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>6</span><span class=p>],</span>
    <span class=p>]</span>
    <span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>lines</span><span class=p>:</span>
        <span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span> <span class=o>=</span> <span class=n>line</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>squares</span><span class=p>:</span>
            <span class=k>continue</span>
        <span class=k>if</span> <span class=n>squares</span><span class=p>[</span><span class=n>a</span><span class=p>]</span> <span class=ow>and</span> <span class=n>squares</span><span class=p>[</span><span class=n>a</span><span class=p>]</span> <span class=o>==</span> <span class=n>squares</span><span class=p>[</span><span class=n>b</span><span class=p>]</span> <span class=ow>and</span> <span class=n>squares</span><span class=p>[</span><span class=n>a</span><span class=p>]</span> <span class=o>==</span> <span class=n>squares</span><span class=p>[</span><span class=n>c</span><span class=p>]:</span>
            <span class=k>return</span> <span class=n>squares</span><span class=p>[</span><span class=n>a</span><span class=p>]</span>

    <span class=k>return</span> <span class=kc>None</span>
</code></pre></div></td></tr></table></div> </div> <div class=tabbed-block> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span></pre></div></td><td class=code><div><pre><span></span><code><span class=o>*</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>box-sizing</span><span class=p>:</span><span class=w> </span><span class=kc>border-box</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>body</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>font-family</span><span class=p>:</span><span class=w> </span><span class=kc>sans-serif</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>square</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>background</span><span class=p>:</span><span class=w> </span><span class=mh>#fff</span><span class=p>;</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#999</span><span class=p>;</span>
<span class=w>    </span><span class=k>float</span><span class=p>:</span><span class=w> </span><span class=kc>left</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-size</span><span class=p>:</span><span class=w> </span><span class=mi>24</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-weight</span><span class=p>:</span><span class=w> </span><span class=kc>bold</span><span class=p>;</span>
<span class=w>    </span><span class=k>line-height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-right</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-top</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=k>text-align</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>board-row</span><span class=p>:</span><span class=nd>after</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>clear</span><span class=p>:</span><span class=w> </span><span class=kc>both</span><span class=p>;</span>
<span class=w>    </span><span class=k>content</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>;</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>table</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>status</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
<span class=p>.</span><span class=nc>game</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>flex</span><span class=p>;</span>
<span class=w>    </span><span class=k>flex-direction</span><span class=p>:</span><span class=w> </span><span class=kc>row</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>game-info</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-left</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> </div> <div class=tabbed-block> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span class=c1># TODO</span>
</code></pre></div></td></tr></table></div> </div> </div> </div> <p>If the code doesn't make sense to you yet, or if you are unfamiliar with the code's syntax, don't worry! The goal of this tutorial is to help you understand React and its syntax.</p> <p>We recommend that you check out the tic-tac-toe game above before continuing with the tutorial. One of the features that you'll notice is that there is a numbered list to the right of the game's board. This list gives you a history of all of the moves that have occurred in the game, and it is updated as the game progresses.</p> <p>Once you've played around with the finished tic-tac-toe game, keep scrolling. You'll start with a simpler template in this tutorial. Our next step is to set you up so that you can start building the game.</p> <h2 id=setup-for-the-tutorial>Setup for the tutorial<a class=headerlink href=#setup-for-the-tutorial title="Permanent link">&para;</a></h2> <p>In the code example below, click <strong>Run</strong> to open the editor in a new tab using the website Jupyter. Jupyter lets you write code in your browser and preview how your users will see the app you've created. The new tab should display an empty square and the starter code for this tutorial.</p> <div class="tabbed-set tabbed-alternate" data-tabs=2:3><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><input id=__tabbed_2_2 name=__tabbed_2 type=radio><input id=__tabbed_2_3 name=__tabbed_2 type=radio><div class=tabbed-labels><label for=__tabbed_2_1>app.py</label><label for=__tabbed_2_2>styles.css</label><label for=__tabbed_2_3><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8 5.14v14l11-7-11-7Z"/></svg></span> Run</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@component</span>
<span class=k>def</span><span class=w> </span><span class=nf>square</span><span class=p>():</span>
    <span class=k>return</span> <span class=n>html</span><span class=o>.</span><span class=n>button</span><span class=p>({</span><span class=s2>&quot;className&quot;</span><span class=p>:</span> <span class=s2>&quot;square&quot;</span><span class=p>},</span> <span class=s2>&quot;X&quot;</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </div> <div class=tabbed-block> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span></pre></div></td><td class=code><div><pre><span></span><code><span class=o>*</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>box-sizing</span><span class=p>:</span><span class=w> </span><span class=kc>border-box</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>body</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>font-family</span><span class=p>:</span><span class=w> </span><span class=kc>sans-serif</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>square</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>background</span><span class=p>:</span><span class=w> </span><span class=mh>#fff</span><span class=p>;</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#999</span><span class=p>;</span>
<span class=w>    </span><span class=k>float</span><span class=p>:</span><span class=w> </span><span class=kc>left</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-size</span><span class=p>:</span><span class=w> </span><span class=mi>24</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-weight</span><span class=p>:</span><span class=w> </span><span class=kc>bold</span><span class=p>;</span>
<span class=w>    </span><span class=k>line-height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-right</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-top</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=k>text-align</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>board-row</span><span class=p>:</span><span class=nd>after</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>clear</span><span class=p>:</span><span class=w> </span><span class=kc>both</span><span class=p>;</span>
<span class=w>    </span><span class=k>content</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>;</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>table</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>status</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
<span class=p>.</span><span class=nc>game</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>flex</span><span class=p>;</span>
<span class=w>    </span><span class=k>flex-direction</span><span class=p>:</span><span class=w> </span><span class=kc>row</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>game-info</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-left</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> </div> <div class=tabbed-block> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span class=c1># TODO</span>
</code></pre></div></td></tr></table></div> </div> </div> </div> <div class="admonition abstract"> <p class=admonition-title>Note</p> <p>You can also follow this tutorial using your local development environment. To do this, you need to:</p> <ol> <li>Install <a href=https://www.python.org/downloads/ >Python</a></li> <li>Copy the example above into a file called <code>app.py</code></li> <li>Install ReactPy for your <a href=../reference/fastapi.md>backend</a>, for example <code>pip install reactpy[fastapi]</code></li> <li>Add <code>reactpy.run(...)</code> to the end of your Python file</li> <li>Run <code>python app.py</code> to start a local server and follow the prompts to view the code running in a browser</li> </ol> <p>If you get stuck, don't let this stop you! Follow along online instead and try a local setup again later.</p> </div> <h2 id=overview_1>Overview<a class=headerlink href=#overview_1 title="Permanent link">&para;</a></h2> <p>Now that you're set up, let's get an overview of React!</p> <h3 id=inspecting-the-starter-code>Inspecting the starter code<a class=headerlink href=#inspecting-the-starter-code title="Permanent link">&para;</a></h3> <p>In Jupyter you'll see three main sections:</p> <!-- TODO: Add screenshot --> <p><img alt="TODO: screenshot of Jupyter" src></p> <ol> <li>The <em>Files</em> section with a list of files like <code>tic-tac-toe.ipynb</code></li> <li>The <em>interactive code notebook</em> where you'll see the source code for each step</li> <li>The <em>run button</em> located on top of the notebook in the command strip</li> </ol> <p>The <code>tic-tac-toe.ipynb</code> file should be selected in the <em>Files</em> section. Click on the first code box, where the contents of that <em>code editor</em> should be:</p> <div class=highlight><pre><span></span><code><span class=nd>@component</span>
<span class=k>def</span><span class=w> </span><span class=nf>square</span><span class=p>():</span>
    <span class=k>return</span> <span class=n>html</span><span class=o>.</span><span class=n>button</span><span class=p>({</span><span class=s2>&quot;className&quot;</span><span class=p>:</span> <span class=s2>&quot;square&quot;</span><span class=p>},</span> <span class=s2>&quot;X&quot;</span><span class=p>)</span>
</code></pre></div> <p>After clicking the <em>run button</em> the notebook should be displaying a square with a X in it like this:</p> <!-- TODO: Add screenshot --> <p><img alt="TODO: x-filled square" src></p> <p>Now let's have a look at the files in the starter code.</p> <h4 id=appjs><code>App.js</code><a class=headerlink href=#appjs title="Permanent link">&para;</a></h4> <p>The code in <code>App.js</code> creates a <em>component</em>. In React, a component is a piece of reusable code that represents a part of a user interface. Components are used to render, manage, and update the UI elements in your application. Let's look at the component line by line to see what's going on:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=nx>X</span><span class=o>&lt;</span><span class=err>/button&gt;;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>The first line defines a function called <code>Square</code>. The <code>export</code> JavaScript keyword makes this function accessible outside of this file. The <code>default</code> keyword tells other files using your code that it's the main function in your file.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=nx>X</span><span class=o>&lt;</span><span class=err>/button&gt;;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>The second line returns a button. The <code>return</code> JavaScript keyword means whatever comes after is returned as a value to the caller of the function. <code>&lt;button&gt;</code> is a <em>JSX element</em>. A JSX element is a combination of JavaScript code and HTML tags that describes what you'd like to display. <code>className="square"</code> is a button property or <em>prop</em> that tells CSS how to style the button. <code>X</code> is the text displayed inside of the button and <code>&lt;/button&gt;</code> closes the JSX element to indicate that any following content shouldn't be placed inside the button.</p> <h4 id=stylescss><code>styles.css</code><a class=headerlink href=#stylescss title="Permanent link">&para;</a></h4> <p>Click on the file labeled <code>styles.css</code> in the <em>Files</em> section of CodeSandbox. This file defines the styles for your React app. The first two <em>CSS selectors</em> (<code>*</code> and <code>body</code>) define the style of large parts of your app while the <code>.square</code> selector defines the style of any component where the <code>className</code> property is set to <code>square</code>. In your code, that would match the button from your Square component in the <code>App.js</code> file.</p> <h4 id=indexjs><code>index.js</code><a class=headerlink href=#indexjs title="Permanent link">&para;</a></h4> <p>Click on the file labeled <code>index.js</code> in the <em>Files</em> section of CodeSandbox. You won't be editing this file during the tutorial but it is the bridge between the component you created in the <code>App.js</code> file and the web browser.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>StrictMode</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>createRoot</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react-dom/client&quot;</span><span class=p>;</span>
<span class=k>import</span><span class=w> </span><span class=s2>&quot;./styles.css&quot;</span><span class=p>;</span>

<span class=k>import</span><span class=w> </span><span class=nx>App</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;./App&quot;</span><span class=p>;</span>
</code></pre></div></td></tr></table></div> <p>Lines 1-5 brings all the necessary pieces together:</p> <ul> <li>React</li> <li>React's library to talk to web browsers (React DOM)</li> <li>the styles for your components</li> <li>the component you created in <code>App.js</code>.</li> </ul> <p>The remainder of the file brings all the pieces together and injects the final product into <code>index.html</code> in the <code>public</code> folder.</p> <h3 id=building-the-board>Building the board<a class=headerlink href=#building-the-board title="Permanent link">&para;</a></h3> <p>Let's get back to <code>App.js</code>. This is where you'll spend the rest of the tutorial.</p> <p>Currently the board is only a single square, but you need nine! If you just try and copy paste your square to make two squares like this:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=nx>X</span><span class=o>&lt;</span><span class=err>/button&gt;&lt;button className=&quot;square&quot;&gt;X&lt;/button&gt;;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>You'll get this error:</p> <p><consoleblock level=error></p> <p>/src/App.js: Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <code>&lt;&gt;...</code>?</p> <p></consoleblock></p> <p>React components need to return a single JSX element and not multiple adjacent JSX elements like two buttons. To fix this you can use <em>fragments</em> (<code>&lt;&gt;</code> and ``) to wrap multiple adjacent JSX elements like this:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=nx>X</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=nx>X</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Now you should see:</p> <p><img alt="two x-filled squares" src></p> <p>Great! Now you just need to copy-paste a few times to add nine squares and...</p> <p><img alt="nine x-filled squares in a line" src></p> <p>Oh no! The squares are all in a single line, not in a grid like you need for our board. To fix this you'll need to group your squares into rows with <code>div</code>s and add some CSS classes. While you're at it, you'll give each square a number to make sure you know where each square is displayed.</p> <p>In the <code>App.js</code> file, update the <code>Square</code> component to look like this:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=mf>1</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=mf>2</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=mf>3</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=mf>4</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=mf>5</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=mf>6</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=mf>7</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=mf>8</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=mf>9</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>The CSS defined in <code>styles.css</code> styles the divs with the <code>className</code> of <code>board-row</code>. Now that you've grouped your components into rows with the styled <code>div</code>s you have your tic-tac-toe board:</p> <p><img alt="tic-tac-toe board filled with numbers 1 through 9" src></p> <p>But you now have a problem. Your component named <code>Square</code>, really isn't a square anymore. Let's fix that by changing the name to <code>Board</code>:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=c1>//...</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>At this point your code should look something like this:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=mf>1</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=mf>2</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=mf>3</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=mf>4</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=mf>5</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=mf>6</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=mf>7</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=mf>8</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=mf>9</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span></pre></div></td><td class=code><div><pre><span></span><code><span class=o>*</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>box-sizing</span><span class=p>:</span><span class=w> </span><span class=kc>border-box</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>body</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>font-family</span><span class=p>:</span><span class=w> </span><span class=kc>sans-serif</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>square</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>background</span><span class=p>:</span><span class=w> </span><span class=mh>#fff</span><span class=p>;</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#999</span><span class=p>;</span>
<span class=w>    </span><span class=k>float</span><span class=p>:</span><span class=w> </span><span class=kc>left</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-size</span><span class=p>:</span><span class=w> </span><span class=mi>24</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-weight</span><span class=p>:</span><span class=w> </span><span class=kc>bold</span><span class=p>;</span>
<span class=w>    </span><span class=k>line-height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-right</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-top</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=k>text-align</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>board-row</span><span class=p>:</span><span class=nd>after</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>clear</span><span class=p>:</span><span class=w> </span><span class=kc>both</span><span class=p>;</span>
<span class=w>    </span><span class=k>content</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>;</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>table</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>status</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
<span class=p>.</span><span class=nc>game</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>flex</span><span class=p>;</span>
<span class=w>    </span><span class=k>flex-direction</span><span class=p>:</span><span class=w> </span><span class=kc>row</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>game-info</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-left</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p><note></p> <p>Psssst... That's a lot to type! It's okay to copy and paste code from this page. However, if you're up for a little challenge, we recommend only copying code that you've manually typed at least once yourself.</p> <p></note></p> <h3 id=passing-data-through-props>Passing data through props<a class=headerlink href=#passing-data-through-props title="Permanent link">&para;</a></h3> <p>Next, you'll want to change the value of a square from empty to "X" when the user clicks on the square. With how you've built the board so far you would need to copy-paste the code that updates the square nine times (once for each square you have)! Instead of copy-pasting, React's component architecture allows you to create a reusable component to avoid messy, duplicated code.</p> <p>First, you are going to copy the line defining your first square (<code>&lt;button className="square"&gt;1&lt;/button&gt;</code>) from your <code>Board</code> component into a new <code>Square</code> component:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=mf>1</span><span class=o>&lt;</span><span class=err>/button&gt;;</span>
<span class=p>}</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=c1>// ...</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Then you'll update the Board component to render that <code>Square</code> component using JSX syntax:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span></pre></div></td><td class=code><div><pre><span></span><code><span class=c1>// ...</span>
<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Note how unlike the browser <code>div</code>s, your own components <code>Board</code> and <code>Square</code> must start with a capital letter.</p> <p>Let's take a look:</p> <p><img alt="one-filled board" src></p> <p>Oh no! You lost the numbered squares you had before. Now each square says "1". To fix this, you will use <em>props</em> to pass the value each square should have from the parent component (<code>Board</code>) to its child (<code>Square</code>).</p> <p>Update the <code>Square</code> component to read the <code>value</code> prop that you'll pass from the <code>Board</code>:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>({</span><span class=w> </span><span class=nx>value</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=mf>1</span><span class=o>&lt;</span><span class=err>/button&gt;;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p><code>function Square({ value })</code> indicates the Square component can be passed a prop called <code>value</code>.</p> <p>Now you want to display that <code>value</code> instead of <code>1</code> inside every square. Try doing it like this:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>({</span><span class=w> </span><span class=nx>value</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=nx>value</span><span class=o>&lt;</span><span class=err>/button&gt;;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Oops, this is not what you wanted:</p> <p><img alt="value-filled board" src></p> <p>You wanted to render the JavaScript variable called <code>value</code> from your component, not the word "value". To "escape into JavaScript" from JSX, you need curly braces. Add curly braces around <code>value</code> in JSX like so:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>({</span><span class=w> </span><span class=nx>value</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>value</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/button&gt;;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>For now, you should see an empty board:</p> <p><img alt="empty board" src></p> <p>This is because the <code>Board</code> component hasn't passed the <code>value</code> prop to each <code>Square</code> component it renders yet. To fix it you'll add the <code>value</code> prop to each <code>Square</code> component rendered by the <code>Board</code> component:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=s2>&quot;1&quot;</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=s2>&quot;2&quot;</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=s2>&quot;3&quot;</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=s2>&quot;4&quot;</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=s2>&quot;5&quot;</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=s2>&quot;6&quot;</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=s2>&quot;7&quot;</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=s2>&quot;8&quot;</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=s2>&quot;9&quot;</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Now you should see a grid of numbers again:</p> <p><img alt="tic-tac-toe board filled with numbers 1 through 9" src></p> <p>Your updated code should look like this:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>({</span><span class=w> </span><span class=nx>value</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>value</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/button&gt;;</span>
<span class=p>}</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=s2>&quot;1&quot;</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=s2>&quot;2&quot;</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=s2>&quot;3&quot;</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=s2>&quot;4&quot;</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=s2>&quot;5&quot;</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=s2>&quot;6&quot;</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=s2>&quot;7&quot;</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=s2>&quot;8&quot;</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=s2>&quot;9&quot;</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span></pre></div></td><td class=code><div><pre><span></span><code><span class=o>*</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>box-sizing</span><span class=p>:</span><span class=w> </span><span class=kc>border-box</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>body</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>font-family</span><span class=p>:</span><span class=w> </span><span class=kc>sans-serif</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>square</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>background</span><span class=p>:</span><span class=w> </span><span class=mh>#fff</span><span class=p>;</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#999</span><span class=p>;</span>
<span class=w>    </span><span class=k>float</span><span class=p>:</span><span class=w> </span><span class=kc>left</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-size</span><span class=p>:</span><span class=w> </span><span class=mi>24</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-weight</span><span class=p>:</span><span class=w> </span><span class=kc>bold</span><span class=p>;</span>
<span class=w>    </span><span class=k>line-height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-right</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-top</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=k>text-align</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>board-row</span><span class=p>:</span><span class=nd>after</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>clear</span><span class=p>:</span><span class=w> </span><span class=kc>both</span><span class=p>;</span>
<span class=w>    </span><span class=k>content</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>;</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>table</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>status</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
<span class=p>.</span><span class=nc>game</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>flex</span><span class=p>;</span>
<span class=w>    </span><span class=k>flex-direction</span><span class=p>:</span><span class=w> </span><span class=kc>row</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>game-info</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-left</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <h3 id=making-an-interactive-component>Making an interactive component<a class=headerlink href=#making-an-interactive-component title="Permanent link">&para;</a></h3> <p>Let's fill the <code>Square</code> component with an <code>X</code> when you click it. Declare a function called <code>handleClick</code> inside of the <code>Square</code>. Then, add <code>on_click</code> to the props of the button JSX element returned from the <code>Square</code>:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>({</span><span class=w> </span><span class=nx>value</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&quot;clicked!&quot;</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>handleClick</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>            </span><span class=p>{</span><span class=nx>value</span><span class=p>}</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>If you click on a square now, you should see a log saying <code>"clicked!"</code> in the <em>Console</em> tab at the bottom of the <em>Browser</em> section in CodeSandbox. Clicking the square more than once will log <code>"clicked!"</code> again. Repeated console logs with the same message will not create more lines in the console. Instead, you will see an incrementing counter next to your first <code>"clicked!"</code> log.</p> <p><note></p> <p>If you are following this tutorial using your local development environment, you need to open your browser's Console. For example, if you use the Chrome browser, you can view the Console with the keyboard shortcut <strong>Shift + Ctrl + J</strong> (on Windows/Linux) or <strong>Option + âŒ˜ + J</strong> (on macOS).</p> <p></note></p> <p>As a next step, you want the Square component to "remember" that it got clicked, and fill it with an "X" mark. To "remember" things, components use <em>state</em>.</p> <p>React provides a special function called <code>useState</code> that you can call from your component to let it "remember" things. Let's store the current value of the <code>Square</code> in state, and change it when the <code>Square</code> is clicked.</p> <p>Import <code>useState</code> at the top of the file. Remove the <code>value</code> prop from the <code>Square</code> component. Instead, add a new line at the start of the <code>Square</code> that calls <code>useState</code>. Have it return a state variable called <code>value</code>:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useState</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s1>&#39;react&#39;</span><span class=p>;</span>

<span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>value</span><span class=p>,</span><span class=w> </span><span class=nx>setValue</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>

<span class=w>  </span><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=c1>//...</span>
</code></pre></div></td></tr></table></div> <p><code>value</code> stores the value and <code>setValue</code> is a function that can be used to change the value. The <code>null</code> passed to <code>useState</code> is used as the initial value for this state variable, so <code>value</code> here starts off equal to <code>null</code>.</p> <p>Since the <code>Square</code> component no longer accepts props anymore, you'll remove the <code>value</code> prop from all nine of the Square components created by the Board component:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span></pre></div></td><td class=code><div><pre><span></span><code><span class=c1>// ...</span>
<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Now you'll change <code>Square</code> to display an "X" when clicked. Replace the <code>console.log("clicked!");</code> event handler with <code>setValue('X');</code>. Now your <code>Square</code> component looks like this:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>value</span><span class=p>,</span><span class=w> </span><span class=nx>setValue</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>setValue</span><span class=p>(</span><span class=s2>&quot;X&quot;</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>handleClick</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>            </span><span class=p>{</span><span class=nx>value</span><span class=p>}</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>By calling this <code>set</code> function from an <code>on_click</code> handler, you're telling React to re-render that <code>Square</code> whenever its <code>&lt;button&gt;</code> is clicked. After the update, the <code>Square</code>'s <code>value</code> will be <code>'X'</code>, so you'll see the "X" on the game board. Click on any Square, and "X" should show up:</p> <p><img alt="adding xes to board" src></p> <p>Each Square has its own state: the <code>value</code> stored in each Square is completely independent of the others. When you call a <code>set</code> function in a component, React automatically updates the child components inside too.</p> <p>After you've made the above changes, your code will look like this:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useState</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>value</span><span class=p>,</span><span class=w> </span><span class=nx>setValue</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>setValue</span><span class=p>(</span><span class=s2>&quot;X&quot;</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>handleClick</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>            </span><span class=p>{</span><span class=nx>value</span><span class=p>}</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span></pre></div></td><td class=code><div><pre><span></span><code><span class=o>*</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>box-sizing</span><span class=p>:</span><span class=w> </span><span class=kc>border-box</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>body</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>font-family</span><span class=p>:</span><span class=w> </span><span class=kc>sans-serif</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>square</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>background</span><span class=p>:</span><span class=w> </span><span class=mh>#fff</span><span class=p>;</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#999</span><span class=p>;</span>
<span class=w>    </span><span class=k>float</span><span class=p>:</span><span class=w> </span><span class=kc>left</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-size</span><span class=p>:</span><span class=w> </span><span class=mi>24</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-weight</span><span class=p>:</span><span class=w> </span><span class=kc>bold</span><span class=p>;</span>
<span class=w>    </span><span class=k>line-height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-right</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-top</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=k>text-align</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>board-row</span><span class=p>:</span><span class=nd>after</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>clear</span><span class=p>:</span><span class=w> </span><span class=kc>both</span><span class=p>;</span>
<span class=w>    </span><span class=k>content</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>;</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>table</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>status</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
<span class=p>.</span><span class=nc>game</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>flex</span><span class=p>;</span>
<span class=w>    </span><span class=k>flex-direction</span><span class=p>:</span><span class=w> </span><span class=kc>row</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>game-info</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-left</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <h3 id=react-developer-tools>React Developer Tools<a class=headerlink href=#react-developer-tools title="Permanent link">&para;</a></h3> <p>React DevTools let you check the props and the state of your React components. You can find the React DevTools tab at the bottom of the <em>browser</em> section in CodeSandbox:</p> <p><img alt="React DevTools in CodeSandbox" src></p> <p>To inspect a particular component on the screen, use the button in the top left corner of React DevTools:</p> <p><img alt="Selecting components on the page with React DevTools" src></p> <p><note></p> <p>For local development, React DevTools is available as a <a href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi?hl=en">Chrome</a>, <a href=https://addons.mozilla.org/en-US/firefox/addon/react-devtools/ >Firefox</a>, and <a href=https://microsoftedge.microsoft.com/addons/detail/react-developer-tools/gpphkfbcpidddadnkolkpfckpihlkkil>Edge</a> browser extension. Install it, and the <em>Components</em> tab will appear in your browser Developer Tools for sites using React.</p> <p></note></p> <h2 id=completing-the-game>Completing the game<a class=headerlink href=#completing-the-game title="Permanent link">&para;</a></h2> <p>By this point, you have all the basic building blocks for your tic-tac-toe game. To have a complete game, you now need to alternate placing "X"s and "O"s on the board, and you need a way to determine a winner.</p> <h3 id=lifting-state-up>Lifting state up<a class=headerlink href=#lifting-state-up title="Permanent link">&para;</a></h3> <p>Currently, each <code>Square</code> component maintains a part of the game's state. To check for a winner in a tic-tac-toe game, the <code>Board</code> would need to somehow know the state of each of the 9 <code>Square</code> components.</p> <p>How would you approach that? At first, you might guess that the <code>Board</code> needs to "ask" each <code>Square</code> for that <code>Square</code>'s state. Although this approach is technically possible in React, we discourage it because the code becomes difficult to understand, susceptible to bugs, and hard to refactor. Instead, the best approach is to store the game's state in the parent <code>Board</code> component instead of in each <code>Square</code>. The <code>Board</code> component can tell each <code>Square</code> what to display by passing a prop, like you did when you passed a number to each Square.</p> <p><strong>To collect data from multiple children, or to have two child components communicate with each other, declare the shared state in their parent component instead. The parent component can pass that state back down to the children via props. This keeps the child components in sync with each other and with their parent.</strong></p> <p>Lifting state into a parent component is common when React components are refactored.</p> <p>Let's take this opportunity to try it out. Edit the <code>Board</code> component so that it declares a state variable named <code>squares</code> that defaults to an array of 9 nulls corresponding to the 9 squares:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span></pre></div></td><td class=code><div><pre><span></span><code><span class=c1>// ...</span>
<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>setSquares</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=nb>Array</span><span class=p>(</span><span class=mf>9</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=kc>null</span><span class=p>));</span>
<span class=w>  </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>    </span><span class=c1>// ...</span>
<span class=w>  </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p><code>Array(9).fill(null)</code> creates an array with nine elements and sets each of them to <code>null</code>. The <code>useState()</code> call around it declares a <code>squares</code> state variable that's initially set to that array. Each entry in the array corresponds to the value of a square. When you fill the board in later, the <code>squares</code> array will look like this:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>[</span><span class=s2>&quot;O&quot;</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;O&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;O&quot;</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>];</span>
</code></pre></div></td></tr></table></div> <p>Now your <code>Board</code> component needs to pass the <code>value</code> prop down to each <code>Square</code> that it renders:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>setSquares</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=nb>Array</span><span class=p>(</span><span class=mf>9</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=kc>null</span><span class=p>));</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>0</span><span class=p>]}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>1</span><span class=p>]}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>2</span><span class=p>]}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>3</span><span class=p>]}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>4</span><span class=p>]}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>5</span><span class=p>]}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>6</span><span class=p>]}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>7</span><span class=p>]}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>8</span><span class=p>]}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Next, you'll edit the <code>Square</code> component to receive the <code>value</code> prop from the Board component. This will require removing the Square component's own stateful tracking of <code>value</code> and the button's <code>on_click</code> prop:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>({</span><span class=w> </span><span class=nx>value</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>value</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/button&gt;;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>At this point you should see an empty tic-tac-toe board:</p> <p><img alt="empty board" src></p> <p>And your code should look like this:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useState</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>({</span><span class=w> </span><span class=nx>value</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>value</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/button&gt;;</span>
<span class=p>}</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>setSquares</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=nb>Array</span><span class=p>(</span><span class=mf>9</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=kc>null</span><span class=p>));</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>0</span><span class=p>]}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>1</span><span class=p>]}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>2</span><span class=p>]}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>3</span><span class=p>]}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>4</span><span class=p>]}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>5</span><span class=p>]}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>6</span><span class=p>]}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>7</span><span class=p>]}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>8</span><span class=p>]}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span></pre></div></td><td class=code><div><pre><span></span><code><span class=o>*</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>box-sizing</span><span class=p>:</span><span class=w> </span><span class=kc>border-box</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>body</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>font-family</span><span class=p>:</span><span class=w> </span><span class=kc>sans-serif</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>square</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>background</span><span class=p>:</span><span class=w> </span><span class=mh>#fff</span><span class=p>;</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#999</span><span class=p>;</span>
<span class=w>    </span><span class=k>float</span><span class=p>:</span><span class=w> </span><span class=kc>left</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-size</span><span class=p>:</span><span class=w> </span><span class=mi>24</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-weight</span><span class=p>:</span><span class=w> </span><span class=kc>bold</span><span class=p>;</span>
<span class=w>    </span><span class=k>line-height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-right</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-top</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=k>text-align</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>board-row</span><span class=p>:</span><span class=nd>after</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>clear</span><span class=p>:</span><span class=w> </span><span class=kc>both</span><span class=p>;</span>
<span class=w>    </span><span class=k>content</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>;</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>table</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>status</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
<span class=p>.</span><span class=nc>game</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>flex</span><span class=p>;</span>
<span class=w>    </span><span class=k>flex-direction</span><span class=p>:</span><span class=w> </span><span class=kc>row</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>game-info</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-left</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Each Square will now receive a <code>value</code> prop that will either be <code>'X'</code>, <code>'O'</code>, or <code>null</code> for empty squares.</p> <p>Next, you need to change what happens when a <code>Square</code> is clicked. The <code>Board</code> component now maintains which squares are filled. You'll need to create a way for the <code>Square</code> to update the <code>Board</code>'s state. Since state is private to a component that defines it, you cannot update the <code>Board</code>'s state directly from <code>Square</code>.</p> <p>Instead, you'll pass down a function from the <code>Board</code> component to the <code>Square</code> component, and you'll have <code>Square</code> call that function when a square is clicked. You'll start with the function that the <code>Square</code> component will call when it is clicked. You'll call that function <code>onSquareClick</code>:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>({</span><span class=w> </span><span class=nx>value</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>onSquareClick</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>            </span><span class=p>{</span><span class=nx>value</span><span class=p>}</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Next, you'll add the <code>onSquareClick</code> function to the <code>Square</code> component's props:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>({</span><span class=w> </span><span class=nx>value</span><span class=p>,</span><span class=w> </span><span class=nx>onSquareClick</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>onSquareClick</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>            </span><span class=p>{</span><span class=nx>value</span><span class=p>}</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Now you'll connect the <code>onSquareClick</code> prop to a function in the <code>Board</code> component that you'll name <code>handleClick</code>. To connect <code>onSquareClick</code> to <code>handleClick</code> you'll pass a function to the <code>onSquareClick</code> prop of the first <code>Square</code> component:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>setSquares</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=nb>Array</span><span class=p>(</span><span class=mf>9</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=kc>null</span><span class=p>));</span>

<span class=w>  </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>    </span><span class=o>&lt;&gt;</span>
<span class=w>      </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>0</span><span class=p>]}</span><span class=w> </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{</span><span class=nx>handleClick</span><span class=p>}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>        </span><span class=c1>//...</span>
<span class=w>  </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Lastly, you will define the <code>handleClick</code> function inside the Board component to update the <code>squares</code> array holding your board's state:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>setSquares</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=nb>Array</span><span class=p>(</span><span class=mf>9</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=kc>null</span><span class=p>));</span>

<span class=w>  </span><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>nextSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>squares</span><span class=p>.</span><span class=nx>slice</span><span class=p>();</span>
<span class=w>    </span><span class=nx>nextSquares</span><span class=p>[</span><span class=mf>0</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=p>;</span>
<span class=w>    </span><span class=nx>setSquares</span><span class=p>(</span><span class=nx>nextSquares</span><span class=p>);</span>
<span class=w>  </span><span class=p>}</span>

<span class=w>  </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>    </span><span class=c1>// ...</span>
<span class=w>  </span><span class=p>)</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>The <code>handleClick</code> function creates a copy of the <code>squares</code> array (<code>nextSquares</code>) with the JavaScript <code>slice()</code> Array method. Then, <code>handleClick</code> updates the <code>nextSquares</code> array to add <code>X</code> to the first (<code>[0]</code> index) square.</p> <p>Calling the <code>setSquares</code> function lets React know the state of the component has changed. This will trigger a re-render of the components that use the <code>squares</code> state (<code>Board</code>) as well as its child components (the <code>Square</code> components that make up the board).</p> <p><note></p> <p>JavaScript supports <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures>closures</a> which means an inner function (e.g. <code>handleClick</code>) has access to variables and functions defined in a outer function (e.g. <code>Board</code>). The <code>handleClick</code> function can read the <code>squares</code> state and call the <code>setSquares</code> method because they are both defined inside of the <code>Board</code> function.</p> <p></note></p> <p>Now you can add X's to the board... but only to the upper left square. Your <code>handleClick</code> function is hardcoded to update the index for the upper left square (<code>0</code>). Let's update <code>handleClick</code> to be able to update any square. Add an argument <code>i</code> to the <code>handleClick</code> function that takes the index of the square to update:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>setSquares</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=nb>Array</span><span class=p>(</span><span class=mf>9</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=kc>null</span><span class=p>));</span>

<span class=w>  </span><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>nextSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>squares</span><span class=p>.</span><span class=nx>slice</span><span class=p>();</span>
<span class=w>    </span><span class=nx>nextSquares</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=p>;</span>
<span class=w>    </span><span class=nx>setSquares</span><span class=p>(</span><span class=nx>nextSquares</span><span class=p>);</span>
<span class=w>  </span><span class=p>}</span>

<span class=w>  </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>    </span><span class=c1>// ...</span>
<span class=w>  </span><span class=p>)</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Next, you will need to pass that <code>i</code> to <code>handleClick</code>. You could try to set the <code>onSquareClick</code> prop of square to be <code>handleClick(0)</code> directly in the JSX like this, but it won't work:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>&lt;</span><span class=nt>Square</span><span class=w> </span><span class=na>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>0</span><span class=p>]}</span><span class=w> </span><span class=na>onSquareClick</span><span class=o>=</span><span class=p>{</span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>0</span><span class=p>)}</span><span class=w> </span><span class=p>/&gt;</span>
</code></pre></div></td></tr></table></div> <p>Here is why this doesn't work. The <code>handleClick(0)</code> call will be a part of rendering the board component. Because <code>handleClick(0)</code> alters the state of the board component by calling <code>setSquares</code>, your entire board component will be re-rendered again. But this runs <code>handleClick(0)</code> again, leading to an infinite loop:</p> <p><consoleblock level=error></p> <p>Too many re-renders. React limits the number of renders to prevent an infinite loop.</p> <p></consoleblock></p> <p>Why didn't this problem happen earlier?</p> <p>When you were passing <code>onSquareClick={handleClick}</code>, you were passing the <code>handleClick</code> function down as a prop. You were not calling it! But now you are <em>calling</em> that function right away--notice the parentheses in <code>handleClick(0)</code>--and that's why it runs too early. You don't <em>want</em> to call <code>handleClick</code> until the user clicks!</p> <p>You could fix by creating a function like <code>handleFirstSquareClick</code> that calls <code>handleClick(0)</code>, a function like <code>handleSecondSquareClick</code> that calls <code>handleClick(1)</code>, and so on. You would pass (rather than call) these functions down as props like <code>onSquareClick={handleFirstSquareClick}</code>. This would solve the infinite loop.</p> <p>However, defining nine different functions and giving each of them a name is too verbose. Instead, let's do this:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span>
<span class=normal>9</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=c1>// ...</span>
<span class=w>  </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>    </span><span class=o>&lt;&gt;</span>
<span class=w>      </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>Square</span><span class=w> </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>0</span><span class=p>]}</span><span class=w> </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>0</span><span class=p>)}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>        </span><span class=c1>// ...</span>
<span class=w>  </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Notice the new <code>() =&gt;</code> syntax. Here, <code>() =&gt; handleClick(0)</code> is an <em>arrow function,</em> which is a shorter way to define functions. When the square is clicked, the code after the <code>=&gt;</code> "arrow" will run, calling <code>handleClick(0)</code>.</p> <p>Now you need to update the other eight squares to call <code>handleClick</code> from the arrow functions you pass. Make sure that the argument for each call of the <code>handleClick</code> corresponds to the index of the correct square:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=c1>// ...</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>0</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>0</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>1</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>1</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>2</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>2</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>3</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>3</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>4</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>4</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>5</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>5</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>6</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>6</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>7</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>7</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>8</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>8</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Now you can again add X's to any square on the board by clicking on them:</p> <p><img alt="filling the board with X" src></p> <p>But this time all the state management is handled by the <code>Board</code> component!</p> <p>This is what your code should look like:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span>
<span class=normal>59</span>
<span class=normal>60</span>
<span class=normal>61</span>
<span class=normal>62</span>
<span class=normal>63</span>
<span class=normal>64</span>
<span class=normal>65</span>
<span class=normal>66</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useState</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>({</span><span class=w> </span><span class=nx>value</span><span class=p>,</span><span class=w> </span><span class=nx>onSquareClick</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>onSquareClick</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>            </span><span class=p>{</span><span class=nx>value</span><span class=p>}</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>setSquares</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=nb>Array</span><span class=p>(</span><span class=mf>9</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=kc>null</span><span class=p>));</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=nx>nextSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>squares</span><span class=p>.</span><span class=nx>slice</span><span class=p>();</span>
<span class=w>        </span><span class=nx>nextSquares</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=nx>setSquares</span><span class=p>(</span><span class=nx>nextSquares</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>0</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>0</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>1</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>1</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>2</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>2</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>3</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>3</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>4</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>4</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>5</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>5</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>6</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>6</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>7</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>7</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>8</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>8</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span></pre></div></td><td class=code><div><pre><span></span><code><span class=o>*</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>box-sizing</span><span class=p>:</span><span class=w> </span><span class=kc>border-box</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>body</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>font-family</span><span class=p>:</span><span class=w> </span><span class=kc>sans-serif</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>square</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>background</span><span class=p>:</span><span class=w> </span><span class=mh>#fff</span><span class=p>;</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#999</span><span class=p>;</span>
<span class=w>    </span><span class=k>float</span><span class=p>:</span><span class=w> </span><span class=kc>left</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-size</span><span class=p>:</span><span class=w> </span><span class=mi>24</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-weight</span><span class=p>:</span><span class=w> </span><span class=kc>bold</span><span class=p>;</span>
<span class=w>    </span><span class=k>line-height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-right</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-top</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=k>text-align</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>board-row</span><span class=p>:</span><span class=nd>after</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>clear</span><span class=p>:</span><span class=w> </span><span class=kc>both</span><span class=p>;</span>
<span class=w>    </span><span class=k>content</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>;</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>table</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>status</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
<span class=p>.</span><span class=nc>game</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>flex</span><span class=p>;</span>
<span class=w>    </span><span class=k>flex-direction</span><span class=p>:</span><span class=w> </span><span class=kc>row</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>game-info</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-left</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Now that your state handling is in the <code>Board</code> component, the parent <code>Board</code> component passes props to the child <code>Square</code> components so that they can be displayed correctly. When clicking on a <code>Square</code>, the child <code>Square</code> component now asks the parent <code>Board</code> component to update the state of the board. When the <code>Board</code>'s state changes, both the <code>Board</code> component and every child <code>Square</code> re-renders automatically. Keeping the state of all squares in the <code>Board</code> component will allow it to determine the winner in the future.</p> <p>Let's recap what happens when a user clicks the top left square on your board to add an <code>X</code> to it:</p> <ol> <li>Clicking on the upper left square runs the function that the <code>button</code> received as its <code>on_click</code> prop from the <code>Square</code>. The <code>Square</code> component received that function as its <code>onSquareClick</code> prop from the <code>Board</code>. The <code>Board</code> component defined that function directly in the JSX. It calls <code>handleClick</code> with an argument of <code>0</code>.</li> <li><code>handleClick</code> uses the argument (<code>0</code>) to update the first element of the <code>squares</code> array from <code>null</code> to <code>X</code>.</li> <li>The <code>squares</code> state of the <code>Board</code> component was updated, so the <code>Board</code> and all of its children re-render. This causes the <code>value</code> prop of the <code>Square</code> component with index <code>0</code> to change from <code>null</code> to <code>X</code>.</li> </ol> <p>In the end the user sees that the upper left square has changed from empty to having a <code>X</code> after clicking it.</p> <p><note></p> <p>The DOM <code>&lt;button&gt;</code> element's <code>on_click</code> attribute has a special meaning to React because it is a built-in component. For custom components like Square, the naming is up to you. You could give any name to the <code>Square</code>'s <code>onSquareClick</code> prop or <code>Board</code>'s <code>handleClick</code> function, and the code would work the same. In React, it's conventional to use <code>onSomething</code> names for props which represent events and <code>handleSomething</code> for the function definitions which handle those events.</p> <p></note></p> <h3 id=why-immutability-is-important>Why immutability is important<a class=headerlink href=#why-immutability-is-important title="Permanent link">&para;</a></h3> <p>Note how in <code>handleClick</code>, you call <code>.slice()</code> to create a copy of the <code>squares</code> array instead of modifying the existing array. To explain why, we need to discuss immutability and why immutability is important to learn.</p> <p>There are generally two approaches to changing data. The first approach is to <em>mutate</em> the data by directly changing the data's values. The second approach is to replace the data with a new copy which has the desired changes. Here is what it would look like if you mutated the <code>squares</code> array:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>const</span><span class=w> </span><span class=nx>squares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>];</span>
<span class=nx>squares</span><span class=p>[</span><span class=mf>0</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=p>;</span>
<span class=c1>// Now `squares` is [&quot;X&quot;, null, null, null, null, null, null, null, null];</span>
</code></pre></div></td></tr></table></div> <p>And here is what it would look like if you changed data without mutating the <code>squares</code> array:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>const</span><span class=w> </span><span class=nx>squares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>];</span>
<span class=kd>const</span><span class=w> </span><span class=nx>nextSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;X&quot;</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>];</span>
<span class=c1>// Now `squares` is unchanged, but `nextSquares` first element is &#39;X&#39; rather than `null`</span>
</code></pre></div></td></tr></table></div> <p>The result is the same but by not mutating (changing the underlying data) directly, you gain several benefits.</p> <p>Immutability makes complex features much easier to implement. Later in this tutorial, you will implement a "time travel" feature that lets you review the game's history and "jump back" to past moves. This functionality isn't specific to games--an ability to undo and redo certain actions is a common requirement for apps. Avoiding direct data mutation lets you keep previous versions of the data intact, and reuse them later.</p> <p>There is also another benefit of immutability. By default, all child components re-render automatically when the state of a parent component changes. This includes even the child components that weren't affected by the change. Although re-rendering is not by itself noticeable to the user (you shouldn't actively try to avoid it!), you might want to skip re-rendering a part of the tree that clearly wasn't affected by it for performance reasons. Immutability makes it very cheap for components to compare whether their data has changed or not. You can learn more about how React chooses when to re-render a component in <a href=/reference/react/memo>the <code>memo</code> API reference</a>.</p> <h3 id=taking-turns>Taking turns<a class=headerlink href=#taking-turns title="Permanent link">&para;</a></h3> <p>It's now time to fix a major defect in this tic-tac-toe game: the "O"s cannot be marked on the board.</p> <p>You'll set the first move to be "X" by default. Let's keep track of this by adding another piece of state to the Board component:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>xIsNext</span><span class=p>,</span><span class=w> </span><span class=nx>setXIsNext</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>setSquares</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=nb>Array</span><span class=p>(</span><span class=mf>9</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=kc>null</span><span class=p>));</span>

<span class=w>    </span><span class=c1>// ...</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Each time a player moves, <code>xIsNext</code> (a boolean) will be flipped to determine which player goes next and the game's state will be saved. You'll update the <code>Board</code>'s <code>handleClick</code> function to flip the value of <code>xIsNext</code>:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>xIsNext</span><span class=p>,</span><span class=w> </span><span class=nx>setXIsNext</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>setSquares</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=nb>Array</span><span class=p>(</span><span class=mf>9</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=kc>null</span><span class=p>));</span>

<span class=w>  </span><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>nextSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>squares</span><span class=p>.</span><span class=nx>slice</span><span class=p>();</span>
<span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>xIsNext</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=nx>nextSquares</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=nx>nextSquares</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;O&quot;</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=nx>setSquares</span><span class=p>(</span><span class=nx>nextSquares</span><span class=p>);</span>
<span class=w>    </span><span class=nx>setXIsNext</span><span class=p>(</span><span class=o>!</span><span class=nx>xIsNext</span><span class=p>);</span>
<span class=w>  </span><span class=p>}</span>

<span class=w>  </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>    </span><span class=c1>//...</span>
<span class=w>  </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Now, as you click on different squares, they will alternate between <code>X</code> and <code>O</code>, as they should!</p> <p>But wait, there's a problem. Try clicking on the same square multiple times:</p> <p><img alt="O overwriting an X" src></p> <p>The <code>X</code> is overwritten by an <code>O</code>! While this would add a very interesting twist to the game, we're going to stick to the original rules for now.</p> <p>When you mark a square with a <code>X</code> or an <code>O</code> you aren't first checking to see if the square already has a <code>X</code> or <code>O</code> value. You can fix this by <em>returning early</em>. You'll check to see if the square already has a <code>X</code> or an <code>O</code>. If the square is already filled, you will <code>return</code> in the <code>handleClick</code> function early--before it tries to update the board state.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>squares</span><span class=p>[</span><span class=nx>i</span><span class=p>])</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>return</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>nextSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>squares</span><span class=p>.</span><span class=nx>slice</span><span class=p>();</span>
<span class=w>    </span><span class=c1>//...</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Now you can only add <code>X</code>'s or <code>O</code>'s to empty squares! Here is what your code should look like at this point:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span>
<span class=normal>59</span>
<span class=normal>60</span>
<span class=normal>61</span>
<span class=normal>62</span>
<span class=normal>63</span>
<span class=normal>64</span>
<span class=normal>65</span>
<span class=normal>66</span>
<span class=normal>67</span>
<span class=normal>68</span>
<span class=normal>69</span>
<span class=normal>70</span>
<span class=normal>71</span>
<span class=normal>72</span>
<span class=normal>73</span>
<span class=normal>74</span>
<span class=normal>75</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useState</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>({</span><span class=w> </span><span class=nx>value</span><span class=p>,</span><span class=w> </span><span class=nx>onSquareClick</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>onSquareClick</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>            </span><span class=p>{</span><span class=nx>value</span><span class=p>}</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>xIsNext</span><span class=p>,</span><span class=w> </span><span class=nx>setXIsNext</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>setSquares</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=nb>Array</span><span class=p>(</span><span class=mf>9</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=kc>null</span><span class=p>));</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>squares</span><span class=p>[</span><span class=nx>i</span><span class=p>])</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=k>return</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=nx>nextSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>squares</span><span class=p>.</span><span class=nx>slice</span><span class=p>();</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>xIsNext</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>nextSquares</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>nextSquares</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;O&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>        </span><span class=nx>setSquares</span><span class=p>(</span><span class=nx>nextSquares</span><span class=p>);</span>
<span class=w>        </span><span class=nx>setXIsNext</span><span class=p>(</span><span class=o>!</span><span class=nx>xIsNext</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>0</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>0</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>1</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>1</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>2</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>2</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>3</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>3</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>4</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>4</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>5</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>5</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>6</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>6</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>7</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>7</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>8</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>8</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span></pre></div></td><td class=code><div><pre><span></span><code><span class=o>*</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>box-sizing</span><span class=p>:</span><span class=w> </span><span class=kc>border-box</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>body</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>font-family</span><span class=p>:</span><span class=w> </span><span class=kc>sans-serif</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>square</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>background</span><span class=p>:</span><span class=w> </span><span class=mh>#fff</span><span class=p>;</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#999</span><span class=p>;</span>
<span class=w>    </span><span class=k>float</span><span class=p>:</span><span class=w> </span><span class=kc>left</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-size</span><span class=p>:</span><span class=w> </span><span class=mi>24</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-weight</span><span class=p>:</span><span class=w> </span><span class=kc>bold</span><span class=p>;</span>
<span class=w>    </span><span class=k>line-height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-right</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-top</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=k>text-align</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>board-row</span><span class=p>:</span><span class=nd>after</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>clear</span><span class=p>:</span><span class=w> </span><span class=kc>both</span><span class=p>;</span>
<span class=w>    </span><span class=k>content</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>;</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>table</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>status</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
<span class=p>.</span><span class=nc>game</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>flex</span><span class=p>;</span>
<span class=w>    </span><span class=k>flex-direction</span><span class=p>:</span><span class=w> </span><span class=kc>row</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>game-info</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-left</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <h3 id=declaring-a-winner>Declaring a winner<a class=headerlink href=#declaring-a-winner title="Permanent link">&para;</a></h3> <p>Now that the players can take turns, you'll want to show when the game is won and there are no more turns to make. To do this you'll add a helper function called <code>calculateWinner</code> that takes an array of 9 squares, checks for a winner and returns <code>'X'</code>, <code>'O'</code>, or <code>null</code> as appropriate. Don't worry too much about the <code>calculateWinner</code> function; it's not specific to React:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=c1>//...</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>calculateWinner</span><span class=p>(</span><span class=nx>squares</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>lines</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span>
<span class=w>        </span><span class=p>[</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=mf>1</span><span class=p>,</span><span class=w> </span><span class=mf>2</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>3</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>5</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>6</span><span class=p>,</span><span class=w> </span><span class=mf>7</span><span class=p>,</span><span class=w> </span><span class=mf>8</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=mf>3</span><span class=p>,</span><span class=w> </span><span class=mf>6</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>1</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>7</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>2</span><span class=p>,</span><span class=w> </span><span class=mf>5</span><span class=p>,</span><span class=w> </span><span class=mf>8</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>8</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>2</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>6</span><span class=p>],</span>
<span class=w>    </span><span class=p>];</span>
<span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kd>let</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=nx>lines</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=p>,</span><span class=w> </span><span class=nx>c</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>lines</span><span class=p>[</span><span class=nx>i</span><span class=p>];</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span>
<span class=w>            </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>]</span><span class=w> </span><span class=o>&amp;&amp;</span>
<span class=w>            </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>]</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>b</span><span class=p>]</span><span class=w> </span><span class=o>&amp;&amp;</span>
<span class=w>            </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>]</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>c</span><span class=p>]</span>
<span class=w>        </span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>];</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p><note></p> <p>It does not matter whether you define <code>calculateWinner</code> before or after the <code>Board</code>. Let's put it at the end so that you don't have to scroll past it every time you edit your components.</p> <p></note></p> <p>You will call <code>calculateWinner(squares)</code> in the <code>Board</code> component's <code>handleClick</code> function to check if a player has won. You can perform this check at the same time you check if a user has clicked a square that already has a <code>X</code> or and <code>O</code>. We'd like to return early in both cases:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>squares</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=nx>calculateWinner</span><span class=p>(</span><span class=nx>squares</span><span class=p>))</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>return</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>nextSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>squares</span><span class=p>.</span><span class=nx>slice</span><span class=p>();</span>
<span class=w>    </span><span class=c1>//...</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>To let the players know when the game is over, you can display text such as "Winner: X" or "Winner: O". To do that you'll add a <code>status</code> section to the <code>Board</code> component. The status will display the winner if the game is over and if the game is ongoing you'll display which player's turn is next:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=c1>// ...</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=nx>winner</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>calculateWinner</span><span class=p>(</span><span class=nx>squares</span><span class=p>);</span>
<span class=w>  </span><span class=kd>let</span><span class=w> </span><span class=nx>status</span><span class=p>;</span>
<span class=w>  </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>winner</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Winner: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>winner</span><span class=p>;</span>
<span class=w>  </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Next player: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=nx>xIsNext</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s2>&quot;O&quot;</span><span class=p>);</span>
<span class=w>  </span><span class=p>}</span>

<span class=w>  </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>    </span><span class=o>&lt;&gt;</span>
<span class=w>      </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;status&quot;</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>status</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>      </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>        </span><span class=c1>// ...</span>
<span class=w>  </span><span class=p>)</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Congratulations! You now have a working tic-tac-toe game. And you've just learned the basics of React too. So <em>you</em> are the real winner here. Here is what the code should look like:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>  1</span>
<span class=normal>  2</span>
<span class=normal>  3</span>
<span class=normal>  4</span>
<span class=normal>  5</span>
<span class=normal>  6</span>
<span class=normal>  7</span>
<span class=normal>  8</span>
<span class=normal>  9</span>
<span class=normal> 10</span>
<span class=normal> 11</span>
<span class=normal> 12</span>
<span class=normal> 13</span>
<span class=normal> 14</span>
<span class=normal> 15</span>
<span class=normal> 16</span>
<span class=normal> 17</span>
<span class=normal> 18</span>
<span class=normal> 19</span>
<span class=normal> 20</span>
<span class=normal> 21</span>
<span class=normal> 22</span>
<span class=normal> 23</span>
<span class=normal> 24</span>
<span class=normal> 25</span>
<span class=normal> 26</span>
<span class=normal> 27</span>
<span class=normal> 28</span>
<span class=normal> 29</span>
<span class=normal> 30</span>
<span class=normal> 31</span>
<span class=normal> 32</span>
<span class=normal> 33</span>
<span class=normal> 34</span>
<span class=normal> 35</span>
<span class=normal> 36</span>
<span class=normal> 37</span>
<span class=normal> 38</span>
<span class=normal> 39</span>
<span class=normal> 40</span>
<span class=normal> 41</span>
<span class=normal> 42</span>
<span class=normal> 43</span>
<span class=normal> 44</span>
<span class=normal> 45</span>
<span class=normal> 46</span>
<span class=normal> 47</span>
<span class=normal> 48</span>
<span class=normal> 49</span>
<span class=normal> 50</span>
<span class=normal> 51</span>
<span class=normal> 52</span>
<span class=normal> 53</span>
<span class=normal> 54</span>
<span class=normal> 55</span>
<span class=normal> 56</span>
<span class=normal> 57</span>
<span class=normal> 58</span>
<span class=normal> 59</span>
<span class=normal> 60</span>
<span class=normal> 61</span>
<span class=normal> 62</span>
<span class=normal> 63</span>
<span class=normal> 64</span>
<span class=normal> 65</span>
<span class=normal> 66</span>
<span class=normal> 67</span>
<span class=normal> 68</span>
<span class=normal> 69</span>
<span class=normal> 70</span>
<span class=normal> 71</span>
<span class=normal> 72</span>
<span class=normal> 73</span>
<span class=normal> 74</span>
<span class=normal> 75</span>
<span class=normal> 76</span>
<span class=normal> 77</span>
<span class=normal> 78</span>
<span class=normal> 79</span>
<span class=normal> 80</span>
<span class=normal> 81</span>
<span class=normal> 82</span>
<span class=normal> 83</span>
<span class=normal> 84</span>
<span class=normal> 85</span>
<span class=normal> 86</span>
<span class=normal> 87</span>
<span class=normal> 88</span>
<span class=normal> 89</span>
<span class=normal> 90</span>
<span class=normal> 91</span>
<span class=normal> 92</span>
<span class=normal> 93</span>
<span class=normal> 94</span>
<span class=normal> 95</span>
<span class=normal> 96</span>
<span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span>
<span class=normal>101</span>
<span class=normal>102</span>
<span class=normal>103</span>
<span class=normal>104</span>
<span class=normal>105</span>
<span class=normal>106</span>
<span class=normal>107</span>
<span class=normal>108</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useState</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>({</span><span class=w> </span><span class=nx>value</span><span class=p>,</span><span class=w> </span><span class=nx>onSquareClick</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>onSquareClick</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>            </span><span class=p>{</span><span class=nx>value</span><span class=p>}</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>xIsNext</span><span class=p>,</span><span class=w> </span><span class=nx>setXIsNext</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>setSquares</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=nb>Array</span><span class=p>(</span><span class=mf>9</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=kc>null</span><span class=p>));</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>calculateWinner</span><span class=p>(</span><span class=nx>squares</span><span class=p>)</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>i</span><span class=p>])</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=k>return</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=nx>nextSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>squares</span><span class=p>.</span><span class=nx>slice</span><span class=p>();</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>xIsNext</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>nextSquares</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>nextSquares</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;O&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>        </span><span class=nx>setSquares</span><span class=p>(</span><span class=nx>nextSquares</span><span class=p>);</span>
<span class=w>        </span><span class=nx>setXIsNext</span><span class=p>(</span><span class=o>!</span><span class=nx>xIsNext</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>winner</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>calculateWinner</span><span class=p>(</span><span class=nx>squares</span><span class=p>);</span>
<span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=nx>status</span><span class=p>;</span>
<span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>winner</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Winner: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>winner</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Next player: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=nx>xIsNext</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s2>&quot;O&quot;</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;status&quot;</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>status</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>0</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>0</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>1</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>1</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>2</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>2</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>3</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>3</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>4</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>4</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>5</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>5</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>6</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>6</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>7</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>7</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>8</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>8</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>calculateWinner</span><span class=p>(</span><span class=nx>squares</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>lines</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span>
<span class=w>        </span><span class=p>[</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=mf>1</span><span class=p>,</span><span class=w> </span><span class=mf>2</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>3</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>5</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>6</span><span class=p>,</span><span class=w> </span><span class=mf>7</span><span class=p>,</span><span class=w> </span><span class=mf>8</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=mf>3</span><span class=p>,</span><span class=w> </span><span class=mf>6</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>1</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>7</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>2</span><span class=p>,</span><span class=w> </span><span class=mf>5</span><span class=p>,</span><span class=w> </span><span class=mf>8</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>8</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>2</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>6</span><span class=p>],</span>
<span class=w>    </span><span class=p>];</span>
<span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kd>let</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=nx>lines</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=p>,</span><span class=w> </span><span class=nx>c</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>lines</span><span class=p>[</span><span class=nx>i</span><span class=p>];</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span>
<span class=w>            </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>]</span><span class=w> </span><span class=o>&amp;&amp;</span>
<span class=w>            </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>]</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>b</span><span class=p>]</span><span class=w> </span><span class=o>&amp;&amp;</span>
<span class=w>            </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>]</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>c</span><span class=p>]</span>
<span class=w>        </span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>];</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span></pre></div></td><td class=code><div><pre><span></span><code><span class=o>*</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>box-sizing</span><span class=p>:</span><span class=w> </span><span class=kc>border-box</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>body</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>font-family</span><span class=p>:</span><span class=w> </span><span class=kc>sans-serif</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>square</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>background</span><span class=p>:</span><span class=w> </span><span class=mh>#fff</span><span class=p>;</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#999</span><span class=p>;</span>
<span class=w>    </span><span class=k>float</span><span class=p>:</span><span class=w> </span><span class=kc>left</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-size</span><span class=p>:</span><span class=w> </span><span class=mi>24</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-weight</span><span class=p>:</span><span class=w> </span><span class=kc>bold</span><span class=p>;</span>
<span class=w>    </span><span class=k>line-height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-right</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-top</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=k>text-align</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>board-row</span><span class=p>:</span><span class=nd>after</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>clear</span><span class=p>:</span><span class=w> </span><span class=kc>both</span><span class=p>;</span>
<span class=w>    </span><span class=k>content</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>;</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>table</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>status</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
<span class=p>.</span><span class=nc>game</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>flex</span><span class=p>;</span>
<span class=w>    </span><span class=k>flex-direction</span><span class=p>:</span><span class=w> </span><span class=kc>row</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>game-info</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-left</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <h2 id=adding-time-travel>Adding time travel<a class=headerlink href=#adding-time-travel title="Permanent link">&para;</a></h2> <p>As a final exercise, let's make it possible to "go back in time" to the previous moves in the game.</p> <h3 id=storing-a-history-of-moves>Storing a history of moves<a class=headerlink href=#storing-a-history-of-moves title="Permanent link">&para;</a></h3> <p>If you mutated the <code>squares</code> array, implementing time travel would be very difficult.</p> <p>However, you used <code>slice()</code> to create a new copy of the <code>squares</code> array after every move, and treated it as immutable. This will allow you to store every past version of the <code>squares</code> array, and navigate between the turns that have already happened.</p> <p>You'll store the past <code>squares</code> arrays in another array called <code>history</code>, which you'll store as a new state variable. The <code>history</code> array represents all board states, from the first to the last move, and has a shape like this:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span>
<span class=normal>9</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>[</span>
<span class=w>    </span><span class=c1>// Before first move</span>
<span class=w>    </span><span class=p>[</span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>],</span>
<span class=w>    </span><span class=c1>// After first move</span>
<span class=w>    </span><span class=p>[</span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>],</span>
<span class=w>    </span><span class=c1>// After second move</span>
<span class=w>    </span><span class=p>[</span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;O&quot;</span><span class=p>],</span>
<span class=w>    </span><span class=c1>// ...</span>
<span class=p>];</span>
</code></pre></div></td></tr></table></div> <h3 id=lifting-state-up-again>Lifting state up, again<a class=headerlink href=#lifting-state-up-again title="Permanent link">&para;</a></h3> <p>You will now write a new top-level component called <code>Game</code> to display a list of past moves. That's where you will place the <code>history</code> state that contains the entire game history.</p> <p>Placing the <code>history</code> state into the <code>Game</code> component will let you remove the <code>squares</code> state from its child <code>Board</code> component. Just like you "lifted state up" from the <code>Square</code> component into the <code>Board</code> component, you will now lift it up from the <code>Board</code> into the top-level <code>Game</code> component. This gives the <code>Game</code> component full control over the <code>Board</code>'s data and lets it instruct the <code>Board</code> to render previous turns from the <code>history</code>.</p> <p>First, add a <code>Game</code> component with <code>export default</code>. Have it render the <code>Board</code> component and some markup:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=c1>// ...</span>
<span class=p>}</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Game</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;game&quot;</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;game-board&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Board</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;game-info&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>ol</span><span class=o>&gt;</span><span class=p>{</span><span class=cm>/*TODO*/</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/ol&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Note that you are removing the <code>export default</code> keywords before the <code>function Board() {</code> declaration and adding them before the <code>function Game() {</code> declaration. This tells your <code>index.js</code> file to use the <code>Game</code> component as the top-level component instead of your <code>Board</code> component. The additional <code>div</code>s returned by the <code>Game</code> component are making room for the game information you'll add to the board later.</p> <p>Add some state to the <code>Game</code> component to track which player is next and the history of moves:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Game</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>xIsNext</span><span class=p>,</span><span class=w> </span><span class=nx>setXIsNext</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>history</span><span class=p>,</span><span class=w> </span><span class=nx>setHistory</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>([</span><span class=nb>Array</span><span class=p>(</span><span class=mf>9</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=kc>null</span><span class=p>)]);</span>
<span class=w>  </span><span class=c1>// ...</span>
</code></pre></div></td></tr></table></div> <p>Notice how <code>[Array(9).fill(null)]</code> is an array with a single item, which itself is an array of 9 <code>null</code>s.</p> <p>To render the squares for the current move, you'll want to read the last squares array from the <code>history</code>. You don't need <code>useState</code> for this--you already have enough information to calculate it during rendering:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Game</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>xIsNext</span><span class=p>,</span><span class=w> </span><span class=nx>setXIsNext</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>history</span><span class=p>,</span><span class=w> </span><span class=nx>setHistory</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>([</span><span class=nb>Array</span><span class=p>(</span><span class=mf>9</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=kc>null</span><span class=p>)]);</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=nx>currentSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>history</span><span class=p>[</span><span class=nx>history</span><span class=p>.</span><span class=nx>length</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mf>1</span><span class=p>];</span>
<span class=w>  </span><span class=c1>// ...</span>
</code></pre></div></td></tr></table></div> <p>Next, create a <code>handlePlay</code> function inside the <code>Game</code> component that will be called by the <code>Board</code> component to update the game. Pass <code>xIsNext</code>, <code>currentSquares</code> and <code>handlePlay</code> as props to the <code>Board</code> component:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Game</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>xIsNext</span><span class=p>,</span><span class=w> </span><span class=nx>setXIsNext</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>history</span><span class=p>,</span><span class=w> </span><span class=nx>setHistory</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>([</span><span class=nb>Array</span><span class=p>(</span><span class=mf>9</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=kc>null</span><span class=p>)]);</span>
<span class=w>  </span><span class=kd>const</span><span class=w> </span><span class=nx>currentSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>history</span><span class=p>[</span><span class=nx>history</span><span class=p>.</span><span class=nx>length</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mf>1</span><span class=p>];</span>

<span class=w>  </span><span class=kd>function</span><span class=w> </span><span class=nx>handlePlay</span><span class=p>(</span><span class=nx>nextSquares</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=c1>// TODO</span>
<span class=w>  </span><span class=p>}</span>

<span class=w>  </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>    </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;game&quot;</span><span class=o>&gt;</span>
<span class=w>      </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;game-board&quot;</span><span class=o>&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>Board</span><span class=w> </span><span class=nx>xIsNext</span><span class=o>=</span><span class=p>{</span><span class=nx>xIsNext</span><span class=p>}</span><span class=w> </span><span class=nx>squares</span><span class=o>=</span><span class=p>{</span><span class=nx>currentSquares</span><span class=p>}</span><span class=w> </span><span class=nx>onPlay</span><span class=o>=</span><span class=p>{</span><span class=nx>handlePlay</span><span class=p>}</span><span class=w> </span><span class=o>/&gt;</span>
<span class=w>        </span><span class=c1>//...</span>
<span class=w>  </span><span class=p>)</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Let's make the <code>Board</code> component fully controlled by the props it receives. Change the <code>Board</code> component to take three props: <code>xIsNext</code>, <code>squares</code>, and a new <code>onPlay</code> function that <code>Board</code> can call with the updated squares array when a player makes a move. Next, remove the first two lines of the <code>Board</code> function that call <code>useState</code>:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>({</span><span class=w> </span><span class=nx>xIsNext</span><span class=p>,</span><span class=w> </span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>onPlay</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=c1>//...</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=c1>// ...</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Now replace the <code>setSquares</code> and <code>setXIsNext</code> calls in <code>handleClick</code> in the <code>Board</code> component with a single call to your new <code>onPlay</code> function so the <code>Game</code> component can update the <code>Board</code> when the user clicks a square:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>({</span><span class=w> </span><span class=nx>xIsNext</span><span class=p>,</span><span class=w> </span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>onPlay</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>calculateWinner</span><span class=p>(</span><span class=nx>squares</span><span class=p>)</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>i</span><span class=p>])</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=k>return</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=nx>nextSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>squares</span><span class=p>.</span><span class=nx>slice</span><span class=p>();</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>xIsNext</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>nextSquares</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>nextSquares</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;O&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>        </span><span class=nx>onPlay</span><span class=p>(</span><span class=nx>nextSquares</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=c1>//...</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>The <code>Board</code> component is fully controlled by the props passed to it by the <code>Game</code> component. You need to implement the <code>handlePlay</code> function in the <code>Game</code> component to get the game working again.</p> <p>What should <code>handlePlay</code> do when called? Remember that Board used to call <code>setSquares</code> with an updated array; now it passes the updated <code>squares</code> array to <code>onPlay</code>.</p> <p>The <code>handlePlay</code> function needs to update <code>Game</code>'s state to trigger a re-render, but you don't have a <code>setSquares</code> function that you can call any more--you're now using the <code>history</code> state variable to store this information. You'll want to update <code>history</code> by appending the updated <code>squares</code> array as a new history entry. You also want to toggle <code>xIsNext</code>, just as Board used to do:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Game</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=c1>//...</span>
<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handlePlay</span><span class=p>(</span><span class=nx>nextSquares</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>setHistory</span><span class=p>([...</span><span class=nx>history</span><span class=p>,</span><span class=w> </span><span class=nx>nextSquares</span><span class=p>]);</span>
<span class=w>        </span><span class=nx>setXIsNext</span><span class=p>(</span><span class=o>!</span><span class=nx>xIsNext</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=c1>//...</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Here, <code>[...history, nextSquares]</code> creates a new array that contains all the items in <code>history</code>, followed by <code>nextSquares</code>. (You can read the <code>...history</code> <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax><em>spread syntax</em></a> as "enumerate all the items in <code>history</code>".)</p> <p>For example, if <code>history</code> is <code>[[null,null,null], ["X",null,null]]</code> and <code>nextSquares</code> is <code>["X",null,"O"]</code>, then the new <code>[...history, nextSquares]</code> array will be <code>[[null,null,null], ["X",null,null], ["X",null,"O"]]</code>.</p> <p>At this point, you've moved the state to live in the <code>Game</code> component, and the UI should be fully working, just as it was before the refactor. Here is what the code should look like at this point:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>  1</span>
<span class=normal>  2</span>
<span class=normal>  3</span>
<span class=normal>  4</span>
<span class=normal>  5</span>
<span class=normal>  6</span>
<span class=normal>  7</span>
<span class=normal>  8</span>
<span class=normal>  9</span>
<span class=normal> 10</span>
<span class=normal> 11</span>
<span class=normal> 12</span>
<span class=normal> 13</span>
<span class=normal> 14</span>
<span class=normal> 15</span>
<span class=normal> 16</span>
<span class=normal> 17</span>
<span class=normal> 18</span>
<span class=normal> 19</span>
<span class=normal> 20</span>
<span class=normal> 21</span>
<span class=normal> 22</span>
<span class=normal> 23</span>
<span class=normal> 24</span>
<span class=normal> 25</span>
<span class=normal> 26</span>
<span class=normal> 27</span>
<span class=normal> 28</span>
<span class=normal> 29</span>
<span class=normal> 30</span>
<span class=normal> 31</span>
<span class=normal> 32</span>
<span class=normal> 33</span>
<span class=normal> 34</span>
<span class=normal> 35</span>
<span class=normal> 36</span>
<span class=normal> 37</span>
<span class=normal> 38</span>
<span class=normal> 39</span>
<span class=normal> 40</span>
<span class=normal> 41</span>
<span class=normal> 42</span>
<span class=normal> 43</span>
<span class=normal> 44</span>
<span class=normal> 45</span>
<span class=normal> 46</span>
<span class=normal> 47</span>
<span class=normal> 48</span>
<span class=normal> 49</span>
<span class=normal> 50</span>
<span class=normal> 51</span>
<span class=normal> 52</span>
<span class=normal> 53</span>
<span class=normal> 54</span>
<span class=normal> 55</span>
<span class=normal> 56</span>
<span class=normal> 57</span>
<span class=normal> 58</span>
<span class=normal> 59</span>
<span class=normal> 60</span>
<span class=normal> 61</span>
<span class=normal> 62</span>
<span class=normal> 63</span>
<span class=normal> 64</span>
<span class=normal> 65</span>
<span class=normal> 66</span>
<span class=normal> 67</span>
<span class=normal> 68</span>
<span class=normal> 69</span>
<span class=normal> 70</span>
<span class=normal> 71</span>
<span class=normal> 72</span>
<span class=normal> 73</span>
<span class=normal> 74</span>
<span class=normal> 75</span>
<span class=normal> 76</span>
<span class=normal> 77</span>
<span class=normal> 78</span>
<span class=normal> 79</span>
<span class=normal> 80</span>
<span class=normal> 81</span>
<span class=normal> 82</span>
<span class=normal> 83</span>
<span class=normal> 84</span>
<span class=normal> 85</span>
<span class=normal> 86</span>
<span class=normal> 87</span>
<span class=normal> 88</span>
<span class=normal> 89</span>
<span class=normal> 90</span>
<span class=normal> 91</span>
<span class=normal> 92</span>
<span class=normal> 93</span>
<span class=normal> 94</span>
<span class=normal> 95</span>
<span class=normal> 96</span>
<span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span>
<span class=normal>101</span>
<span class=normal>102</span>
<span class=normal>103</span>
<span class=normal>104</span>
<span class=normal>105</span>
<span class=normal>106</span>
<span class=normal>107</span>
<span class=normal>108</span>
<span class=normal>109</span>
<span class=normal>110</span>
<span class=normal>111</span>
<span class=normal>112</span>
<span class=normal>113</span>
<span class=normal>114</span>
<span class=normal>115</span>
<span class=normal>116</span>
<span class=normal>117</span>
<span class=normal>118</span>
<span class=normal>119</span>
<span class=normal>120</span>
<span class=normal>121</span>
<span class=normal>122</span>
<span class=normal>123</span>
<span class=normal>124</span>
<span class=normal>125</span>
<span class=normal>126</span>
<span class=normal>127</span>
<span class=normal>128</span>
<span class=normal>129</span>
<span class=normal>130</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useState</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>({</span><span class=w> </span><span class=nx>value</span><span class=p>,</span><span class=w> </span><span class=nx>onSquareClick</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>onSquareClick</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>            </span><span class=p>{</span><span class=nx>value</span><span class=p>}</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>({</span><span class=w> </span><span class=nx>xIsNext</span><span class=p>,</span><span class=w> </span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>onPlay</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>calculateWinner</span><span class=p>(</span><span class=nx>squares</span><span class=p>)</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>i</span><span class=p>])</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=k>return</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=nx>nextSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>squares</span><span class=p>.</span><span class=nx>slice</span><span class=p>();</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>xIsNext</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>nextSquares</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>nextSquares</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;O&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>        </span><span class=nx>onPlay</span><span class=p>(</span><span class=nx>nextSquares</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>winner</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>calculateWinner</span><span class=p>(</span><span class=nx>squares</span><span class=p>);</span>
<span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=nx>status</span><span class=p>;</span>
<span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>winner</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Winner: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>winner</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Next player: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=nx>xIsNext</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s2>&quot;O&quot;</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;status&quot;</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>status</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>0</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>0</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>1</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>1</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>2</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>2</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>3</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>3</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>4</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>4</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>5</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>5</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>6</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>6</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>7</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>7</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>8</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>8</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Game</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>xIsNext</span><span class=p>,</span><span class=w> </span><span class=nx>setXIsNext</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>history</span><span class=p>,</span><span class=w> </span><span class=nx>setHistory</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>([</span><span class=nb>Array</span><span class=p>(</span><span class=mf>9</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=kc>null</span><span class=p>)]);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>currentSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>history</span><span class=p>[</span><span class=nx>history</span><span class=p>.</span><span class=nx>length</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mf>1</span><span class=p>];</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handlePlay</span><span class=p>(</span><span class=nx>nextSquares</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>setHistory</span><span class=p>([...</span><span class=nx>history</span><span class=p>,</span><span class=w> </span><span class=nx>nextSquares</span><span class=p>]);</span>
<span class=w>        </span><span class=nx>setXIsNext</span><span class=p>(</span><span class=o>!</span><span class=nx>xIsNext</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;game&quot;</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;game-board&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Board</span>
<span class=w>                    </span><span class=nx>xIsNext</span><span class=o>=</span><span class=p>{</span><span class=nx>xIsNext</span><span class=p>}</span>
<span class=w>                    </span><span class=nx>squares</span><span class=o>=</span><span class=p>{</span><span class=nx>currentSquares</span><span class=p>}</span>
<span class=w>                    </span><span class=nx>onPlay</span><span class=o>=</span><span class=p>{</span><span class=nx>handlePlay</span><span class=p>}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;game-info&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>ol</span><span class=o>&gt;</span><span class=p>{</span><span class=cm>/*TODO*/</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/ol&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>calculateWinner</span><span class=p>(</span><span class=nx>squares</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>lines</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span>
<span class=w>        </span><span class=p>[</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=mf>1</span><span class=p>,</span><span class=w> </span><span class=mf>2</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>3</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>5</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>6</span><span class=p>,</span><span class=w> </span><span class=mf>7</span><span class=p>,</span><span class=w> </span><span class=mf>8</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=mf>3</span><span class=p>,</span><span class=w> </span><span class=mf>6</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>1</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>7</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>2</span><span class=p>,</span><span class=w> </span><span class=mf>5</span><span class=p>,</span><span class=w> </span><span class=mf>8</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>8</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>2</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>6</span><span class=p>],</span>
<span class=w>    </span><span class=p>];</span>
<span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kd>let</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=nx>lines</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=p>,</span><span class=w> </span><span class=nx>c</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>lines</span><span class=p>[</span><span class=nx>i</span><span class=p>];</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span>
<span class=w>            </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>]</span><span class=w> </span><span class=o>&amp;&amp;</span>
<span class=w>            </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>]</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>b</span><span class=p>]</span><span class=w> </span><span class=o>&amp;&amp;</span>
<span class=w>            </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>]</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>c</span><span class=p>]</span>
<span class=w>        </span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>];</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span></pre></div></td><td class=code><div><pre><span></span><code><span class=o>*</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>box-sizing</span><span class=p>:</span><span class=w> </span><span class=kc>border-box</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>body</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>font-family</span><span class=p>:</span><span class=w> </span><span class=kc>sans-serif</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>square</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>background</span><span class=p>:</span><span class=w> </span><span class=mh>#fff</span><span class=p>;</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#999</span><span class=p>;</span>
<span class=w>    </span><span class=k>float</span><span class=p>:</span><span class=w> </span><span class=kc>left</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-size</span><span class=p>:</span><span class=w> </span><span class=mi>24</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-weight</span><span class=p>:</span><span class=w> </span><span class=kc>bold</span><span class=p>;</span>
<span class=w>    </span><span class=k>line-height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-right</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-top</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=k>text-align</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>board-row</span><span class=p>:</span><span class=nd>after</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>clear</span><span class=p>:</span><span class=w> </span><span class=kc>both</span><span class=p>;</span>
<span class=w>    </span><span class=k>content</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>;</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>table</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>status</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
<span class=p>.</span><span class=nc>game</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>flex</span><span class=p>;</span>
<span class=w>    </span><span class=k>flex-direction</span><span class=p>:</span><span class=w> </span><span class=kc>row</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>game-info</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-left</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <h3 id=showing-the-past-moves>Showing the past moves<a class=headerlink href=#showing-the-past-moves title="Permanent link">&para;</a></h3> <p>Since you are recording the tic-tac-toe game's history, you can now display a list of past moves to the player.</p> <p>React elements like <code>&lt;button&gt;</code> are regular JavaScript objects; you can pass them around in your application. To render multiple items in React, you can use an array of React elements.</p> <p>You already have an array of <code>history</code> moves in state, so now you need to transform it to an array of React elements. In JavaScript, to transform one array into another, you can use the <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map>array <code>map</code> method:</a></p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>[</span><span class=mf>1</span><span class=p>,</span><span class=w> </span><span class=mf>2</span><span class=p>,</span><span class=w> </span><span class=mf>3</span><span class=p>].</span><span class=nx>map</span><span class=p>((</span><span class=nx>x</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>x</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mf>2</span><span class=p>);</span><span class=w> </span><span class=c1>// [2, 4, 6]</span>
</code></pre></div></td></tr></table></div> <p>You'll use <code>map</code> to transform your <code>history</code> of moves into React elements representing buttons on the screen, and display a list of buttons to "jump" to past moves. Let's <code>map</code> over the <code>history</code> in the Game component:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Game</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>xIsNext</span><span class=p>,</span><span class=w> </span><span class=nx>setXIsNext</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>history</span><span class=p>,</span><span class=w> </span><span class=nx>setHistory</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>([</span><span class=nb>Array</span><span class=p>(</span><span class=mf>9</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=kc>null</span><span class=p>)]);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>currentSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>history</span><span class=p>[</span><span class=nx>history</span><span class=p>.</span><span class=nx>length</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mf>1</span><span class=p>];</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handlePlay</span><span class=p>(</span><span class=nx>nextSquares</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>setHistory</span><span class=p>([...</span><span class=nx>history</span><span class=p>,</span><span class=w> </span><span class=nx>nextSquares</span><span class=p>]);</span>
<span class=w>        </span><span class=nx>setXIsNext</span><span class=p>(</span><span class=o>!</span><span class=nx>xIsNext</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>jumpTo</span><span class=p>(</span><span class=nx>nextMove</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=c1>// TODO</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>moves</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>history</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>move</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=nx>description</span><span class=p>;</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>move</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mf>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>description</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Go to move #&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>move</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>description</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Go to game start&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>        </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>li</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>jumpTo</span><span class=p>(</span><span class=nx>move</span><span class=p>)}</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>description</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=w>        </span><span class=p>);</span>
<span class=w>    </span><span class=p>});</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;game&quot;</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;game-board&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Board</span>
<span class=w>                    </span><span class=nx>xIsNext</span><span class=o>=</span><span class=p>{</span><span class=nx>xIsNext</span><span class=p>}</span>
<span class=w>                    </span><span class=nx>squares</span><span class=o>=</span><span class=p>{</span><span class=nx>currentSquares</span><span class=p>}</span>
<span class=w>                    </span><span class=nx>onPlay</span><span class=o>=</span><span class=p>{</span><span class=nx>handlePlay</span><span class=p>}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;game-info&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>ol</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>moves</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/ol&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>You can see what your code should look like below. Note that you should see an error in the developer tools console that says: <code>Warning: Each child in an array or iterator should have a unique "key" prop. Check the render method of `Game`.</code> You'll fix this error in the next section.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>  1</span>
<span class=normal>  2</span>
<span class=normal>  3</span>
<span class=normal>  4</span>
<span class=normal>  5</span>
<span class=normal>  6</span>
<span class=normal>  7</span>
<span class=normal>  8</span>
<span class=normal>  9</span>
<span class=normal> 10</span>
<span class=normal> 11</span>
<span class=normal> 12</span>
<span class=normal> 13</span>
<span class=normal> 14</span>
<span class=normal> 15</span>
<span class=normal> 16</span>
<span class=normal> 17</span>
<span class=normal> 18</span>
<span class=normal> 19</span>
<span class=normal> 20</span>
<span class=normal> 21</span>
<span class=normal> 22</span>
<span class=normal> 23</span>
<span class=normal> 24</span>
<span class=normal> 25</span>
<span class=normal> 26</span>
<span class=normal> 27</span>
<span class=normal> 28</span>
<span class=normal> 29</span>
<span class=normal> 30</span>
<span class=normal> 31</span>
<span class=normal> 32</span>
<span class=normal> 33</span>
<span class=normal> 34</span>
<span class=normal> 35</span>
<span class=normal> 36</span>
<span class=normal> 37</span>
<span class=normal> 38</span>
<span class=normal> 39</span>
<span class=normal> 40</span>
<span class=normal> 41</span>
<span class=normal> 42</span>
<span class=normal> 43</span>
<span class=normal> 44</span>
<span class=normal> 45</span>
<span class=normal> 46</span>
<span class=normal> 47</span>
<span class=normal> 48</span>
<span class=normal> 49</span>
<span class=normal> 50</span>
<span class=normal> 51</span>
<span class=normal> 52</span>
<span class=normal> 53</span>
<span class=normal> 54</span>
<span class=normal> 55</span>
<span class=normal> 56</span>
<span class=normal> 57</span>
<span class=normal> 58</span>
<span class=normal> 59</span>
<span class=normal> 60</span>
<span class=normal> 61</span>
<span class=normal> 62</span>
<span class=normal> 63</span>
<span class=normal> 64</span>
<span class=normal> 65</span>
<span class=normal> 66</span>
<span class=normal> 67</span>
<span class=normal> 68</span>
<span class=normal> 69</span>
<span class=normal> 70</span>
<span class=normal> 71</span>
<span class=normal> 72</span>
<span class=normal> 73</span>
<span class=normal> 74</span>
<span class=normal> 75</span>
<span class=normal> 76</span>
<span class=normal> 77</span>
<span class=normal> 78</span>
<span class=normal> 79</span>
<span class=normal> 80</span>
<span class=normal> 81</span>
<span class=normal> 82</span>
<span class=normal> 83</span>
<span class=normal> 84</span>
<span class=normal> 85</span>
<span class=normal> 86</span>
<span class=normal> 87</span>
<span class=normal> 88</span>
<span class=normal> 89</span>
<span class=normal> 90</span>
<span class=normal> 91</span>
<span class=normal> 92</span>
<span class=normal> 93</span>
<span class=normal> 94</span>
<span class=normal> 95</span>
<span class=normal> 96</span>
<span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span>
<span class=normal>101</span>
<span class=normal>102</span>
<span class=normal>103</span>
<span class=normal>104</span>
<span class=normal>105</span>
<span class=normal>106</span>
<span class=normal>107</span>
<span class=normal>108</span>
<span class=normal>109</span>
<span class=normal>110</span>
<span class=normal>111</span>
<span class=normal>112</span>
<span class=normal>113</span>
<span class=normal>114</span>
<span class=normal>115</span>
<span class=normal>116</span>
<span class=normal>117</span>
<span class=normal>118</span>
<span class=normal>119</span>
<span class=normal>120</span>
<span class=normal>121</span>
<span class=normal>122</span>
<span class=normal>123</span>
<span class=normal>124</span>
<span class=normal>125</span>
<span class=normal>126</span>
<span class=normal>127</span>
<span class=normal>128</span>
<span class=normal>129</span>
<span class=normal>130</span>
<span class=normal>131</span>
<span class=normal>132</span>
<span class=normal>133</span>
<span class=normal>134</span>
<span class=normal>135</span>
<span class=normal>136</span>
<span class=normal>137</span>
<span class=normal>138</span>
<span class=normal>139</span>
<span class=normal>140</span>
<span class=normal>141</span>
<span class=normal>142</span>
<span class=normal>143</span>
<span class=normal>144</span>
<span class=normal>145</span>
<span class=normal>146</span>
<span class=normal>147</span>
<span class=normal>148</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useState</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>({</span><span class=w> </span><span class=nx>value</span><span class=p>,</span><span class=w> </span><span class=nx>onSquareClick</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>onSquareClick</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>            </span><span class=p>{</span><span class=nx>value</span><span class=p>}</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>({</span><span class=w> </span><span class=nx>xIsNext</span><span class=p>,</span><span class=w> </span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>onPlay</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>calculateWinner</span><span class=p>(</span><span class=nx>squares</span><span class=p>)</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>i</span><span class=p>])</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=k>return</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=nx>nextSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>squares</span><span class=p>.</span><span class=nx>slice</span><span class=p>();</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>xIsNext</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>nextSquares</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>nextSquares</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;O&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>        </span><span class=nx>onPlay</span><span class=p>(</span><span class=nx>nextSquares</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>winner</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>calculateWinner</span><span class=p>(</span><span class=nx>squares</span><span class=p>);</span>
<span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=nx>status</span><span class=p>;</span>
<span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>winner</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Winner: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>winner</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Next player: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=nx>xIsNext</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s2>&quot;O&quot;</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;status&quot;</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>status</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>0</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>0</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>1</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>1</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>2</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>2</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>3</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>3</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>4</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>4</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>5</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>5</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>6</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>6</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>7</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>7</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>8</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>8</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Game</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>xIsNext</span><span class=p>,</span><span class=w> </span><span class=nx>setXIsNext</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>history</span><span class=p>,</span><span class=w> </span><span class=nx>setHistory</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>([</span><span class=nb>Array</span><span class=p>(</span><span class=mf>9</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=kc>null</span><span class=p>)]);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>currentSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>history</span><span class=p>[</span><span class=nx>history</span><span class=p>.</span><span class=nx>length</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mf>1</span><span class=p>];</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handlePlay</span><span class=p>(</span><span class=nx>nextSquares</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>setHistory</span><span class=p>([...</span><span class=nx>history</span><span class=p>,</span><span class=w> </span><span class=nx>nextSquares</span><span class=p>]);</span>
<span class=w>        </span><span class=nx>setXIsNext</span><span class=p>(</span><span class=o>!</span><span class=nx>xIsNext</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>jumpTo</span><span class=p>(</span><span class=nx>nextMove</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=c1>// TODO</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>moves</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>history</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>move</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=nx>description</span><span class=p>;</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>move</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mf>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>description</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Go to move #&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>move</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>description</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Go to game start&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>        </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>li</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>jumpTo</span><span class=p>(</span><span class=nx>move</span><span class=p>)}</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>description</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=w>        </span><span class=p>);</span>
<span class=w>    </span><span class=p>});</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;game&quot;</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;game-board&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Board</span>
<span class=w>                    </span><span class=nx>xIsNext</span><span class=o>=</span><span class=p>{</span><span class=nx>xIsNext</span><span class=p>}</span>
<span class=w>                    </span><span class=nx>squares</span><span class=o>=</span><span class=p>{</span><span class=nx>currentSquares</span><span class=p>}</span>
<span class=w>                    </span><span class=nx>onPlay</span><span class=o>=</span><span class=p>{</span><span class=nx>handlePlay</span><span class=p>}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;game-info&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>ol</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>moves</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/ol&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>calculateWinner</span><span class=p>(</span><span class=nx>squares</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>lines</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span>
<span class=w>        </span><span class=p>[</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=mf>1</span><span class=p>,</span><span class=w> </span><span class=mf>2</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>3</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>5</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>6</span><span class=p>,</span><span class=w> </span><span class=mf>7</span><span class=p>,</span><span class=w> </span><span class=mf>8</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=mf>3</span><span class=p>,</span><span class=w> </span><span class=mf>6</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>1</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>7</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>2</span><span class=p>,</span><span class=w> </span><span class=mf>5</span><span class=p>,</span><span class=w> </span><span class=mf>8</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>8</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>2</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>6</span><span class=p>],</span>
<span class=w>    </span><span class=p>];</span>
<span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kd>let</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=nx>lines</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=p>,</span><span class=w> </span><span class=nx>c</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>lines</span><span class=p>[</span><span class=nx>i</span><span class=p>];</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span>
<span class=w>            </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>]</span><span class=w> </span><span class=o>&amp;&amp;</span>
<span class=w>            </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>]</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>b</span><span class=p>]</span><span class=w> </span><span class=o>&amp;&amp;</span>
<span class=w>            </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>]</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>c</span><span class=p>]</span>
<span class=w>        </span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>];</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span></pre></div></td><td class=code><div><pre><span></span><code><span class=o>*</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>box-sizing</span><span class=p>:</span><span class=w> </span><span class=kc>border-box</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>body</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>font-family</span><span class=p>:</span><span class=w> </span><span class=kc>sans-serif</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>square</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>background</span><span class=p>:</span><span class=w> </span><span class=mh>#fff</span><span class=p>;</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#999</span><span class=p>;</span>
<span class=w>    </span><span class=k>float</span><span class=p>:</span><span class=w> </span><span class=kc>left</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-size</span><span class=p>:</span><span class=w> </span><span class=mi>24</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-weight</span><span class=p>:</span><span class=w> </span><span class=kc>bold</span><span class=p>;</span>
<span class=w>    </span><span class=k>line-height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-right</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-top</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=k>text-align</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>board-row</span><span class=p>:</span><span class=nd>after</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>clear</span><span class=p>:</span><span class=w> </span><span class=kc>both</span><span class=p>;</span>
<span class=w>    </span><span class=k>content</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>;</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>table</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>status</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>game</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>flex</span><span class=p>;</span>
<span class=w>    </span><span class=k>flex-direction</span><span class=p>:</span><span class=w> </span><span class=kc>row</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>game-info</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-left</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>As you iterate through <code>history</code> array inside the function you passed to <code>map</code>, the <code>squares</code> argument goes through each element of <code>history</code>, and the <code>move</code> argument goes through each array index: <code>0</code>, <code>1</code>, <code>2</code>, â€¦. (In most cases, you'd need the actual array elements, but to render a list of moves you will only need indexes.)</p> <p>For each move in the tic-tac-toe game's history, you create a list item <code>&lt;li&gt;</code> which contains a button <code>&lt;button&gt;</code>. The button has an <code>on_click</code> handler which calls a function called <code>jumpTo</code> (that you haven't implemented yet).</p> <p>For now, you should see a list of the moves that occurred in the game and an error in the developer tools console. Let's discuss what the "key" error means.</p> <h3 id=picking-a-key>Picking a key<a class=headerlink href=#picking-a-key title="Permanent link">&para;</a></h3> <p>When you render a list, React stores some information about each rendered list item. When you update a list, React needs to determine what has changed. You could have added, removed, re-arranged, or updated the list's items.</p> <p>Imagine transitioning from</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>Alexa: 7 tasks left<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>Ben: 5 tasks left<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</code></pre></div></td></tr></table></div> <p>to</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>Ben: 9 tasks left<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>Claudia: 8 tasks left<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
<span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>Alexa: 5 tasks left<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</code></pre></div></td></tr></table></div> <p>In addition to the updated counts, a human reading this would probably say that you swapped Alexa and Ben's ordering and inserted Claudia between Alexa and Ben. However, React is a computer program and can't know what you intended, so you need to specify a <em>key</em> property for each list item to differentiate each list item from its siblings. If your data was from a database, Alexa, Ben, and Claudia's database IDs could be used as keys.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code><span class=o>&lt;</span><span class=nx>li</span><span class=w> </span><span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>user</span><span class=p>.</span><span class=nx>id</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>    </span><span class=p>{</span><span class=nx>user</span><span class=p>.</span><span class=nx>name</span><span class=p>}</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=nx>user</span><span class=p>.</span><span class=nx>taskCount</span><span class=p>}</span><span class=w> </span><span class=nx>tasks</span><span class=w> </span><span class=nx>left</span>
<span class=o>&lt;</span><span class=err>/li&gt;</span>
</code></pre></div></td></tr></table></div> <p>When a list is re-rendered, React takes each list item's key and searches the previous list's items for a matching key. If the current list has a key that didn't exist before, React creates a component. If the current list is missing a key that existed in the previous list, React destroys the previous component. If two keys match, the corresponding component is moved.</p> <p>Keys tell React about the identity of each component, which allows React to maintain state between re-renders. If a component's key changes, the component will be destroyed and re-created with a new state.</p> <p><code>key</code> is a special and reserved property in React. When an element is created, React extracts the <code>key</code> property and stores the key directly on the returned element. Even though <code>key</code> may look like it is passed as props, React automatically uses <code>key</code> to decide which components to update. There's no way for a component to ask what <code>key</code> its parent specified.</p> <p><strong>It's strongly recommended that you assign proper keys whenever you build dynamic lists.</strong> If you don't have an appropriate key, you may want to consider restructuring your data so that you do.</p> <p>If no key is specified, React will report an error and use the array index as a key by default. Using the array index as a key is problematic when trying to re-order a list's items or inserting/removing list items. Explicitly passing <code>key={i}</code> silences the error but has the same problems as array indices and is not recommended in most cases.</p> <p>Keys do not need to be globally unique; they only need to be unique between components and their siblings.</p> <h3 id=implementing-time-travel>Implementing time travel<a class=headerlink href=#implementing-time-travel title="Permanent link">&para;</a></h3> <p>In the tic-tac-toe game's history, each past move has a unique ID associated with it: it's the sequential number of the move. Moves will never be re-ordered, deleted, or inserted in the middle, so it's safe to use the move index as a key.</p> <p>In the <code>Game</code> function, you can add the key as <code>&lt;li key={move}&gt;</code>, and if you reload the rendered game, React's "key" error should disappear:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>const</span><span class=w> </span><span class=nx>moves</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>history</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>move</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=c1>//...</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>li</span><span class=w> </span><span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>move</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>jumpTo</span><span class=p>(</span><span class=nx>move</span><span class=p>)}</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>description</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>});</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>  1</span>
<span class=normal>  2</span>
<span class=normal>  3</span>
<span class=normal>  4</span>
<span class=normal>  5</span>
<span class=normal>  6</span>
<span class=normal>  7</span>
<span class=normal>  8</span>
<span class=normal>  9</span>
<span class=normal> 10</span>
<span class=normal> 11</span>
<span class=normal> 12</span>
<span class=normal> 13</span>
<span class=normal> 14</span>
<span class=normal> 15</span>
<span class=normal> 16</span>
<span class=normal> 17</span>
<span class=normal> 18</span>
<span class=normal> 19</span>
<span class=normal> 20</span>
<span class=normal> 21</span>
<span class=normal> 22</span>
<span class=normal> 23</span>
<span class=normal> 24</span>
<span class=normal> 25</span>
<span class=normal> 26</span>
<span class=normal> 27</span>
<span class=normal> 28</span>
<span class=normal> 29</span>
<span class=normal> 30</span>
<span class=normal> 31</span>
<span class=normal> 32</span>
<span class=normal> 33</span>
<span class=normal> 34</span>
<span class=normal> 35</span>
<span class=normal> 36</span>
<span class=normal> 37</span>
<span class=normal> 38</span>
<span class=normal> 39</span>
<span class=normal> 40</span>
<span class=normal> 41</span>
<span class=normal> 42</span>
<span class=normal> 43</span>
<span class=normal> 44</span>
<span class=normal> 45</span>
<span class=normal> 46</span>
<span class=normal> 47</span>
<span class=normal> 48</span>
<span class=normal> 49</span>
<span class=normal> 50</span>
<span class=normal> 51</span>
<span class=normal> 52</span>
<span class=normal> 53</span>
<span class=normal> 54</span>
<span class=normal> 55</span>
<span class=normal> 56</span>
<span class=normal> 57</span>
<span class=normal> 58</span>
<span class=normal> 59</span>
<span class=normal> 60</span>
<span class=normal> 61</span>
<span class=normal> 62</span>
<span class=normal> 63</span>
<span class=normal> 64</span>
<span class=normal> 65</span>
<span class=normal> 66</span>
<span class=normal> 67</span>
<span class=normal> 68</span>
<span class=normal> 69</span>
<span class=normal> 70</span>
<span class=normal> 71</span>
<span class=normal> 72</span>
<span class=normal> 73</span>
<span class=normal> 74</span>
<span class=normal> 75</span>
<span class=normal> 76</span>
<span class=normal> 77</span>
<span class=normal> 78</span>
<span class=normal> 79</span>
<span class=normal> 80</span>
<span class=normal> 81</span>
<span class=normal> 82</span>
<span class=normal> 83</span>
<span class=normal> 84</span>
<span class=normal> 85</span>
<span class=normal> 86</span>
<span class=normal> 87</span>
<span class=normal> 88</span>
<span class=normal> 89</span>
<span class=normal> 90</span>
<span class=normal> 91</span>
<span class=normal> 92</span>
<span class=normal> 93</span>
<span class=normal> 94</span>
<span class=normal> 95</span>
<span class=normal> 96</span>
<span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span>
<span class=normal>101</span>
<span class=normal>102</span>
<span class=normal>103</span>
<span class=normal>104</span>
<span class=normal>105</span>
<span class=normal>106</span>
<span class=normal>107</span>
<span class=normal>108</span>
<span class=normal>109</span>
<span class=normal>110</span>
<span class=normal>111</span>
<span class=normal>112</span>
<span class=normal>113</span>
<span class=normal>114</span>
<span class=normal>115</span>
<span class=normal>116</span>
<span class=normal>117</span>
<span class=normal>118</span>
<span class=normal>119</span>
<span class=normal>120</span>
<span class=normal>121</span>
<span class=normal>122</span>
<span class=normal>123</span>
<span class=normal>124</span>
<span class=normal>125</span>
<span class=normal>126</span>
<span class=normal>127</span>
<span class=normal>128</span>
<span class=normal>129</span>
<span class=normal>130</span>
<span class=normal>131</span>
<span class=normal>132</span>
<span class=normal>133</span>
<span class=normal>134</span>
<span class=normal>135</span>
<span class=normal>136</span>
<span class=normal>137</span>
<span class=normal>138</span>
<span class=normal>139</span>
<span class=normal>140</span>
<span class=normal>141</span>
<span class=normal>142</span>
<span class=normal>143</span>
<span class=normal>144</span>
<span class=normal>145</span>
<span class=normal>146</span>
<span class=normal>147</span>
<span class=normal>148</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useState</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>({</span><span class=w> </span><span class=nx>value</span><span class=p>,</span><span class=w> </span><span class=nx>onSquareClick</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>onSquareClick</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>            </span><span class=p>{</span><span class=nx>value</span><span class=p>}</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>({</span><span class=w> </span><span class=nx>xIsNext</span><span class=p>,</span><span class=w> </span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>onPlay</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>calculateWinner</span><span class=p>(</span><span class=nx>squares</span><span class=p>)</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>i</span><span class=p>])</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=k>return</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=nx>nextSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>squares</span><span class=p>.</span><span class=nx>slice</span><span class=p>();</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>xIsNext</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>nextSquares</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>nextSquares</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;O&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>        </span><span class=nx>onPlay</span><span class=p>(</span><span class=nx>nextSquares</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>winner</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>calculateWinner</span><span class=p>(</span><span class=nx>squares</span><span class=p>);</span>
<span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=nx>status</span><span class=p>;</span>
<span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>winner</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Winner: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>winner</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Next player: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=nx>xIsNext</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s2>&quot;O&quot;</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;status&quot;</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>status</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>0</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>0</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>1</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>1</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>2</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>2</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>3</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>3</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>4</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>4</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>5</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>5</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>6</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>6</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>7</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>7</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>8</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>8</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Game</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>xIsNext</span><span class=p>,</span><span class=w> </span><span class=nx>setXIsNext</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>history</span><span class=p>,</span><span class=w> </span><span class=nx>setHistory</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>([</span><span class=nb>Array</span><span class=p>(</span><span class=mf>9</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=kc>null</span><span class=p>)]);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>currentSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>history</span><span class=p>[</span><span class=nx>history</span><span class=p>.</span><span class=nx>length</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mf>1</span><span class=p>];</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handlePlay</span><span class=p>(</span><span class=nx>nextSquares</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>setHistory</span><span class=p>([...</span><span class=nx>history</span><span class=p>,</span><span class=w> </span><span class=nx>nextSquares</span><span class=p>]);</span>
<span class=w>        </span><span class=nx>setXIsNext</span><span class=p>(</span><span class=o>!</span><span class=nx>xIsNext</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>jumpTo</span><span class=p>(</span><span class=nx>nextMove</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=c1>// TODO</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>moves</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>history</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>move</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=nx>description</span><span class=p>;</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>move</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mf>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>description</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Go to move #&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>move</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>description</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Go to game start&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>        </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>li</span><span class=w> </span><span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>move</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>jumpTo</span><span class=p>(</span><span class=nx>move</span><span class=p>)}</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>description</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=w>        </span><span class=p>);</span>
<span class=w>    </span><span class=p>});</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;game&quot;</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;game-board&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Board</span>
<span class=w>                    </span><span class=nx>xIsNext</span><span class=o>=</span><span class=p>{</span><span class=nx>xIsNext</span><span class=p>}</span>
<span class=w>                    </span><span class=nx>squares</span><span class=o>=</span><span class=p>{</span><span class=nx>currentSquares</span><span class=p>}</span>
<span class=w>                    </span><span class=nx>onPlay</span><span class=o>=</span><span class=p>{</span><span class=nx>handlePlay</span><span class=p>}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;game-info&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>ol</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>moves</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/ol&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>calculateWinner</span><span class=p>(</span><span class=nx>squares</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>lines</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span>
<span class=w>        </span><span class=p>[</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=mf>1</span><span class=p>,</span><span class=w> </span><span class=mf>2</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>3</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>5</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>6</span><span class=p>,</span><span class=w> </span><span class=mf>7</span><span class=p>,</span><span class=w> </span><span class=mf>8</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=mf>3</span><span class=p>,</span><span class=w> </span><span class=mf>6</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>1</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>7</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>2</span><span class=p>,</span><span class=w> </span><span class=mf>5</span><span class=p>,</span><span class=w> </span><span class=mf>8</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>8</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>2</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>6</span><span class=p>],</span>
<span class=w>    </span><span class=p>];</span>
<span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kd>let</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=nx>lines</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=p>,</span><span class=w> </span><span class=nx>c</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>lines</span><span class=p>[</span><span class=nx>i</span><span class=p>];</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span>
<span class=w>            </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>]</span><span class=w> </span><span class=o>&amp;&amp;</span>
<span class=w>            </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>]</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>b</span><span class=p>]</span><span class=w> </span><span class=o>&amp;&amp;</span>
<span class=w>            </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>]</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>c</span><span class=p>]</span>
<span class=w>        </span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>];</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span></pre></div></td><td class=code><div><pre><span></span><code><span class=o>*</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>box-sizing</span><span class=p>:</span><span class=w> </span><span class=kc>border-box</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>body</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>font-family</span><span class=p>:</span><span class=w> </span><span class=kc>sans-serif</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>square</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>background</span><span class=p>:</span><span class=w> </span><span class=mh>#fff</span><span class=p>;</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#999</span><span class=p>;</span>
<span class=w>    </span><span class=k>float</span><span class=p>:</span><span class=w> </span><span class=kc>left</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-size</span><span class=p>:</span><span class=w> </span><span class=mi>24</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-weight</span><span class=p>:</span><span class=w> </span><span class=kc>bold</span><span class=p>;</span>
<span class=w>    </span><span class=k>line-height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-right</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-top</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=k>text-align</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>board-row</span><span class=p>:</span><span class=nd>after</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>clear</span><span class=p>:</span><span class=w> </span><span class=kc>both</span><span class=p>;</span>
<span class=w>    </span><span class=k>content</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>;</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>table</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>status</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>game</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>flex</span><span class=p>;</span>
<span class=w>    </span><span class=k>flex-direction</span><span class=p>:</span><span class=w> </span><span class=kc>row</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>game-info</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-left</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Before you can implement <code>jumpTo</code>, you need the <code>Game</code> component to keep track of which step the user is currently viewing. To do this, define a new state variable called <code>currentMove</code>, defaulting to <code>0</code>:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Game</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>xIsNext</span><span class=p>,</span><span class=w> </span><span class=nx>setXIsNext</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>history</span><span class=p>,</span><span class=w> </span><span class=nx>setHistory</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>([</span><span class=nb>Array</span><span class=p>(</span><span class=mf>9</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=kc>null</span><span class=p>)]);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>currentMove</span><span class=p>,</span><span class=w> </span><span class=nx>setCurrentMove</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=mf>0</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>currentSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>history</span><span class=p>[</span><span class=nx>history</span><span class=p>.</span><span class=nx>length</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mf>1</span><span class=p>];</span>
<span class=w>    </span><span class=c1>//...</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Next, update the <code>jumpTo</code> function inside <code>Game</code> to update that <code>currentMove</code>. You'll also set <code>xIsNext</code> to <code>true</code> if the number that you're changing <code>currentMove</code> to is even.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Game</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=c1>// ...</span>
<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>jumpTo</span><span class=p>(</span><span class=nx>nextMove</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>setCurrentMove</span><span class=p>(</span><span class=nx>nextMove</span><span class=p>);</span>
<span class=w>        </span><span class=nx>setXIsNext</span><span class=p>(</span><span class=nx>nextMove</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=mf>2</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=mf>0</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=c1>//...</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>You will now make two changes to the <code>Game</code>'s <code>handlePlay</code> function which is called when you click on a square.</p> <ul> <li>If you "go back in time" and then make a new move from that point, you only want to keep the history up to that point. Instead of adding <code>nextSquares</code> after all items (<code>...</code> spread syntax) in <code>history</code>, you'll add it after all items in <code>history.slice(0, currentMove + 1)</code> so that you're only keeping that portion of the old history.</li> <li>Each time a move is made, you need to update <code>currentMove</code> to point to the latest history entry.</li> </ul> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kd>function</span><span class=w> </span><span class=nx>handlePlay</span><span class=p>(</span><span class=nx>nextSquares</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>nextHistory</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[...</span><span class=nx>history</span><span class=p>.</span><span class=nx>slice</span><span class=p>(</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=nx>currentMove</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mf>1</span><span class=p>),</span><span class=w> </span><span class=nx>nextSquares</span><span class=p>];</span>
<span class=w>    </span><span class=nx>setHistory</span><span class=p>(</span><span class=nx>nextHistory</span><span class=p>);</span>
<span class=w>    </span><span class=nx>setCurrentMove</span><span class=p>(</span><span class=nx>nextHistory</span><span class=p>.</span><span class=nx>length</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mf>1</span><span class=p>);</span>
<span class=w>    </span><span class=nx>setXIsNext</span><span class=p>(</span><span class=o>!</span><span class=nx>xIsNext</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>Finally, you will modify the <code>Game</code> component to render the currently selected move, instead of always rendering the final move:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Game</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>xIsNext</span><span class=p>,</span><span class=w> </span><span class=nx>setXIsNext</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>history</span><span class=p>,</span><span class=w> </span><span class=nx>setHistory</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>([</span><span class=nb>Array</span><span class=p>(</span><span class=mf>9</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=kc>null</span><span class=p>)]);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>currentMove</span><span class=p>,</span><span class=w> </span><span class=nx>setCurrentMove</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=mf>0</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>currentSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>history</span><span class=p>[</span><span class=nx>currentMove</span><span class=p>];</span>

<span class=w>    </span><span class=c1>// ...</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>If you click on any step in the game's history, the tic-tac-toe board should immediately update to show what the board looked like after that step occurred.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>  1</span>
<span class=normal>  2</span>
<span class=normal>  3</span>
<span class=normal>  4</span>
<span class=normal>  5</span>
<span class=normal>  6</span>
<span class=normal>  7</span>
<span class=normal>  8</span>
<span class=normal>  9</span>
<span class=normal> 10</span>
<span class=normal> 11</span>
<span class=normal> 12</span>
<span class=normal> 13</span>
<span class=normal> 14</span>
<span class=normal> 15</span>
<span class=normal> 16</span>
<span class=normal> 17</span>
<span class=normal> 18</span>
<span class=normal> 19</span>
<span class=normal> 20</span>
<span class=normal> 21</span>
<span class=normal> 22</span>
<span class=normal> 23</span>
<span class=normal> 24</span>
<span class=normal> 25</span>
<span class=normal> 26</span>
<span class=normal> 27</span>
<span class=normal> 28</span>
<span class=normal> 29</span>
<span class=normal> 30</span>
<span class=normal> 31</span>
<span class=normal> 32</span>
<span class=normal> 33</span>
<span class=normal> 34</span>
<span class=normal> 35</span>
<span class=normal> 36</span>
<span class=normal> 37</span>
<span class=normal> 38</span>
<span class=normal> 39</span>
<span class=normal> 40</span>
<span class=normal> 41</span>
<span class=normal> 42</span>
<span class=normal> 43</span>
<span class=normal> 44</span>
<span class=normal> 45</span>
<span class=normal> 46</span>
<span class=normal> 47</span>
<span class=normal> 48</span>
<span class=normal> 49</span>
<span class=normal> 50</span>
<span class=normal> 51</span>
<span class=normal> 52</span>
<span class=normal> 53</span>
<span class=normal> 54</span>
<span class=normal> 55</span>
<span class=normal> 56</span>
<span class=normal> 57</span>
<span class=normal> 58</span>
<span class=normal> 59</span>
<span class=normal> 60</span>
<span class=normal> 61</span>
<span class=normal> 62</span>
<span class=normal> 63</span>
<span class=normal> 64</span>
<span class=normal> 65</span>
<span class=normal> 66</span>
<span class=normal> 67</span>
<span class=normal> 68</span>
<span class=normal> 69</span>
<span class=normal> 70</span>
<span class=normal> 71</span>
<span class=normal> 72</span>
<span class=normal> 73</span>
<span class=normal> 74</span>
<span class=normal> 75</span>
<span class=normal> 76</span>
<span class=normal> 77</span>
<span class=normal> 78</span>
<span class=normal> 79</span>
<span class=normal> 80</span>
<span class=normal> 81</span>
<span class=normal> 82</span>
<span class=normal> 83</span>
<span class=normal> 84</span>
<span class=normal> 85</span>
<span class=normal> 86</span>
<span class=normal> 87</span>
<span class=normal> 88</span>
<span class=normal> 89</span>
<span class=normal> 90</span>
<span class=normal> 91</span>
<span class=normal> 92</span>
<span class=normal> 93</span>
<span class=normal> 94</span>
<span class=normal> 95</span>
<span class=normal> 96</span>
<span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span>
<span class=normal>101</span>
<span class=normal>102</span>
<span class=normal>103</span>
<span class=normal>104</span>
<span class=normal>105</span>
<span class=normal>106</span>
<span class=normal>107</span>
<span class=normal>108</span>
<span class=normal>109</span>
<span class=normal>110</span>
<span class=normal>111</span>
<span class=normal>112</span>
<span class=normal>113</span>
<span class=normal>114</span>
<span class=normal>115</span>
<span class=normal>116</span>
<span class=normal>117</span>
<span class=normal>118</span>
<span class=normal>119</span>
<span class=normal>120</span>
<span class=normal>121</span>
<span class=normal>122</span>
<span class=normal>123</span>
<span class=normal>124</span>
<span class=normal>125</span>
<span class=normal>126</span>
<span class=normal>127</span>
<span class=normal>128</span>
<span class=normal>129</span>
<span class=normal>130</span>
<span class=normal>131</span>
<span class=normal>132</span>
<span class=normal>133</span>
<span class=normal>134</span>
<span class=normal>135</span>
<span class=normal>136</span>
<span class=normal>137</span>
<span class=normal>138</span>
<span class=normal>139</span>
<span class=normal>140</span>
<span class=normal>141</span>
<span class=normal>142</span>
<span class=normal>143</span>
<span class=normal>144</span>
<span class=normal>145</span>
<span class=normal>146</span>
<span class=normal>147</span>
<span class=normal>148</span>
<span class=normal>149</span>
<span class=normal>150</span>
<span class=normal>151</span>
<span class=normal>152</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useState</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>({</span><span class=w> </span><span class=nx>value</span><span class=p>,</span><span class=w> </span><span class=nx>onSquareClick</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>onSquareClick</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>            </span><span class=p>{</span><span class=nx>value</span><span class=p>}</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>({</span><span class=w> </span><span class=nx>xIsNext</span><span class=p>,</span><span class=w> </span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>onPlay</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>calculateWinner</span><span class=p>(</span><span class=nx>squares</span><span class=p>)</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>i</span><span class=p>])</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=k>return</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=nx>nextSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>squares</span><span class=p>.</span><span class=nx>slice</span><span class=p>();</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>xIsNext</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>nextSquares</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>nextSquares</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;O&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>        </span><span class=nx>onPlay</span><span class=p>(</span><span class=nx>nextSquares</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>winner</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>calculateWinner</span><span class=p>(</span><span class=nx>squares</span><span class=p>);</span>
<span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=nx>status</span><span class=p>;</span>
<span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>winner</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Winner: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>winner</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Next player: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=nx>xIsNext</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s2>&quot;O&quot;</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;status&quot;</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>status</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>0</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>0</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>1</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>1</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>2</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>2</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>3</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>3</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>4</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>4</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>5</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>5</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>6</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>6</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>7</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>7</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>8</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>8</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Game</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>xIsNext</span><span class=p>,</span><span class=w> </span><span class=nx>setXIsNext</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>history</span><span class=p>,</span><span class=w> </span><span class=nx>setHistory</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>([</span><span class=nb>Array</span><span class=p>(</span><span class=mf>9</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=kc>null</span><span class=p>)]);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>currentMove</span><span class=p>,</span><span class=w> </span><span class=nx>setCurrentMove</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=mf>0</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>currentSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>history</span><span class=p>[</span><span class=nx>currentMove</span><span class=p>];</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handlePlay</span><span class=p>(</span><span class=nx>nextSquares</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=nx>nextHistory</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[...</span><span class=nx>history</span><span class=p>.</span><span class=nx>slice</span><span class=p>(</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=nx>currentMove</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mf>1</span><span class=p>),</span><span class=w> </span><span class=nx>nextSquares</span><span class=p>];</span>
<span class=w>        </span><span class=nx>setHistory</span><span class=p>(</span><span class=nx>nextHistory</span><span class=p>);</span>
<span class=w>        </span><span class=nx>setCurrentMove</span><span class=p>(</span><span class=nx>nextHistory</span><span class=p>.</span><span class=nx>length</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mf>1</span><span class=p>);</span>
<span class=w>        </span><span class=nx>setXIsNext</span><span class=p>(</span><span class=o>!</span><span class=nx>xIsNext</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>jumpTo</span><span class=p>(</span><span class=nx>nextMove</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>setCurrentMove</span><span class=p>(</span><span class=nx>nextMove</span><span class=p>);</span>
<span class=w>        </span><span class=nx>setXIsNext</span><span class=p>(</span><span class=nx>nextMove</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=mf>2</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=mf>0</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>moves</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>history</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>move</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=nx>description</span><span class=p>;</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>move</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mf>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>description</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Go to move #&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>move</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>description</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Go to game start&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>        </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>li</span><span class=w> </span><span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>move</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>jumpTo</span><span class=p>(</span><span class=nx>move</span><span class=p>)}</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>description</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=w>        </span><span class=p>);</span>
<span class=w>    </span><span class=p>});</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;game&quot;</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;game-board&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Board</span>
<span class=w>                    </span><span class=nx>xIsNext</span><span class=o>=</span><span class=p>{</span><span class=nx>xIsNext</span><span class=p>}</span>
<span class=w>                    </span><span class=nx>squares</span><span class=o>=</span><span class=p>{</span><span class=nx>currentSquares</span><span class=p>}</span>
<span class=w>                    </span><span class=nx>onPlay</span><span class=o>=</span><span class=p>{</span><span class=nx>handlePlay</span><span class=p>}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;game-info&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>ol</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>moves</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/ol&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>calculateWinner</span><span class=p>(</span><span class=nx>squares</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>lines</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span>
<span class=w>        </span><span class=p>[</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=mf>1</span><span class=p>,</span><span class=w> </span><span class=mf>2</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>3</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>5</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>6</span><span class=p>,</span><span class=w> </span><span class=mf>7</span><span class=p>,</span><span class=w> </span><span class=mf>8</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=mf>3</span><span class=p>,</span><span class=w> </span><span class=mf>6</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>1</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>7</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>2</span><span class=p>,</span><span class=w> </span><span class=mf>5</span><span class=p>,</span><span class=w> </span><span class=mf>8</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>8</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>2</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>6</span><span class=p>],</span>
<span class=w>    </span><span class=p>];</span>
<span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kd>let</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=nx>lines</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=p>,</span><span class=w> </span><span class=nx>c</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>lines</span><span class=p>[</span><span class=nx>i</span><span class=p>];</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span>
<span class=w>            </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>]</span><span class=w> </span><span class=o>&amp;&amp;</span>
<span class=w>            </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>]</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>b</span><span class=p>]</span><span class=w> </span><span class=o>&amp;&amp;</span>
<span class=w>            </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>]</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>c</span><span class=p>]</span>
<span class=w>        </span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>];</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span></pre></div></td><td class=code><div><pre><span></span><code><span class=o>*</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>box-sizing</span><span class=p>:</span><span class=w> </span><span class=kc>border-box</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>body</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>font-family</span><span class=p>:</span><span class=w> </span><span class=kc>sans-serif</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>square</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>background</span><span class=p>:</span><span class=w> </span><span class=mh>#fff</span><span class=p>;</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#999</span><span class=p>;</span>
<span class=w>    </span><span class=k>float</span><span class=p>:</span><span class=w> </span><span class=kc>left</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-size</span><span class=p>:</span><span class=w> </span><span class=mi>24</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-weight</span><span class=p>:</span><span class=w> </span><span class=kc>bold</span><span class=p>;</span>
<span class=w>    </span><span class=k>line-height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-right</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-top</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=k>text-align</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>board-row</span><span class=p>:</span><span class=nd>after</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>clear</span><span class=p>:</span><span class=w> </span><span class=kc>both</span><span class=p>;</span>
<span class=w>    </span><span class=k>content</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>;</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>table</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>status</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
<span class=p>.</span><span class=nc>game</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>flex</span><span class=p>;</span>
<span class=w>    </span><span class=k>flex-direction</span><span class=p>:</span><span class=w> </span><span class=kc>row</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>game-info</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-left</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <h3 id=final-cleanup>Final cleanup<a class=headerlink href=#final-cleanup title="Permanent link">&para;</a></h3> <p>If you look at the code very closely, you may notice that <code>xIsNext === true</code> when <code>currentMove</code> is even and <code>xIsNext === false</code> when <code>currentMove</code> is odd. In other words, if you know the value of <code>currentMove</code>, then you can always figure out what <code>xIsNext</code> should be.</p> <p>There's no reason for you to store both of these in state. In fact, always try to avoid redundant state. Simplifying what you store in state reduces bugs and makes your code easier to understand. Change <code>Game</code> so that it doesn't store <code>xIsNext</code> as a separate state variable and instead figures it out based on the <code>currentMove</code>:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Game</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>history</span><span class=p>,</span><span class=w> </span><span class=nx>setHistory</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>([</span><span class=nb>Array</span><span class=p>(</span><span class=mf>9</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=kc>null</span><span class=p>)]);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>currentMove</span><span class=p>,</span><span class=w> </span><span class=nx>setCurrentMove</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=mf>0</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>xIsNext</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>currentMove</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=mf>2</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=mf>0</span><span class=p>;</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>currentSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>history</span><span class=p>[</span><span class=nx>currentMove</span><span class=p>];</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handlePlay</span><span class=p>(</span><span class=nx>nextSquares</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=nx>nextHistory</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[...</span><span class=nx>history</span><span class=p>.</span><span class=nx>slice</span><span class=p>(</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=nx>currentMove</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mf>1</span><span class=p>),</span><span class=w> </span><span class=nx>nextSquares</span><span class=p>];</span>
<span class=w>        </span><span class=nx>setHistory</span><span class=p>(</span><span class=nx>nextHistory</span><span class=p>);</span>
<span class=w>        </span><span class=nx>setCurrentMove</span><span class=p>(</span><span class=nx>nextHistory</span><span class=p>.</span><span class=nx>length</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mf>1</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>jumpTo</span><span class=p>(</span><span class=nx>nextMove</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>setCurrentMove</span><span class=p>(</span><span class=nx>nextMove</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=c1>// ...</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>You no longer need the <code>xIsNext</code> state declaration or the calls to <code>setXIsNext</code>. Now, there's no chance for <code>xIsNext</code> to get out of sync with <code>currentMove</code>, even if you make a mistake while coding the components.</p> <h3 id=wrapping-up>Wrapping up<a class=headerlink href=#wrapping-up title="Permanent link">&para;</a></h3> <p>Congratulations! You've created a tic-tac-toe game that:</p> <ul> <li>Lets you play tic-tac-toe,</li> <li>Indicates when a player has won the game,</li> <li>Stores a game's history as a game progresses,</li> <li>Allows players to review a game's history and see previous versions of a game's board.</li> </ul> <p>Nice work! We hope you now feel like you have a decent grasp of how React works.</p> <p>Check out the final result here:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>  1</span>
<span class=normal>  2</span>
<span class=normal>  3</span>
<span class=normal>  4</span>
<span class=normal>  5</span>
<span class=normal>  6</span>
<span class=normal>  7</span>
<span class=normal>  8</span>
<span class=normal>  9</span>
<span class=normal> 10</span>
<span class=normal> 11</span>
<span class=normal> 12</span>
<span class=normal> 13</span>
<span class=normal> 14</span>
<span class=normal> 15</span>
<span class=normal> 16</span>
<span class=normal> 17</span>
<span class=normal> 18</span>
<span class=normal> 19</span>
<span class=normal> 20</span>
<span class=normal> 21</span>
<span class=normal> 22</span>
<span class=normal> 23</span>
<span class=normal> 24</span>
<span class=normal> 25</span>
<span class=normal> 26</span>
<span class=normal> 27</span>
<span class=normal> 28</span>
<span class=normal> 29</span>
<span class=normal> 30</span>
<span class=normal> 31</span>
<span class=normal> 32</span>
<span class=normal> 33</span>
<span class=normal> 34</span>
<span class=normal> 35</span>
<span class=normal> 36</span>
<span class=normal> 37</span>
<span class=normal> 38</span>
<span class=normal> 39</span>
<span class=normal> 40</span>
<span class=normal> 41</span>
<span class=normal> 42</span>
<span class=normal> 43</span>
<span class=normal> 44</span>
<span class=normal> 45</span>
<span class=normal> 46</span>
<span class=normal> 47</span>
<span class=normal> 48</span>
<span class=normal> 49</span>
<span class=normal> 50</span>
<span class=normal> 51</span>
<span class=normal> 52</span>
<span class=normal> 53</span>
<span class=normal> 54</span>
<span class=normal> 55</span>
<span class=normal> 56</span>
<span class=normal> 57</span>
<span class=normal> 58</span>
<span class=normal> 59</span>
<span class=normal> 60</span>
<span class=normal> 61</span>
<span class=normal> 62</span>
<span class=normal> 63</span>
<span class=normal> 64</span>
<span class=normal> 65</span>
<span class=normal> 66</span>
<span class=normal> 67</span>
<span class=normal> 68</span>
<span class=normal> 69</span>
<span class=normal> 70</span>
<span class=normal> 71</span>
<span class=normal> 72</span>
<span class=normal> 73</span>
<span class=normal> 74</span>
<span class=normal> 75</span>
<span class=normal> 76</span>
<span class=normal> 77</span>
<span class=normal> 78</span>
<span class=normal> 79</span>
<span class=normal> 80</span>
<span class=normal> 81</span>
<span class=normal> 82</span>
<span class=normal> 83</span>
<span class=normal> 84</span>
<span class=normal> 85</span>
<span class=normal> 86</span>
<span class=normal> 87</span>
<span class=normal> 88</span>
<span class=normal> 89</span>
<span class=normal> 90</span>
<span class=normal> 91</span>
<span class=normal> 92</span>
<span class=normal> 93</span>
<span class=normal> 94</span>
<span class=normal> 95</span>
<span class=normal> 96</span>
<span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span>
<span class=normal>101</span>
<span class=normal>102</span>
<span class=normal>103</span>
<span class=normal>104</span>
<span class=normal>105</span>
<span class=normal>106</span>
<span class=normal>107</span>
<span class=normal>108</span>
<span class=normal>109</span>
<span class=normal>110</span>
<span class=normal>111</span>
<span class=normal>112</span>
<span class=normal>113</span>
<span class=normal>114</span>
<span class=normal>115</span>
<span class=normal>116</span>
<span class=normal>117</span>
<span class=normal>118</span>
<span class=normal>119</span>
<span class=normal>120</span>
<span class=normal>121</span>
<span class=normal>122</span>
<span class=normal>123</span>
<span class=normal>124</span>
<span class=normal>125</span>
<span class=normal>126</span>
<span class=normal>127</span>
<span class=normal>128</span>
<span class=normal>129</span>
<span class=normal>130</span>
<span class=normal>131</span>
<span class=normal>132</span>
<span class=normal>133</span>
<span class=normal>134</span>
<span class=normal>135</span>
<span class=normal>136</span>
<span class=normal>137</span>
<span class=normal>138</span>
<span class=normal>139</span>
<span class=normal>140</span>
<span class=normal>141</span>
<span class=normal>142</span>
<span class=normal>143</span>
<span class=normal>144</span>
<span class=normal>145</span>
<span class=normal>146</span>
<span class=normal>147</span>
<span class=normal>148</span>
<span class=normal>149</span>
<span class=normal>150</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>import</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>useState</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=kr>from</span><span class=w> </span><span class=s2>&quot;react&quot;</span><span class=p>;</span>

<span class=kd>function</span><span class=w> </span><span class=nx>Square</span><span class=p>({</span><span class=w> </span><span class=nx>value</span><span class=p>,</span><span class=w> </span><span class=nx>onSquareClick</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;square&quot;</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{</span><span class=nx>onSquareClick</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>            </span><span class=p>{</span><span class=nx>value</span><span class=p>}</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>Board</span><span class=p>({</span><span class=w> </span><span class=nx>xIsNext</span><span class=p>,</span><span class=w> </span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>onPlay</span><span class=w> </span><span class=p>})</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>calculateWinner</span><span class=p>(</span><span class=nx>squares</span><span class=p>)</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>i</span><span class=p>])</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=k>return</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=nx>nextSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>squares</span><span class=p>.</span><span class=nx>slice</span><span class=p>();</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>xIsNext</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>nextSquares</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>nextSquares</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;O&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>        </span><span class=nx>onPlay</span><span class=p>(</span><span class=nx>nextSquares</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>winner</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>calculateWinner</span><span class=p>(</span><span class=nx>squares</span><span class=p>);</span>
<span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=nx>status</span><span class=p>;</span>
<span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>winner</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Winner: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>winner</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Next player: &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=p>(</span><span class=nx>xIsNext</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=s2>&quot;X&quot;</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s2>&quot;O&quot;</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;status&quot;</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>status</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>0</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>0</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>1</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>1</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>2</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>2</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>3</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>3</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>4</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>4</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>5</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>5</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;board-row&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>6</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>6</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>7</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>7</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Square</span>
<span class=w>                    </span><span class=nx>value</span><span class=o>=</span><span class=p>{</span><span class=nx>squares</span><span class=p>[</span><span class=mf>8</span><span class=p>]}</span>
<span class=w>                    </span><span class=nx>onSquareClick</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>handleClick</span><span class=p>(</span><span class=mf>8</span><span class=p>)}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=k>export</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=kd>function</span><span class=w> </span><span class=nx>Game</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>history</span><span class=p>,</span><span class=w> </span><span class=nx>setHistory</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>([</span><span class=nb>Array</span><span class=p>(</span><span class=mf>9</span><span class=p>).</span><span class=nx>fill</span><span class=p>(</span><span class=kc>null</span><span class=p>)]);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>currentMove</span><span class=p>,</span><span class=w> </span><span class=nx>setCurrentMove</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useState</span><span class=p>(</span><span class=mf>0</span><span class=p>);</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>xIsNext</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>currentMove</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=mf>2</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=mf>0</span><span class=p>;</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>currentSquares</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>history</span><span class=p>[</span><span class=nx>currentMove</span><span class=p>];</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>handlePlay</span><span class=p>(</span><span class=nx>nextSquares</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=nx>nextHistory</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[...</span><span class=nx>history</span><span class=p>.</span><span class=nx>slice</span><span class=p>(</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=nx>currentMove</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mf>1</span><span class=p>),</span><span class=w> </span><span class=nx>nextSquares</span><span class=p>];</span>
<span class=w>        </span><span class=nx>setHistory</span><span class=p>(</span><span class=nx>nextHistory</span><span class=p>);</span>
<span class=w>        </span><span class=nx>setCurrentMove</span><span class=p>(</span><span class=nx>nextHistory</span><span class=p>.</span><span class=nx>length</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mf>1</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=kd>function</span><span class=w> </span><span class=nx>jumpTo</span><span class=p>(</span><span class=nx>nextMove</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>setCurrentMove</span><span class=p>(</span><span class=nx>nextMove</span><span class=p>);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>moves</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>history</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>squares</span><span class=p>,</span><span class=w> </span><span class=nx>move</span><span class=p>)</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=nx>description</span><span class=p>;</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>move</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mf>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>description</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Go to move #&quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nx>move</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=nx>description</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;Go to game start&quot;</span><span class=p>;</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>        </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>li</span><span class=w> </span><span class=nx>key</span><span class=o>=</span><span class=p>{</span><span class=nx>move</span><span class=p>}</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>button</span><span class=w> </span><span class=nx>on_click</span><span class=o>=</span><span class=p>{()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=nx>jumpTo</span><span class=p>(</span><span class=nx>move</span><span class=p>)}</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>description</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/button&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/li&gt;</span>
<span class=w>        </span><span class=p>);</span>
<span class=w>    </span><span class=p>});</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
<span class=w>        </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;game&quot;</span><span class=o>&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;game-board&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>Board</span>
<span class=w>                    </span><span class=nx>xIsNext</span><span class=o>=</span><span class=p>{</span><span class=nx>xIsNext</span><span class=p>}</span>
<span class=w>                    </span><span class=nx>squares</span><span class=o>=</span><span class=p>{</span><span class=nx>currentSquares</span><span class=p>}</span>
<span class=w>                    </span><span class=nx>onPlay</span><span class=o>=</span><span class=p>{</span><span class=nx>handlePlay</span><span class=p>}</span>
<span class=w>                </span><span class=o>/&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;game-info&quot;</span><span class=o>&gt;</span>
<span class=w>                </span><span class=o>&lt;</span><span class=nx>ol</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>moves</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/ol&gt;</span>
<span class=w>            </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>        </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
<span class=w>    </span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span><span class=w> </span><span class=nx>calculateWinner</span><span class=p>(</span><span class=nx>squares</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kd>const</span><span class=w> </span><span class=nx>lines</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span>
<span class=w>        </span><span class=p>[</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=mf>1</span><span class=p>,</span><span class=w> </span><span class=mf>2</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>3</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>5</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>6</span><span class=p>,</span><span class=w> </span><span class=mf>7</span><span class=p>,</span><span class=w> </span><span class=mf>8</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=mf>3</span><span class=p>,</span><span class=w> </span><span class=mf>6</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>1</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>7</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>2</span><span class=p>,</span><span class=w> </span><span class=mf>5</span><span class=p>,</span><span class=w> </span><span class=mf>8</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>0</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>8</span><span class=p>],</span>
<span class=w>        </span><span class=p>[</span><span class=mf>2</span><span class=p>,</span><span class=w> </span><span class=mf>4</span><span class=p>,</span><span class=w> </span><span class=mf>6</span><span class=p>],</span>
<span class=w>    </span><span class=p>];</span>
<span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kd>let</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=nx>lines</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span><span class=w> </span><span class=nx>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=kd>const</span><span class=w> </span><span class=p>[</span><span class=nx>a</span><span class=p>,</span><span class=w> </span><span class=nx>b</span><span class=p>,</span><span class=w> </span><span class=nx>c</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>lines</span><span class=p>[</span><span class=nx>i</span><span class=p>];</span>
<span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span>
<span class=w>            </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>]</span><span class=w> </span><span class=o>&amp;&amp;</span>
<span class=w>            </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>]</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>b</span><span class=p>]</span><span class=w> </span><span class=o>&amp;&amp;</span>
<span class=w>            </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>]</span><span class=w> </span><span class=o>===</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>c</span><span class=p>]</span>
<span class=w>        </span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=k>return</span><span class=w> </span><span class=nx>squares</span><span class=p>[</span><span class=nx>a</span><span class=p>];</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span></pre></div></td><td class=code><div><pre><span></span><code><span class=o>*</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>box-sizing</span><span class=p>:</span><span class=w> </span><span class=kc>border-box</span><span class=p>;</span>
<span class=p>}</span>

<span class=nt>body</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>font-family</span><span class=p>:</span><span class=w> </span><span class=kc>sans-serif</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>square</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>background</span><span class=p>:</span><span class=w> </span><span class=mh>#fff</span><span class=p>;</span>
<span class=w>    </span><span class=k>border</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=kt>px</span><span class=w> </span><span class=kc>solid</span><span class=w> </span><span class=mh>#999</span><span class=p>;</span>
<span class=w>    </span><span class=k>float</span><span class=p>:</span><span class=w> </span><span class=kc>left</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-size</span><span class=p>:</span><span class=w> </span><span class=mi>24</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>font-weight</span><span class=p>:</span><span class=w> </span><span class=kc>bold</span><span class=p>;</span>
<span class=w>    </span><span class=k>line-height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>height</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-right</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>margin-top</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=kt>px</span><span class=p>;</span>
<span class=w>    </span><span class=k>padding</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=k>text-align</span><span class=p>:</span><span class=w> </span><span class=kc>center</span><span class=p>;</span>
<span class=w>    </span><span class=k>width</span><span class=p>:</span><span class=w> </span><span class=mi>34</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>board-row</span><span class=p>:</span><span class=nd>after</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>clear</span><span class=p>:</span><span class=w> </span><span class=kc>both</span><span class=p>;</span>
<span class=w>    </span><span class=k>content</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>;</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>table</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>status</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-bottom</span><span class=p>:</span><span class=w> </span><span class=mi>10</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
<span class=p>.</span><span class=nc>game</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>display</span><span class=p>:</span><span class=w> </span><span class=kc>flex</span><span class=p>;</span>
<span class=w>    </span><span class=k>flex-direction</span><span class=p>:</span><span class=w> </span><span class=kc>row</span><span class=p>;</span>
<span class=p>}</span>

<span class=p>.</span><span class=nc>game-info</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>margin-left</span><span class=p>:</span><span class=w> </span><span class=mi>20</span><span class=kt>px</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>If you have extra time or want to practice your new React skills, here are some ideas for improvements that you could make to the tic-tac-toe game, listed in order of increasing difficulty:</p> <ol> <li>For the current move only, show "You are at move #..." instead of a button.</li> <li>Rewrite <code>Board</code> to use two loops to make the squares instead of hardcoding them.</li> <li>Add a toggle button that lets you sort the moves in either ascending or descending order.</li> <li>When someone wins, highlight the three squares that caused the win (and when no one wins, display a message about the result being a draw).</li> <li>Display the location for each move in the format (row, col) in the move history list.</li> </ol> <p>Throughout this tutorial, you've touched on React concepts including elements, components, props, and state. Now that you've seen how these concepts work when building a game, check out <a href=/learn/thinking-in-react>Thinking in React</a> to see how the same React concepts work when build an app's UI.</p> <hr> <div class=md-source-file> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="March 15, 2025 05:07:23">March 15, 2025</span> </small> </div> <div class=md-source-date> <small> Authors: <span class="git-page-authors git-authors"><a href=mailto:16909269+archmonger@users.noreply.github.com>Archmonger</a></span> </small> </div> </article> </div> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy;<div id=year> </div> <script> document.getElementById("year").innerHTML = new Date().getFullYear(); </script>Reactive Python and affiliates.<div class=legal-footer-right>This project has no affiliation to ReactJS or Meta Platforms, Inc.</div> </div> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.top", "content.code.copy", "search.highlight"], "search": "../../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.4e0fa4ba.min.js></script> <script src=../../assets/js/main.js></script> </body> </html>